; ---------------------------------------------------------------------------

tm		struc ;	(sizeof=0x12, standard type)
tm_sec		dw ?
tm_min		dw ?
tm_hour		dw ?
tm_mday		dw ?
tm_mon		dw ?
tm_year		dw ?
tm_wday		dw ?
tm_yday		dw ?
tm_isdst	dw ?
tm		ends

; ---------------------------------------------------------------------------

time		struc ;	(sizeof=0x4, standard type)
ti_min		db ?
ti_hour		db ?
ti_hund		db ?
ti_sec		db ?
time		ends

; ---------------------------------------------------------------------------

date		struc ;	(sizeof=0x4, standard type)
da_year		dw ?
da_day		db ?
da_mon		db ?
date		ends

; ---------------------------------------------------------------------------

ffblk		struc ;	(sizeof=0x2B, standard type)
ff_reserved	db 21 dup(?)
ff_attrib	db ?
ff_ftime	dw ?
ff_fdate	dw ?
ff_fsize	dd ?
ff_name		db 13 dup(?)
ffblk		ends

; ---------------------------------------------------------------------------

FILE		struc ;	(sizeof=0x14, standard type)
level		dw ?
flags		dw ?
fd		db ?
hold		db ?
bsize		dw ?
buffer		dd ?			; offset
curp		dd ?			; offset
istemp		dw ?
token		dw ?
FILE		ends


;
; +-------------------------------------------------------------------------+
; |   This file has been generated by The Interactive Disassembler (IDA)    |
; |        Copyright (c) 2009 by Hex-Rays, <support@hex-rays.com>           |
; +-------------------------------------------------------------------------+
;
; Input	MD5   :	35C8E214469734B0354C64B957B122B9

; Format      :	MS-DOS executable (EXE)
; Base Address:	0h Range: 0h-142A0h Loaded length: 1023Eh
; Entry	Point :	0:0
; OS type	  :  MS	DOS
; Application type:  Executable	16bit

		.286

	extrn ___assertfail:proc
	extrn __chmod:proc
	extrn __close:proc
	extrn __creat:proc
	extrn __getswitchar:proc
	extrn __open:proc
	extrn __read:proc
	extrn __setargv__:proc ; main() needs both to be set
	extrn __setenvp__:proc
	extrn __write:proc
	extrn _access:proc
	extrn _asctime:proc
	extrn _bdos:proc
	extrn _bsearch:proc
	extrn _chsize:proc
	extrn _close:proc
	extrn _exit:proc
	extrn _farcoreleft:proc
	extrn _farfree:proc
	extrn _findfirst:proc
	extrn _findnext:proc
	extrn _flushall:proc
	extrn _fprintf:proc
	extrn _getdate:proc
	extrn _getdisk:proc
	extrn _getenv:proc
	extrn _gettime:proc
	extrn _lseek:proc
	extrn _malloc:proc
	extrn _memchr:proc
	extrn _memmove:proc
	extrn _memset:proc
	extrn _mktime:proc
	extrn _open:proc
	extrn _puts:proc
	extrn _read:proc
	extrn _spawnve:proc
	extrn _sprintf:proc
	extrn _stpcpy:proc
	extrn _strcat:proc
	extrn _strchr:proc
	extrn _strcmp:proc
	extrn _strcpy:proc
	extrn _stricmp:proc
	extrn _strlen:proc
	extrn _strlwr:proc
	extrn _strncmp:proc
	extrn _strncpy:proc
	extrn _strnicmp:proc
	extrn _strstr:proc
	extrn _strupr:proc
	extrn _tolower:proc
	extrn _unlink:proc
	extrn _write:proc
	extrn N_LDIV@:proc
	extrn N_LMOD@:proc
	extrn N_LXLSH@:proc
	extrn N_LXMUL@:proc
	extrn N_LXRSH@:proc
	extrn N_LXURSH@:proc
	extrn N_SCOPY@:proc
	extrn _freeio:proc

	extrn __argv:dword
	extrn __brklvl
	extrn __heaptop
	extrn __psp:word
	extrn __streams
	extrn __version:byte
	extrn _errno

_stdout = __streams + (1 * size FILE)

DGROUP group _DATA, _BSS

; ===========================================================================

; Segment type:	Pure code
_TEXT	segment byte public 'CODE' use16
		assume cs:_TEXT
		assume es:nothing, ds:DGROUP

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_263		proc near

var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
mtime		= word ptr -4
mdate		= word ptr -2
arg_0		= word ptr  4
arg_2		= dword	ptr  6

		enter	14h, 0
		cmp	word_F4FA, 0
		jz	short loc_277
		push	word ptr [bp+arg_2+2]
		push	word ptr [bp+arg_2]
		call	sub_1AF2

loc_277:
		les	bx, [bp+arg_2]
		cmp	byte ptr es:[bx+22h], 1
		jnz	short loc_284
		jmp	loc_655
; ---------------------------------------------------------------------------

loc_284:
		les	bx, [bp+arg_2]
		mov	ax, es:[bx+1Eh]
		or	ax, es:[bx+20h]
		jz	short loc_29D
		mov	dx, es:[bx+20h]
		mov	ax, es:[bx+1Eh]
		leave
		retn	6
; ---------------------------------------------------------------------------

loc_29D:
		les	bx, [bp+arg_2]
		mov	ax, es:[bx+14h]
		or	ax, es:[bx+16h]
		jz	short loc_328
		mov	[bp+var_6], 0
		mov	[bp+var_8], 0
		mov	byte ptr es:[bx+22h], 1
		mov	dx, es:[bx+16h]
		mov	ax, es:[bx+14h]
		jmp	short loc_310
; ---------------------------------------------------------------------------

loc_2C3:
		les	bx, [bp+var_10]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		cmp	dx, word ptr [bp+arg_2+2]
		jnz	short loc_2D8
		cmp	ax, word ptr [bp+arg_2]
		jz	short loc_31E

loc_2D8:
		les	bx, [bp+var_10]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		push	0
		call	sub_263
		mov	[bp+mdate], dx
		mov	[bp+mtime], ax
		cmp	dx, [bp+var_6]
		jb	short loc_306
		ja	short loc_2FA
		cmp	ax, [bp+var_8]
		jbe	short loc_306

loc_2FA:
		mov	dx, [bp+mdate]
		mov	ax, [bp+mtime]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax

loc_306:
		les	bx, [bp+var_10]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]

loc_310:
		mov	word ptr [bp+var_10+2],	dx
		mov	word ptr [bp+var_10], ax
		mov	ax, word ptr [bp+var_10]
		or	ax, word ptr [bp+var_10+2]
		jnz	short loc_2C3

loc_31E:
		les	bx, [bp+arg_2]
		mov	byte ptr es:[bx+22h], 0
		jmp	short loc_332
; ---------------------------------------------------------------------------

loc_328:
		mov	[bp+var_6], 0
		mov	[bp+var_8], 0

loc_332:
		les	bx, [bp+arg_2]
		mov	ax, es:[bx+0Ch]
		or	ax, es:[bx+0Eh]
		jnz	short loc_342
		jmp	loc_446
; ---------------------------------------------------------------------------

loc_342:
		mov	ax, es:[bx+1Eh]
		or	ax, es:[bx+20h]
		jz	short loc_356
		mov	dx, es:[bx+20h]
		mov	ax, es:[bx+1Eh]
		jmp	short loc_363
; ---------------------------------------------------------------------------

loc_356:
		les	bx, [bp+arg_2]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; path
		call	mtime_get

loc_363:
		mov	[bp+mdate], dx
		mov	[bp+mtime], ax
		cmp	flag_autodepend, 0
		jz	short loc_3D3
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		cmp	dx, [bp+mdate]
		ja	short loc_3D3
		jnz	short loc_382
		cmp	ax, [bp+mtime]
		ja	short loc_3D3

loc_382:
		les	bx, [bp+arg_2]
		mov	ax, es:[bx+18h]
		or	ax, es:[bx+1Ah]
		jz	short loc_3D3
		push	ds
		push	offset aObj	; "obj"
		les	bx, es:[bx+18h]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s1
		call	_stricmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_3D3
		les	bx, [bp+arg_2]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; path
		call	sub_13CF
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		cmp	dx, [bp+var_6]
		jb	short loc_3D3
		ja	short loc_3C7
		cmp	ax, [bp+var_8]
		jbe	short loc_3D3

loc_3C7:
		mov	dx, [bp+var_A]
		mov	ax, [bp+var_C]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax

loc_3D3:
		mov	ax, [bp+mtime]
		or	ax, [bp+mdate]
		jz	short loc_402
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		cmp	dx, [bp+mdate]
		ja	short loc_402
		jnz	short loc_3ED
		cmp	ax, [bp+mtime]
		ja	short loc_402

loc_3ED:
		mov	ax, [bp+mtime]
		or	ax, [bp+mdate]
		jnz	short loc_3F8
		jmp	loc_65D
; ---------------------------------------------------------------------------

loc_3F8:
		cmp	word_F50A, 0
		jnz	short loc_402
		jmp	loc_65D
; ---------------------------------------------------------------------------

loc_402:
		cmp	word_F502, 0
		jz	short loc_40E
		push	1		; status
		call	sub_8E01
; ---------------------------------------------------------------------------

loc_40E:
		mov	dx, word ptr [bp+arg_2+2]
		mov	ax, word ptr [bp+arg_2]
		mov	word ptr dword_102E8+2,	dx
		mov	word ptr dword_102E8, ax
		mov	word_102EC, 0
		les	bx, [bp+arg_2]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src
		push	word ptr es:[bx+0Eh]
		push	word ptr es:[bx+0Ch] ; __int32
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; path
		mov	al, es:[bx+24h]
		cbw
		push	ax		; int
		call	sub_D88
		jmp	loc_5B5
; ---------------------------------------------------------------------------

loc_446:
		les	bx, [bp+arg_2]
		mov	ax, es:[bx+18h]
		or	ax, es:[bx+1Ah]
		jnz	short loc_456
		jmp	loc_5F6
; ---------------------------------------------------------------------------

loc_456:
		mov	byte ptr es:[bx+22h], 1
		les	bx, es:[bx+18h]
		mov	dx, es:[bx+0Ah]
		mov	ax, es:[bx+8]
		jmp	loc_5DD
; ---------------------------------------------------------------------------

loc_46A:
		push	word ptr [bp+arg_2+2]
		push	word ptr [bp+arg_2]
		les	bx, [bp+arg_2]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		push	word ptr [bp+var_14+2]
		push	word ptr [bp+var_14]
		call	sub_1327
		mov	[bp+mdate], dx
		mov	[bp+mtime], ax
		or	ax, [bp+mdate]
		jnz	short loc_492
		jmp	loc_5D2
; ---------------------------------------------------------------------------

loc_492:
		mov	ax, [bp+mtime]
		cmp	dx, [bp+var_6]
		jb	short loc_4AD
		ja	short loc_4A1
		cmp	ax, [bp+var_8]
		jbe	short loc_4AD

loc_4A1:
		mov	dx, [bp+mdate]
		mov	ax, [bp+mtime]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax

loc_4AD:
		les	bx, [bp+arg_2]
		mov	ax, es:[bx+1Eh]
		or	ax, es:[bx+20h]
		jz	short loc_4C4
		mov	dx, es:[bx+20h]
		mov	ax, es:[bx+1Eh]
		jmp	short loc_4D1
; ---------------------------------------------------------------------------

loc_4C4:
		les	bx, [bp+arg_2]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; path
		call	mtime_get

loc_4D1:
		mov	[bp+mdate], dx
		mov	[bp+mtime], ax
		cmp	flag_autodepend, 0
		jz	short loc_537
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		cmp	dx, [bp+mdate]
		ja	short loc_537
		jnz	short loc_4F0
		cmp	ax, [bp+mtime]
		ja	short loc_537

loc_4F0:
		push	ds
		push	offset aObj	; "obj"
		les	bx, [bp+arg_2]
		les	bx, es:[bx+18h]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s1
		call	_stricmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_537
		les	bx, [bp+arg_2]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; path
		call	sub_13CF
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		cmp	dx, [bp+var_6]
		jb	short loc_537
		ja	short loc_52B
		cmp	ax, [bp+var_8]
		jbe	short loc_537

loc_52B:
		mov	dx, [bp+var_A]
		mov	ax, [bp+var_C]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax

loc_537:
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		cmp	dx, [bp+mdate]
		ja	short loc_558
		jnz	short loc_549
		cmp	ax, [bp+mtime]
		ja	short loc_558

loc_549:
		mov	ax, [bp+mtime]
		or	ax, [bp+mdate]
		jz	short loc_5C7
		cmp	word_F50A, 0
		jz	short loc_5C7

loc_558:
		cmp	word_F502, 0
		jz	short loc_564
		push	1		; status
		call	sub_8E01
; ---------------------------------------------------------------------------

loc_564:
		mov	dx, word ptr [bp+arg_2+2]
		mov	ax, word ptr [bp+arg_2]
		mov	word ptr dword_102E8+2,	dx
		mov	word ptr dword_102E8, ax
		mov	word_102EC, 1
		push	dx
		push	ax
		les	bx, [bp+arg_2]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		push	word ptr [bp+var_14+2]
		push	word ptr [bp+var_14]
		call	sub_11AF
		push	dx
		push	ax		; src
		les	bx, [bp+var_14]
		push	word ptr es:[bx+12h]
		push	word ptr es:[bx+10h] ; __int32
		les	bx, [bp+arg_2]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; path
		mov	al, es:[bx+24h]
		cbw
		push	ax		; int
		call	sub_D88
		les	bx, [bp+arg_2]
		mov	byte ptr es:[bx+22h], 0

loc_5B5:
		call	sub_56D6
		les	bx, [bp+arg_2]
		mov	es:[bx+20h], dx
		mov	es:[bx+1Eh], ax
		leave
		retn	6
; ---------------------------------------------------------------------------

loc_5C7:
		les	bx, [bp+arg_2]
		mov	byte ptr es:[bx+22h], 0
		jmp	loc_65D
; ---------------------------------------------------------------------------

loc_5D2:
		les	bx, [bp+var_14]
		mov	dx, es:[bx+0Ah]
		mov	ax, es:[bx+8]

loc_5DD:
		mov	word ptr [bp+var_14+2],	dx
		mov	word ptr [bp+var_14], ax
		mov	ax, word ptr [bp+var_14]
		or	ax, word ptr [bp+var_14+2]
		jz	short loc_5EE
		jmp	loc_46A
; ---------------------------------------------------------------------------

loc_5EE:
		les	bx, [bp+arg_2]
		mov	byte ptr es:[bx+22h], 0

loc_5F6:
		les	bx, [bp+arg_2]
		mov	ax, es:[bx+1Eh]
		or	ax, es:[bx+20h]
		jz	short loc_60D
		mov	dx, es:[bx+20h]
		mov	ax, es:[bx+1Eh]
		jmp	short loc_61A
; ---------------------------------------------------------------------------

loc_60D:
		les	bx, [bp+arg_2]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; path
		call	mtime_get

loc_61A:
		mov	[bp+mdate], dx
		mov	[bp+mtime], ax
		or	ax, [bp+mdate]
		jnz	short loc_65D
		les	bx, [bp+arg_2]
		mov	ax, es:[bx+14h]
		or	ax, es:[bx+16h]
		jz	short loc_639
		call	sub_56D6
		leave
		retn	6
; ---------------------------------------------------------------------------

loc_639:
		cmp	[bp+arg_0], 0
		jnz	short loc_655
		les	bx, [bp+arg_2]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	ds
		push	offset aSDoesNotExistD ; "'%s' does not exist - don't know how to"...
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 8
		jmp	short loc_65D
; ---------------------------------------------------------------------------

loc_655:
		xor	dx, dx
		xor	ax, ax
		leave
		retn	6
; ---------------------------------------------------------------------------

loc_65D:
		les	bx, [bp+arg_2]
		mov	dx, [bp+mdate]
		mov	ax, [bp+mtime]
		mov	es:[bx+20h], dx
		mov	es:[bx+1Eh], ax
		leave
		retn	6
sub_263		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_672		proc near

var_4		= dword	ptr -4
@@src		= dword	ptr  4
arg_4		= dword	ptr  8

		enter	4, 0
		push	si
		push	di
		mov	word_102EE, 1
		jmp	loc_733
; ---------------------------------------------------------------------------

loc_681:
		push	0		; attribute
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6] ; path
		call	__creat
		add	sp, 6
		mov	di, ax
		cmp	ax, 0FFFFh
		jnz	short loc_6B5
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6]
		push	ds
		push	offset aFatalCouldNotC ; "Fatal:  Could	not create temporary file"...
		call	sub_8E0F
		add	sp, 8
		push	1		; status
		call	sub_8E01
; ---------------------------------------------------------------------------

loc_6B5:
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		jmp	short loc_70F
; ---------------------------------------------------------------------------

loc_6C2:
		les	bx, [bp+var_4]
		push	word ptr es:[bx+6] ; int
		push	word ptr es:[bx+4] ; int
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		call	sub_6C4D
		push	ds
		push	offset DGROUP:byte_1285A ; s
		call	_strlen
		add	sp, 4
		mov	si, ax
		cmp	byte ptr [si+4759h], 0Ah
		jnz	short loc_6F9
		mov	byte ptr [si+4759h], 0Dh
		mov	byte ptr [si+475Ah], 0Ah
		inc	si
		mov	byte ptr [si+475Ah], 0

loc_6F9:
		push	si		; len
		push	ds
		push	offset DGROUP:byte_1285A ; buf
		push	di		; handle
		call	__write
		add	sp, 8
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]

loc_70F:
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_6C2
		push	di		; handle
		call	__close
		pop	cx
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		mov	word ptr [bp+arg_4+2], dx
		mov	word ptr [bp+arg_4], ax

loc_733:
		mov	ax, word ptr [bp+arg_4]
		or	ax, word ptr [bp+arg_4+2]
		jz	short loc_73E
		jmp	loc_681
; ---------------------------------------------------------------------------

loc_73E:
		mov	word_102EE, 0
		pop	di
		pop	si
		leave
		retn	8
sub_672		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_74A		proc near

arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		jmp	short loc_781
; ---------------------------------------------------------------------------

loc_74F:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 0
		jz	short loc_75F
		cmp	byte ptr es:[bx+1], 0
		jnz	short loc_770

loc_75F:
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6] ; path
		call	_unlink
		add	sp, 4

loc_770:
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax

loc_781:
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_74F
		pop	bp
		retn	4
sub_74A		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_78D		proc near
		push	bp
		mov	bp, sp
		cmp	flag_keep, 0
		jz	short loc_7C1
		cmp	word_F50E, 0
		jz	short loc_7CA
		jmp	short loc_7C1
; ---------------------------------------------------------------------------

loc_7A0:
		les	bx, dword_E296
		push	word ptr es:[bx+0Eh]
		push	word ptr es:[bx+0Ch]
		call	sub_74A
		les	bx, dword_E296
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr dword_E296+2, dx
		mov	word ptr dword_E296, ax

loc_7C1:
		mov	ax, word ptr dword_E296
		or	ax, word ptr dword_E296+2
		jnz	short loc_7A0

loc_7CA:
		mov	word ptr dword_E296+2, 0
		mov	word ptr dword_E296, 0
		pop	bp
		retn
sub_78D		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_7D8		proc near

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= dword	ptr -8
@@s		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	0Ch, 0
		cmp	word_F4FC, 0
		jz	short loc_7F9
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	ds
		push	offset aS	; "\t%s\n"
		call	sub_8E0F
		add	sp, 8
		xor	ax, ax
		leave
		retn	6
; ---------------------------------------------------------------------------

loc_7F9:
		mov	dx, [bp+arg_4]
		mov	ax, [bp+arg_2]
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		jmp	short loc_816
; ---------------------------------------------------------------------------

loc_813:
		inc	word ptr [bp+@@s]

loc_816:
		les	bx, [bp+@@s]
		cmp	byte ptr es:[bx], 0
		jz	short loc_825
		cmp	byte ptr es:[bx], 20h ;	' '
		jnz	short loc_813

loc_825:
		mov	dx, word ptr [bp+@@s+2]
		mov	ax, word ptr [bp+@@s]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		jmp	short loc_836
; ---------------------------------------------------------------------------

loc_833:
		inc	word ptr [bp+@@s]

loc_836:
		les	bx, [bp+@@s]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_833
		cmp	[bp+arg_0], 0
		jnz	short loc_855
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	ds
		push	offset aS	; "\t%s\n"
		call	sub_8E0F
		add	sp, 8

loc_855:
		les	bx, [bp+var_8]
		mov	byte ptr es:[bx], 0
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	_strlen
		add	sp, 4
		cmp	ax, word_E294
		jbe	short loc_878
		push	ds
		push	offset aCommandArgumen ; "Command arguments too	long"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 4

loc_878:
		push	[bp+var_A]	; int
		push	[bp+var_C]	; int
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	sub_5886
		leave
		retn	6
sub_7D8		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_88B(int, __int32, char *s2)
sub_88B		proc near

var_A		= word ptr -0Ah
@@src		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= dword	ptr  6
@@s2		= dword	ptr  0Ah

		enter	0Ah, 0
		push	si
		push	di
		mov	di, [bp+arg_0]
		push	7Bh ; '{'       ; c
		push	word ptr [bp+@@s2+2]
		push	word ptr [bp+@@s2] ; s
		call	_strchr
		add	sp, 6
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		push	7Dh ; '}'       ; c
		push	word ptr [bp+@@s2+2]
		push	word ptr [bp+@@s2] ; s
		call	_strchr
		add	sp, 6
		mov	word ptr [bp+@@src+2], dx
		mov	word ptr [bp+@@src], ax
		mov	ax, word_E294
		add	ax, 0FFFCh
		mov	[bp+var_A], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jz	short loc_905
		mov	ax, word ptr [bp+@@src]
		or	ax, word ptr [bp+@@src+2]
		jz	short loc_905
		push	word ptr [bp+@@s2+2]
		push	word ptr [bp+@@s2] ; s
		call	_strlen
		add	sp, 4
		cmp	ax, [bp+var_A]
		ja	short loc_905
		mov	ax, word ptr [bp+@@src]
		cmp	ax, word ptr [bp+var_4]
		jbe	short loc_905
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		inc	ax
		cmp	dx, word ptr [bp+@@src+2]
		jz	short loc_8FD
		jmp	loc_99D
; ---------------------------------------------------------------------------

loc_8FD:
		cmp	ax, word ptr [bp+@@src]
		jz	short loc_905
		jmp	loc_99D
; ---------------------------------------------------------------------------

loc_905:
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jz	short loc_934
		mov	ax, word ptr [bp+@@src]
		or	ax, word ptr [bp+@@src+2]
		jz	short loc_934
		push	word ptr [bp+@@s2+2]
		push	word ptr [bp+@@s2] ; s
		call	_strlen
		add	sp, 4
		cmp	ax, [bp+var_A]
		jbe	short loc_934
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 20h ;	' '
		les	bx, [bp+@@src]
		mov	byte ptr es:[bx], 20h ;	' '

loc_934:
		cmp	dest, 0
		jz	short loc_997
		cmp	word_E29C, 0FFFFh
		jz	short loc_96C
		push	ds
		push	offset a@	; "@"
		push	ds
		push	offset dest	; dest
		call	_strcat
		add	sp, 8
		push	ds
		push	offset DGROUP:byte_102F4 ; src
		push	ds
		push	offset dest	; dest
		call	_strcat
		add	sp, 8
		push	word_E29C	; handle
		call	_close
		pop	cx
		mov	word_E29C, 0FFFFh

loc_96C:
		push	ds
		push	offset dest
		push	di
		call	sub_7D8
		mov	si, ax
		mov	dest, 0
		mov	word_E28E, 0
		mov	src, 0
		or	si, si
		jge	short loc_98E
		jmp	loc_BC8
; ---------------------------------------------------------------------------

loc_98E:
		cmp	si, bdata@
		jle	short loc_997
		jmp	loc_BC8
; ---------------------------------------------------------------------------

loc_997:
		mov	ax, 0FFFFh
		jmp	loc_C79
; ---------------------------------------------------------------------------

loc_99D:
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		inc	word ptr [bp+var_4]
		les	bx, [bp+@@src]
		mov	byte ptr es:[bx], 0
		inc	word ptr [bp+@@src]
		cmp	word_F508, 0
		jnz	short loc_9D8
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; s
		call	_strlen
		add	sp, 4
		push	ax
		push	ds
		push	offset dest	; s
		call	_strlen
		add	sp, 4
		pop	dx
		add	dx, ax
		inc	dx
		cmp	dx, [bp+var_A]
		jbe	short loc_A03

loc_9D8:
		push	ds
		push	offset dest
		push	di
		call	sub_7D8
		mov	si, ax
		mov	dest, 0
		mov	word_E28E, 0
		mov	src, 0
		or	si, si
		jge	short loc_9FA
		jmp	loc_BC8
; ---------------------------------------------------------------------------

loc_9FA:
		cmp	si, bdata@
		jle	short loc_A03
		jmp	loc_BC8
; ---------------------------------------------------------------------------

loc_A03:
		cmp	dest, 0
		jz	short loc_A0D
		jmp	loc_A91
; ---------------------------------------------------------------------------

loc_A0D:
		les	bx, [bp+arg_2]
		mov	ax, es:[bx]
		mov	bdata@, ax
		push	word ptr [bp+@@s2+2]
		push	word ptr [bp+@@s2] ; src
		push	ds
		push	offset dest	; dest
		call	_strcpy
		add	sp, 8
		push	ds
		push	offset dest	; s
		call	_strlen
		add	sp, 4
		mov	maxlen,	ax
		push	ds
		push	offset dest	; s
		call	_strlen
		add	sp, 4
		add	ax, 90h	; 'ê'
		mov	word_E28E, ds
		mov	src, ax
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; s
		call	_strlen
		add	sp, 4
		mov	word_E292, ax
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		push	ds
		push	offset dest	; dest
		call	_strcat
		add	sp, 8
		cmp	word_F4F0, 0
		jnz	short loc_A70
		jmp	loc_BCD
; ---------------------------------------------------------------------------

loc_A70:
		call	sub_448A
		push	dx
		push	ax		; src
		push	ds
		push	offset DGROUP:byte_102F4 ; dest
		call	_strcpy
		add	sp, 8
		push	0		; attribute
		push	ds
		push	offset DGROUP:byte_102F4 ; path
		call	__creat
		add	sp, 6
		mov	word_E29C, ax
		jmp	loc_BCD
; ---------------------------------------------------------------------------

loc_A91:
		push	word ptr [bp+@@s2+2]
		push	word ptr [bp+@@s2] ; s
		call	_strlen
		add	sp, 4
		cmp	ax, maxlen
		jnb	short loc_AA8
		mov	ax, maxlen
		jmp	short loc_AB4
; ---------------------------------------------------------------------------

loc_AA8:
		push	word ptr [bp+@@s2+2]
		push	word ptr [bp+@@s2] ; s
		call	_strlen
		add	sp, 4

loc_AB4:
		push	ax		; maxlen
		push	word ptr [bp+@@s2+2]
		push	word ptr [bp+@@s2] ; s2
		push	ds
		push	offset dest	; s1
		call	_strncmp
		add	sp, 0Ah
		or	ax, ax
		jnz	short loc_B08
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; s
		call	_strlen
		add	sp, 4
		cmp	ax, word_E292
		jnb	short loc_AE0
		mov	ax, word_E292
		jmp	short loc_AEC
; ---------------------------------------------------------------------------

loc_AE0:
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; s
		call	_strlen
		add	sp, 4

loc_AEC:
		push	ax		; maxlen
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; s2
		push	word_E28E
		push	src		; s1
		call	_strncmp
		add	sp, 0Ah
		or	ax, ax
		jnz	short loc_B08
		jmp	loc_BCD
; ---------------------------------------------------------------------------

loc_B08:
		cmp	dest, 0
		jnz	short loc_B12
		jmp	loc_BCD
; ---------------------------------------------------------------------------

loc_B12:
		cmp	word_E29C, 0FFFFh
		jnz	short loc_B65
		push	ds
		push	offset dest
		push	di
		call	sub_7D8
		mov	si, ax
		or	si, si
		jge	short loc_B2A
		jmp	loc_BC8
; ---------------------------------------------------------------------------

loc_B2A:
		cmp	si, bdata@
		jle	short loc_B33
		jmp	loc_BC8
; ---------------------------------------------------------------------------

loc_B33:
		push	word ptr [bp+@@s2+2]
		push	word ptr [bp+@@s2] ; src
		push	ds
		push	offset dest	; dest
		call	_strcpy
		add	sp, 8
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; src
		push	ds
		push	offset dest	; dest
		call	_strcat
		add	sp, 8
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		push	ds
		push	offset dest	; dest
		call	_strcat
		add	sp, 8
		jmp	short loc_BAD
; ---------------------------------------------------------------------------

loc_B65:
		push	word ptr [bp+@@s2+2]
		push	word ptr [bp+@@s2] ; src
		push	ds
		push	offset dest	; dest
		call	_strcpy
		add	sp, 8
		push	ds
		push	offset a@	; "@"
		push	ds
		push	offset dest	; dest
		call	_strcat
		add	sp, 8
		push	ds
		push	offset DGROUP:byte_102F4 ; src
		push	ds
		push	offset dest	; dest
		call	_strcat
		add	sp, 8
		push	ds
		push	(offset	aS+3)	; src
		push	ds
		push	offset dest	; dest
		call	_strcat
		add	sp, 8
		push	word_E29C	; handle
		call	_close
		pop	cx
		mov	word_E29C, 0FFFFh

loc_BAD:
		push	ds
		push	offset dest
		push	di
		call	sub_7D8
		mov	si, ax
		mov	dest, 0
		mov	word_E28E, 0
		mov	src, 0

loc_BC8:
		mov	ax, si
		jmp	loc_C79
; ---------------------------------------------------------------------------

loc_BCD:
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; s
		call	_strlen
		add	sp, 4
		mov	si, ax
		cmp	word_E29C, 0FFFFh
		jnz	short loc_C31
		push	word_E28E
		push	src		; s
		call	_strlen
		add	sp, 4
		inc	ax
		push	ax		; n
		push	word_E28E
		push	src		; src
		mov	ax, src
		add	ax, si
		push	word_E28E
		push	ax		; dest
		call	_memmove
		add	sp, 0Ah
		push	si		; maxlen
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; src
		push	word_E28E
		push	src		; dest
		call	_strncpy
		add	sp, 0Ah
		mov	dx, word_E28E
		mov	ax, src
		add	ax, si
		mov	word_E28E, dx
		mov	src, ax
		jmp	short loc_C77
; ---------------------------------------------------------------------------

loc_C31:
		push	si
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		push	word_E29C
		call	_write
		add	sp, 8
		cmp	ax, si
		jz	short loc_C54
		push	ds
		push	offset DGROUP:byte_102F4
		push	ds
		push	offset aWriteErrorOnFi ; "Write	error on file %s.\n"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 8

loc_C54:
		push	1
		push	ds
		push	(offset	aS+3)
		push	word_E29C
		call	_write
		add	sp, 8
		cmp	ax, 1
		jz	short loc_C77
		push	ds
		push	offset DGROUP:byte_102F4
		push	ds
		push	offset aWriteErrorOnFi ; "Write	error on file %s.\n"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 8

loc_C77:
		xor	ax, ax

loc_C79:
		pop	di
		pop	si
		leave
		retn	0Ah
sub_88B		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C7F		proc near

var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= dword	ptr  0Ch
arg_C		= word ptr  10h
arg_E		= word ptr  12h

		enter	6, 0
		push	si
		mov	dx, [bp+arg_E]
		mov	ax, [bp+arg_C]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		xor	si, si
		les	bx, [bp+arg_4]
		mov	ax, flag_silent
		mov	es:[bx], ax
		les	bx, [bp+arg_8]
		mov	word ptr es:[bx], 0
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 0
		jmp	loc_D48
; ---------------------------------------------------------------------------

loc_CAE:
		inc	word ptr [bp+var_4]

loc_CB1:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_CAE
		mov	al, es:[bx]
		cbw
		mov	[bp+var_6], ax
		mov	cx, 4		; switch 4 cases
		mov	bx, offset word_D78

loc_CC7:
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_6]
		jz	short loc_CD6
		add	bx, 2
		loop	loc_CC7
		jmp	short loc_D45	; default
; ---------------------------------------------------------------------------

loc_CD6:
		jmp	word ptr cs:[bx+8] ; switch jump

loc_CDA:
		inc	word ptr [bp+var_4] ; jumptable	00000CD6 case 64
		les	bx, [bp+arg_4]
		mov	word ptr es:[bx], 1
		jmp	short loc_D48
; ---------------------------------------------------------------------------

loc_CE7:

		inc	word ptr [bp+var_4] ; jumptable	00000CD6 cases 33,38
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 1
		jmp	short loc_D48
; ---------------------------------------------------------------------------

loc_CF4:

		inc	word ptr [bp+var_4] ; jumptable	00000CD6 case 45
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		cbw
		mov	bx, ax
		test	byte ptr [bx+1D69h], 2
		jz	short loc_D3B
		jmp	short loc_D29
; ---------------------------------------------------------------------------

loc_D09:
		les	bx, [bp+arg_8]
		mov	ax, es:[bx]
		imul	ax, 0Ah
		les	bx, [bp+var_4]
		push	ax
		mov	al, es:[bx]
		cbw
		pop	dx
		add	dx, ax
		add	dx, 0FFD0h
		les	bx, [bp+arg_8]
		mov	es:[bx], dx
		inc	word ptr [bp+var_4]

loc_D29:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		cbw
		mov	bx, ax
		test	byte ptr [bx+1D69h], 2
		jnz	short loc_D09
		jmp	short loc_D48
; ---------------------------------------------------------------------------

loc_D3B:
		les	bx, [bp+arg_8]
		mov	word ptr es:[bx], 7FFFh
		jmp	short loc_D48
; ---------------------------------------------------------------------------

loc_D45:
		mov	si, 1		; default

loc_D48:
		or	si, si
		jnz	short loc_D4F
		jmp	loc_CB1
; ---------------------------------------------------------------------------

loc_D4F:
		cmp	flag_ignore, 0
		jz	short loc_D63
		les	bx, [bp+arg_8]
		mov	word ptr es:[bx], 7FFFh
		jmp	short loc_D63
; ---------------------------------------------------------------------------

loc_D60:
		inc	word ptr [bp+var_4]

loc_D63:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_D60
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		pop	si
		leave
		retn	10h
sub_C7F		endp

; ---------------------------------------------------------------------------
		db  0
word_D78	dw    21h,   26h,   2Dh,   40h
					; value	table for switch statement
		dw offset loc_CE7	; jump table for switch	statement
		dw offset loc_CE7
		dw offset loc_CF4
		dw offset loc_CDA

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_D88(int, char *path, __int32, char *src)
sub_D88		proc near

@@dest		= byte ptr -6Eh
var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= dword	ptr -16h
block		= dword	ptr -12h
var_E		= word ptr -0Eh
var_C		= dword	ptr -0Ch
var_6		= word ptr -6
@@s		= dword	ptr -4
arg_0		= word ptr  4
@@path		= dword	ptr  6
arg_6		= dword	ptr  0Ah
@@src		= dword	ptr  0Eh

		enter	6Eh, 0
		push	si
		push	di
		mov	word ptr [bp+@@s+2], ds
		mov	word ptr [bp+@@s], 475Ah
		mov	dx, word ptr [bp+arg_6+2]
		mov	ax, word ptr [bp+arg_6]
		mov	[bp-8],	dx
		mov	word ptr [bp+var_C+2], ax
		mov	word ptr [bp+var_C], 0
		xor	di, di
		mov	word ptr dword_E296+2, dx
		mov	word ptr dword_E296, ax
		or	ax, word ptr [bp+arg_6+2]
		jnz	short loc_DB8
		jmp	loc_10AD
; ---------------------------------------------------------------------------

loc_DB8:
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		push	ss
		lea	ax, [bp+@@dest]
		push	ax		; dest
		call	_strcpy
		add	sp, 8

loc_DC9:
		cmp	word_F4FC, 0
		jz	short loc_DD7
		cmp	flag_keep, 0
		jz	short loc_DEA

loc_DD7:
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+0Eh]
		push	word ptr es:[bx+0Ch]
		push	ss
		lea	ax, [bp+@@dest]
		push	ax
		call	sub_672

loc_DEA:
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+0Ah] ; int
		push	word ptr es:[bx+8] ; int
		push	ss
		lea	ax, [bp+@@dest]
		push	ax		; src
		call	sub_6C4D
		mov	[bp+var_E], 0
		push	ds
		push	offset DGROUP:byte_1285A
		push	ss
		lea	ax, [bp+var_C]
		push	ax
		push	ss
		lea	ax, [bp+var_6]
		push	ax
		push	ss
		lea	ax, [bp+var_E]
		push	ax
		call	sub_C7F
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		mov	ax, word ptr [bp+var_C]
		mov	word_E29A, ax
		push	1		; c
		push	dx
		push	word ptr [bp+@@s]	; s
		call	_strchr
		add	sp, 6
		mov	word ptr [bp+block+2], dx
		mov	word ptr [bp+block], ax
		push	2		; c
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	_strchr
		add	sp, 6
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax
		mov	[bp+var_1C], 0
		mov	[bp+var_1E], 0
		mov	ax, word ptr [bp+block]
		or	ax, word ptr [bp+block+2]
		jnz	short loc_E5F
		jmp	loc_FFA
; ---------------------------------------------------------------------------

loc_E5F:
		mov	ax, word ptr [bp+var_16]
		or	ax, word ptr [bp+var_16+2]
		jnz	short loc_E6A
		jmp	loc_FFA
; ---------------------------------------------------------------------------

loc_E6A:
		cmp	[bp+var_E], 0
		jnz	short loc_E73
		jmp	loc_FFA
; ---------------------------------------------------------------------------

loc_E73:
		les	bx, [bp+block]
		mov	byte ptr es:[bx], 0
		les	bx, [bp+var_16]
		mov	byte ptr es:[bx], 0
		mov	ax, word ptr [bp+block]
		inc	ax
		push	word ptr [bp+block+2]
		push	ax		; s
		call	sub_894C
		mov	[bp+var_1C], dx
		mov	[bp+var_1E], ax
		mov	ax, word ptr [bp+var_16]
		inc	ax
		push	word ptr [bp+var_16+2]
		push	ax		; s
		call	sub_894C
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	sub_894C
		mov	word ptr [bp+block+2], dx
		mov	word ptr [bp+block], ax
		mov	dx, [bp+var_1C]
		mov	ax, [bp+var_1E]
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		jmp	loc_FAA
; ---------------------------------------------------------------------------

loc_EC1:
		mov	dx, word ptr [bp+@@s+2]
		mov	ax, word ptr [bp+@@s]
		mov	[bp+var_18], dx
		mov	[bp+var_1A], ax

loc_ECD:
		les	bx, [bp+@@s]
		cmp	byte ptr es:[bx], 0
		jz	short loc_EE2
		mov	bx, word ptr [bp+@@s]
		inc	word ptr [bp+@@s]
		cmp	byte ptr es:[bx], 20h ;	' '
		jnz	short loc_ECD

loc_EE2:
		les	bx, [bp+@@s]
		mov	byte ptr es:[bx-1], 0
		push	word ptr [bp+block+2]
		push	word ptr [bp+block] ; src
		push	ds
		push	offset DGROUP:byte_1285A ; dest
		call	_strcpy
		add	sp, 8
		push	[bp+var_18]
		push	[bp+var_1A]	; src
		push	ds
		push	offset DGROUP:byte_1285A ; dest
		call	_strcat
		add	sp, 8
		push	word ptr [bp+var_16+2]
		push	word ptr [bp+var_16] ; src
		push	ds
		push	offset DGROUP:byte_1285A ; dest
		call	_strcat
		add	sp, 8

loc_F1A:
		push	ds
		push	offset DGROUP:byte_1285A ; s2
		push	ss
		lea	ax, [bp+var_C]
		push	ax		; __int32
		push	[bp+var_6]	; int
		call	sub_88B
		mov	si, ax
		cmp	ax, 0FFFFh
		jnz	short loc_F3F
		push	ds
		push	offset DGROUP:byte_1285A
		push	[bp+var_6]
		call	sub_7D8
		mov	si, ax
		mov	di, 1

loc_F3F:
		or	si, si
		jl	short loc_F48
		cmp	si, word ptr [bp+var_C]
		jle	short loc_FAA

loc_F48:
		cmp	flag_keep, 0
		jz	short loc_F76
		cmp	word_F50E, 0
		jz	short loc_F7E
		jmp	short loc_F76
; ---------------------------------------------------------------------------

loc_F58:
		les	bx, [bp+var_C+2]
		push	word ptr es:[bx+0Eh]
		push	word ptr es:[bx+0Ch]
		call	sub_74A
		les	bx, [bp+var_C+2]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp-8],	dx
		mov	word ptr [bp+var_C+2], ax

loc_F76:
		mov	ax, word ptr [bp+var_C+2]
		or	ax, [bp-8]
		jnz	short loc_F58

loc_F7E:
		or	di, di
		jz	short loc_FA5
		cmp	[bp+arg_0], 0
		jnz	short loc_FA5
		push	word ptr [bp+@@path+2]
		push	word ptr [bp+@@path] ; path
		call	_unlink
		add	sp, 4
		push	word ptr [bp+@@path+2]
		push	word ptr [bp+@@path]
		push	si
		push	ds
		push	offset aErrorDDeleting ; "\n** error %d	** deleting %s\n"
		call	sub_8E0F
		add	sp, 0Ah

loc_FA5:
		push	1		; status
		call	sub_8E01
; ---------------------------------------------------------------------------

loc_FAA:
		les	bx, [bp+@@s]
		cmp	byte ptr es:[bx], 0
		jz	short loc_FBC
		cmp	[bp+var_E], 0
		jz	short loc_FBC
		jmp	loc_EC1
; ---------------------------------------------------------------------------

loc_FBC:
		mov	ax, word ptr [bp+block]
		or	ax, word ptr [bp+block+2]
		jz	short loc_FD0
		push	word ptr [bp+block+2]
		push	word ptr [bp+block] ; block
		call	_farfree
		add	sp, 4

loc_FD0:
		mov	ax, word ptr [bp+var_16]
		or	ax, word ptr [bp+var_16+2]
		jz	short loc_FE4
		push	word ptr [bp+var_16+2]
		push	word ptr [bp+var_16] ; block
		call	_farfree
		add	sp, 4

loc_FE4:
		mov	ax, [bp+var_1E]
		or	ax, [bp+var_1C]
		jz	short loc_1060
		push	[bp+var_1C]
		push	[bp+var_1E]	; block
		call	_farfree
		add	sp, 4
		jmp	short loc_1060
; ---------------------------------------------------------------------------

loc_FFA:
		mov	ax, word ptr [bp+block]
		or	ax, word ptr [bp+block+2]
		jz	short loc_1013
		les	bx, [bp+block]
		mov	byte ptr es:[bx], 20h ;	' '
		mov	word ptr [bp+block+2], 0
		mov	word ptr [bp+block], 0

loc_1013:
		mov	ax, word ptr [bp+var_16]
		or	ax, word ptr [bp+var_16+2]
		jz	short loc_102C
		les	bx, [bp+var_16]
		mov	byte ptr es:[bx], 20h ;	' '
		mov	word ptr [bp+var_16+2],	0
		mov	word ptr [bp+var_16], 0

loc_102C:
		mov	ax, ds
		cmp	word ptr [bp+@@s+2], ax
		jnz	short loc_103A
		cmp	word ptr [bp+@@s], 475Ah
		jz	short loc_1058

loc_103A:
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	_strlen
		add	sp, 4
		inc	ax
		push	ax		; n
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; src
		push	ds
		push	offset DGROUP:byte_1285A ; dest
		call	_memmove
		add	sp, 0Ah

loc_1058:
		mov	[bp+var_E], 0
		jmp	loc_F1A
; ---------------------------------------------------------------------------

loc_1060:
		les	bx, [bp+arg_6]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+arg_6+2], dx
		mov	word ptr [bp+arg_6], ax
		or	ax, dx
		jz	short loc_1077
		jmp	loc_DC9
; ---------------------------------------------------------------------------

loc_1077:
		cmp	flag_keep, 0
		jz	short loc_10A5
		cmp	word_F50E, 0
		jz	short loc_10AD
		jmp	short loc_10A5
; ---------------------------------------------------------------------------

loc_1087:
		les	bx, [bp+var_C+2]
		push	word ptr es:[bx+0Eh]
		push	word ptr es:[bx+0Ch]
		call	sub_74A
		les	bx, [bp+var_C+2]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp-8],	dx
		mov	word ptr [bp+var_C+2], ax

loc_10A5:
		mov	ax, word ptr [bp+var_C+2]
		or	ax, [bp-8]
		jnz	short loc_1087

loc_10AD:
		pop	di
		pop	si
		leave
		retn	0Eh
sub_D88		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_10B3	proc near

var_E		= dword	ptr -0Eh
@@s2		= byte ptr -0Ah
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8

		enter	0Eh, 0
		push	0
		push	0		; __int32
		push	ss
		lea	ax, [bp+@@s2]
		push	ax		; __int32
		push	0
		push	0		; __int32
		push	0
		push	0		; __int32
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src
		call	sub_90B3
		add	sp, 14h
		push	ss
		lea	ax, [bp+@@s2]
		push	ax		; src
		push	ds
		push	offset DGROUP:byte_1385A ; dest
		call	_strcpy
		add	sp, 8
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+16h]
		mov	ax, es:[bx+14h]
		jmp	loc_1196
; ---------------------------------------------------------------------------

loc_10F5:
		les	bx, [bp+var_E]
		les	bx, es:[bx+4]
		mov	ax, es:[bx+18h]
		or	ax, es:[bx+1Ah]
		jnz	short loc_1109
		jmp	loc_118C
; ---------------------------------------------------------------------------

loc_1109:
		les	bx, [bp+arg_0]
		les	bx, es:[bx+0Ch]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s2
		les	bx, [bp+var_E]
		les	bx, es:[bx+4]
		les	bx, es:[bx+18h]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s1
		call	_stricmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_118C
		push	0
		push	0		; __int32
		push	ss
		lea	ax, [bp+@@s2]
		push	ax		; __int32
		push	0
		push	0		; __int32
		push	0
		push	0		; __int32
		les	bx, [bp+var_E]
		les	bx, es:[bx+4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src
		call	sub_90B3
		add	sp, 14h
		push	ss
		lea	ax, [bp+@@s2]
		push	ax		; s2
		push	ds
		push	offset DGROUP:byte_1385A ; s1
		call	_stricmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_118C
		les	bx, [bp+var_E]
		les	bx, es:[bx+4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src
		push	ds
		push	offset DGROUP:byte_1385A ; dest
		call	_strcpy
		add	sp, 8
		mov	dx, ds
		mov	ax, 575Ah
		leave
		retn	8
; ---------------------------------------------------------------------------

loc_118C:
		les	bx, [bp+var_E]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]

loc_1196:
		mov	word ptr [bp+var_E+2], dx
		mov	word ptr [bp+var_E], ax
		mov	ax, word ptr [bp+var_E]
		or	ax, word ptr [bp+var_E+2]
		jz	short loc_11A7
		jmp	loc_10F5
; ---------------------------------------------------------------------------

loc_11A7:
		xor	dx, dx
		xor	ax, ax
		leave
		retn	8
sub_10B3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_11AF	proc near

var_5C		= dword	ptr -5Ch
@@dest		= byte ptr -1Ah
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
@@src		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= dword	ptr  0Ch

		enter	5Ch, 0
		push	0
		push	0		; __int32
		push	ss
		lea	ax, [bp+@@dest]
		push	ax		; __int32
		push	ss
		lea	ax, [bp+var_5C]
		push	ax		; __int32
		push	ss
		lea	ax, [bp+var_4]
		push	ax		; __int32
		les	bx, [bp+arg_8]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src
		call	sub_90B3
		add	sp, 14h
		les	bx, [bp+arg_4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_11EF
		push	ds
		push	offset a_	; "."
		push	ss
		lea	ax, [bp+@@dest]
		push	ax
		push	word ptr [bp+arg_4+2]
		push	bx
		jmp	loc_12E3
; ---------------------------------------------------------------------------

loc_11EF:
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_120F
		les	bx, [bp+arg_0]
		les	bx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ch]
		or	ax, es:[bx+0Eh]
		jnz	short loc_120F
		jmp	loc_12A7
; ---------------------------------------------------------------------------

loc_120F:
		push	ds
		push	offset a_	; "."
		push	ss
		lea	ax, [bp+@@dest]
		push	ax		; dest
		call	_strcat
		add	sp, 8
		les	bx, [bp+arg_0]
		les	bx, es:[bx+0Ch]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src
		push	ss
		lea	ax, [bp+@@dest]
		push	ax		; dest
		call	_strcat
		add	sp, 8
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		cmp	byte ptr es:[bx], 0
		jz	short loc_124F
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		jmp	short loc_125E
; ---------------------------------------------------------------------------

loc_124F:
		les	bx, [bp+arg_0]
		les	bx, es:[bx+0Ch]
		mov	dx, es:[bx+0Eh]
		mov	ax, es:[bx+0Ch]

loc_125E:
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		push	ss
		lea	ax, [bp+@@dest]
		push	ax
		push	[bp+var_A]
		push	[bp+var_C]
		push	0
		call	sub_1689
		mov	word ptr [bp+@@src+2], dx
		mov	word ptr [bp+@@src], ax
		or	ax, word ptr [bp+@@src+2]
		jnz	short loc_1295
		push	ss
		lea	ax, [bp+@@dest]
		push	ax
		push	[bp+var_A]
		push	[bp+var_C]
		push	1
		call	sub_1689
		mov	word ptr [bp+@@src+2], dx
		mov	word ptr [bp+@@src], ax

loc_1295:
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		push	ds
		push	offset DGROUP:byte_1385A ; dest
		call	_strcpy
		add	sp, 8
		jmp	short loc_131E
; ---------------------------------------------------------------------------

loc_12A7:
		les	bx, [bp+arg_8]
		mov	ax, es:[bx+14h]
		or	ax, es:[bx+16h]
		jz	short loc_12C5
		push	word ptr [bp+arg_8+2]
		push	bx
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	sub_10B3
		or	ax, dx
		jnz	short loc_131E

loc_12C5:
		les	bx, [bp+arg_8]
		cmp	byte ptr es:[bx+23h], 0
		jnz	short loc_12D6
		cmp	word_F50E, 0
		jz	short loc_12E9

loc_12D6:
		push	ds
		push	offset a_	; "."
		push	ss
		lea	ax, [bp+@@dest]
		push	ax
		push	ds
		push	(offset	aObj+3)

loc_12E3:
		push	ds
		push	(offset	aObj+3)
		jmp	short loc_12FC
; ---------------------------------------------------------------------------

loc_12E9:
		push	ds		; int
		push	offset a_	; "."
		push	ss		; int
		lea	ax, [bp+@@dest]
		push	ax		; int
		push	ss
		lea	ax, [bp+var_5C]
		push	ax		; src
		push	ss
		lea	ax, [bp+var_4]
		push	ax		; __int32

loc_12FC:
		push	ds
		push	offset DGROUP:byte_1385A ; dest
		call	sub_9247
		add	sp, 14h
		les	bx, [bp+arg_0]
		les	bx, es:[bx+0Ch]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src
		push	ds
		push	offset DGROUP:byte_1385A ; dest
		call	_strcat
		add	sp, 8

loc_131E:
		mov	dx, ds
		mov	ax, 575Ah
		leave
		retn	0Ch
sub_11AF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1327	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= dword	ptr  0Ch

		enter	4, 0
		les	bx, [bp+arg_0]
		les	bx, es:[bx+4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_138A
		push	ds
		push	offset a_	; "."
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4] ; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jz	short loc_138A
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4] ; s
		call	_strlen
		add	sp, 4
		push	ax		; maxlen
		les	bx, [bp+arg_8]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s2
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4] ; s1
		call	_strnicmp
		add	sp, 0Ah
		or	ax, ax
		jz	short loc_138A
		xor	dx, dx
		xor	ax, ax
		leave
		retn	0Ch
; ---------------------------------------------------------------------------

loc_138A:
		push	word ptr [bp+arg_8+2]
		push	word ptr [bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	sub_11AF
		push	dx
		push	ax		; s
		call	sub_894C
		push	dx
		push	ax		; s
		push	word ptr off_E3C0+2
		push	word ptr off_E3C0	; s2
		push	word ptr off_E3C0+2
		push	word ptr off_E3C0	; __int32
		push	0		; int
		call	sub_2BB1
		push	dx
		push	ax
		push	1
		call	sub_263
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	dx, [bp+var_2]
		leave
		retn	0Ch
sub_1327	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_13CF(char *path)
sub_13CF	proc near

@@dest		= byte ptr -0DCh
var_8C		= byte ptr -8Ch
var_8B		= byte ptr -8Bh
var_88		= byte ptr -88h
var_87		= word ptr -87h
var_85		= word ptr -85h
var_83		= byte ptr -83h
@@src		= byte ptr -82h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
@@path		= dword	ptr  4

		enter	0DCh, 0
		push	si
		push	di
		mov	di, 0FFFFh
		push	0		; oflags
		push	word ptr [bp+@@path+2]
		push	word ptr [bp+@@path] ; path
		call	__open
		add	sp, 6
		mov	si, ax
		or	si, si
		jge	short loc_13EF
		jmp	loc_150C
; ---------------------------------------------------------------------------

loc_13EF:
		mov	word ptr [bp+var_8], 0
		push	si		; handle
		push	ss
		lea	ax, [bp+var_8C]
		push	ax		; dest
		push	ss
		lea	ax, [bp+var_8]
		push	ax		; __int32
		call	sub_15FD
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 80h	; 'Ä'
		jnz	short loc_1410
		jmp	loc_14E5
; ---------------------------------------------------------------------------

loc_1410:
		push	si		; handle
		call	__close
		pop	cx
		jmp	loc_150C
; ---------------------------------------------------------------------------

loc_1418:
		cmp	[bp+var_2], 88h	; 'à'
		jz	short loc_1422
		jmp	loc_14E5
; ---------------------------------------------------------------------------

loc_1422:
		cmp	[bp+var_88], 0E9h ; 'È'
		jz	short loc_142C
		jmp	loc_14E5
; ---------------------------------------------------------------------------

loc_142C:
		cmp	[bp+var_8B], 3
		jnz	short loc_1441
		cmp	di, 0FFFFh
		jz	short loc_143B
		jmp	loc_1507
; ---------------------------------------------------------------------------

loc_143B:
		mov	di, 1
		jmp	loc_14E5
; ---------------------------------------------------------------------------

loc_1441:
		cmp	di, 0FFFFh
		jnz	short loc_1448
		xor	di, di

loc_1448:
		mov	al, [bp+var_83]
		mov	ah, 0
		push	ax		; n
		push	ss
		lea	ax, [bp+@@src]
		push	ax		; src
		push	ss
		lea	ax, [bp+@@dest]
		push	ax		; dest
		call	_memmove
		add	sp, 0Ah
		mov	al, [bp+var_83]
		mov	ah, 0
		lea	dx, [bp+@@dest]
		add	ax, dx
		mov	bx, ax
		mov	byte ptr ss:[bx], 0
		cmp	flag_cacheautodepend, 0
		jz	short loc_14B7
		push	ss
		lea	ax, [bp+@@dest]
		push	ax		; s2
		call	sub_3363
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		or	ax, dx
		jz	short loc_1499
		les	bx, [bp+var_C]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		jmp	short loc_14C0
; ---------------------------------------------------------------------------

loc_1499:
		push	ss
		lea	ax, [bp+@@dest]
		push	ax		; path
		call	mtime_get
		mov	[bp+var_4], dx
		mov	word ptr [bp+var_8+2], ax
		push	ss
		lea	ax, [bp+@@dest]
		push	ax		; s
		push	dx		; int
		push	word ptr [bp+var_8+2] ;	int
		call	sub_32E9
		jmp	short loc_14C6
; ---------------------------------------------------------------------------

loc_14B7:
		push	ss
		lea	ax, [bp+@@dest]
		push	ax		; path
		call	mtime_get

loc_14C0:
		mov	[bp+var_4], dx
		mov	word ptr [bp+var_8+2], ax

loc_14C6:
		mov	dx, [bp+var_4]
		mov	ax, word ptr [bp+var_8+2]
		cmp	dx, [bp+var_85]
		jnz	short loc_14D8
		cmp	ax, [bp+var_87]
		jz	short loc_14E5

loc_14D8:
		push	si		; handle
		call	__close
		pop	cx
		mov	dx, 0FFFFh
		mov	ax, 0FFFFh
		jmp	short loc_1510
; ---------------------------------------------------------------------------

loc_14E5:
		push	si		; handle
		push	ss
		lea	ax, [bp+var_8C]
		push	ax		; dest
		push	ss
		lea	ax, [bp+var_8]
		push	ax		; __int32
		call	sub_15FD
		mov	[bp+var_2], ax
		cmp	ax, 88h	; 'à'
		jnz	short loc_14FF
		jmp	loc_1418
; ---------------------------------------------------------------------------

loc_14FF:
		cmp	di, 1
		jnz	short loc_1507
		jmp	loc_1418
; ---------------------------------------------------------------------------

loc_1507:
		push	si		; handle
		call	__close
		pop	cx

loc_150C:
		xor	dx, dx
		xor	ax, ax

loc_1510:
		pop	di
		pop	si
		leave
		retn	4
sub_13CF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_1516(__int32, size_t n, void *dest,	int handle)
sub_1516	proc near

var_2		= word ptr -2
arg_0		= dword	ptr  4
n		= word ptr  8
@@dest		= dword	ptr  0Ah
@@handle		= word ptr  0Eh

		enter	2, 0
		push	si
		push	di
		mov	di, [bp+@@handle]
		mov	si, [bp+n]
		cmp	si, 400h
		jle	short loc_155E
		mov	ax, word ptr [bp+@@dest]
		or	ax, word ptr [bp+@@dest+2]
		jnz	short loc_154E
		push	1		; fromwhere
		les	bx, [bp+arg_0]
		mov	ax, si
		sub	ax, es:[bx]
		cwd
		push	dx
		push	ax		; offset
		push	di		; handle
		call	_lseek
		add	sp, 8
		or	dx, dx
		jg	short loc_1553
		jl	short loc_154E
		or	ax, ax
		jnb	short loc_1553

loc_154E:
		xor	ax, ax
		jmp	loc_15F7
; ---------------------------------------------------------------------------

loc_1553:
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 0
		jmp	loc_15F5
; ---------------------------------------------------------------------------

loc_155E:
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jz	short loc_156C
		cmp	es:[bx], si
		jge	short loc_15CE

loc_156C:
		mov	[bp+var_2], 0
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jz	short loc_1593
		mov	ax, es:[bx]
		mov	[bp+var_2], ax
		push	ax		; n
		push	word_10242
		push	off_10240	; src
		push	ds
		push	offset DGROUP:byte_1285A ; dest
		call	_memmove
		add	sp, 0Ah

loc_1593:
		les	bx, [bp+arg_0]
		mov	ax, 400h
		sub	ax, es:[bx]
		push	ax		; len
		push	ds
		mov	ax, es:[bx]
		add	ax, 475Ah
		push	ax		; buf
		push	di		; handle
		call	__read
		add	sp, 8
		les	bx, [bp+arg_0]
		mov	es:[bx], ax
		cmp	word ptr es:[bx], 0
		jle	short loc_154E
		mov	word_10242, ds
		mov	off_10240, 475Ah
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]
		add	ax, [bp+var_2]
		mov	es:[bx], ax

loc_15CE:
		les	bx, [bp+arg_0]
		sub	es:[bx], si
		mov	ax, word ptr [bp+@@dest]
		or	ax, word ptr [bp+@@dest+2]
		jz	short loc_15F1
		push	si		; n
		push	word_10242
		push	off_10240	; src
		push	word ptr [bp+@@dest+2]
		push	word ptr [bp+@@dest] ; dest
		call	_memmove
		add	sp, 0Ah

loc_15F1:
		add	off_10240, si

loc_15F5:
		mov	ax, si

loc_15F7:
		pop	di
		pop	si
		leave
		retn	0Ch
sub_1516	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_15FD(__int32, void *dest, int handle)
sub_15FD	proc near

arg_0		= dword	ptr  4
@@dest		= dword	ptr  8
@@handle		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, [bp+@@handle]
		push	di		; handle
		push	word ptr [bp+@@dest+2]
		push	word ptr [bp+@@dest] ; dest
		push	3		; n
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0] ; __int32
		call	sub_1516
		cmp	ax, 3
		jnz	short loc_1677
		les	bx, [bp+@@dest]
		mov	si, es:[bx+1]
		cmp	si, 7Dh	; '}'
		jle	short loc_165E
		push	di		; handle
		mov	ax, word ptr [bp+@@dest]
		add	ax, 3
		push	word ptr [bp+@@dest+2]
		push	ax		; dest
		push	7Dh ; '}'       ; n
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0] ; __int32
		call	sub_1516
		cmp	ax, 7Dh	; '}'
		jnz	short loc_1677
		push	di		; handle
		push	0
		push	0		; dest
		lea	ax, [si-7Dh]
		push	ax		; n
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0] ; __int32
		call	sub_1516
		lea	dx, [si-7Dh]
		cmp	ax, dx
		jz	short loc_167B
		jmp	short loc_1677
; ---------------------------------------------------------------------------

loc_165E:
		push	di		; handle
		mov	ax, word ptr [bp+@@dest]
		add	ax, 3
		push	word ptr [bp+@@dest+2]
		push	ax		; dest
		push	si		; n
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0] ; __int32
		call	sub_1516
		cmp	ax, si
		jz	short loc_167B

loc_1677:
		xor	ax, ax
		jmp	short loc_1683
; ---------------------------------------------------------------------------

loc_167B:
		les	bx, [bp+@@dest]
		mov	al, es:[bx]
		mov	ah, 0

loc_1683:
		pop	di
		pop	si
		pop	bp
		retn	0Ah
sub_15FD	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1689	proc near

@@src		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch

		enter	8, 0
		push	si
		mov	si, 4Fh	; 'O'
		mov	dx, [bp+arg_4]
		mov	ax, [bp+arg_2]
		mov	word ptr [bp+@@src+2], dx
		mov	word ptr [bp+@@src], ax

loc_169D:
		mov	dx, word ptr [bp+@@src+2]
		mov	ax, word ptr [bp+@@src]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	short loc_16AE
; ---------------------------------------------------------------------------

loc_16AB:
		inc	word ptr [bp+var_4]

loc_16AE:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_16BD
		cmp	byte ptr es:[bx], 3Bh ;	';'
		jnz	short loc_16AB

loc_16BD:
		mov	ax, word ptr [bp+var_4]
		xor	dx, dx
		sub	ax, word ptr [bp+@@src]
		sbb	dx, 0
		push	ax		; n
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		push	ds
		push	offset DGROUP:byte_12708 ; dest
		call	_memmove
		add	sp, 0Ah
		mov	bx, word ptr [bp+var_4]
		xor	ax, ax
		sub	bx, word ptr [bp+@@src]
		sbb	ax, 0
		mov	byte ptr [bx+4608h], 0
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 3Bh ;	';'
		jnz	short loc_1701
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		inc	ax
		mov	word ptr [bp+@@src+2], dx
		mov	word ptr [bp+@@src], ax
		jmp	short loc_170D
; ---------------------------------------------------------------------------

loc_1701:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr [bp+@@src+2], dx
		mov	word ptr [bp+@@src], ax

loc_170D:
		push	ds
		push	offset DGROUP:byte_12708 ; s
		call	_strlen
		add	sp, 4
		add	ax, 4607h
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], ax
		cmp	word ptr [bp+var_4], 4608h
		jb	short loc_1748
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 3Ah ;	':'
		jz	short loc_1748
		cmp	byte ptr es:[bx], 2Fh ;	'/'
		jz	short loc_1748
		cmp	byte ptr es:[bx], 5Ch ;	'\'
		jz	short loc_1748
		push	si		; int
		push	ds
		push	offset DGROUP:byte_12708 ; dest
		push	ds
		push	offset asc_E2AD	; "\\"
		call	sub_5DA2

loc_1748:
		push	si		; int
		push	ds
		push	offset DGROUP:byte_12708 ; dest
		push	[bp+arg_8]
		push	[bp+arg_6]	; src
		call	sub_5DA2
		cmp	[bp+arg_0], 0
		jnz	short loc_176D
		push	0		; amode
		push	ds
		push	offset DGROUP:byte_12708 ; path
		call	_access
		add	sp, 6
		cmp	ax, 0FFFFh
		jz	short loc_177E

loc_176D:
		mov	ax, ds
		mov	dx, 4608h
		push	dx
		mov	word ptr [bp+@@src+2], ax
		mov	dx, ax
		pop	ax
		mov	word ptr [bp+@@src], ax
		jmp	short loc_178E
; ---------------------------------------------------------------------------

loc_177E:
		les	bx, [bp+@@src]
		cmp	byte ptr es:[bx], 0
		jz	short loc_178A
		jmp	loc_169D
; ---------------------------------------------------------------------------

loc_178A:
		xor	dx, dx
		xor	ax, ax

loc_178E:
		pop	si
		leave
		retn	0Ah
sub_1689	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1793	proc near

mtime		= word ptr -14h
mdate		= word ptr -12h
@@src		= dword	ptr -10h
var_C		= dword	ptr -0Ch
@@s		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4

		enter	14h, 0
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		push	ds
		push	offset DGROUP:byte_10292 ; __int32
		push	ds
		push	offset DGROUP:byte_10289 ; __int32
		push	ds
		push	offset DGROUP:byte_10247 ; __int32
		push	ds
		push	offset DGROUP:byte_10244 ; __int32
		push	dx
		push	ax		; src
		call	sub_90B3
		add	sp, 14h
		cmp	byte_10247, 0
		jz	short loc_17C9
		jmp	locret_1937
; ---------------------------------------------------------------------------

loc_17C9:
		cmp	byte_10244, 0
		jz	short loc_17D3
		jmp	locret_1937
; ---------------------------------------------------------------------------

loc_17D3:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+18h]
		or	ax, es:[bx+1Ah]
		jz	short loc_1851
		les	bx, es:[bx+18h]
		mov	ax, es:[bx+0Ch]
		or	ax, es:[bx+0Eh]
		jz	short loc_1851
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		les	bx, es:[bx+18h]
		push	word ptr es:[bx+0Eh]
		push	word ptr es:[bx+0Ch]
		push	0
		call	sub_1689
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		or	ax, word ptr [bp+@@s+2]
		jnz	short loc_1835
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		les	bx, es:[bx+18h]
		push	word ptr es:[bx+0Eh]
		push	word ptr es:[bx+0Ch]
		push	1
		call	sub_1689
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax

loc_1835:
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	sub_894C
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		mov	byte ptr es:[bx+23h], 1
		leave
		retn	4
; ---------------------------------------------------------------------------

loc_1851:
		les	bx, [bp+arg_0]
		les	bx, es:[bx+8]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_1861
		jmp	locret_1937
; ---------------------------------------------------------------------------

loc_1861:
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+0Ah]
		mov	ax, es:[bx+8]
		mov	word ptr [bp+@@src+2], dx
		mov	word ptr [bp+@@src], ax

loc_1872:
		mov	dx, word ptr [bp+@@src+2]
		mov	ax, word ptr [bp+@@src]
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		jmp	short loc_1883
; ---------------------------------------------------------------------------

loc_1880:
		inc	word ptr [bp+var_C]

loc_1883:
		les	bx, [bp+var_C]
		cmp	byte ptr es:[bx], 3Bh ;	';'
		jz	short loc_1892
		cmp	byte ptr es:[bx], 0
		jnz	short loc_1880

loc_1892:
		les	bx, [bp+var_C]
		cmp	byte ptr es:[bx], 0
		jz	short loc_18A2
		mov	byte ptr es:[bx], 0
		inc	word ptr [bp+var_C]

loc_18A2:
		push	ds		; int
		push	offset DGROUP:byte_10292 ; int
		push	ds		; int
		push	offset DGROUP:byte_10289 ; int
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		push	ds
		push	offset DGROUP:byte_10244 ; __int32
		push	ds
		push	offset DGROUP:byte_10297 ; dest
		call	sub_9247
		add	sp, 14h
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx+2], ds
		mov	word ptr es:[bx], 2197h
		mov	ax, es:[bx+1Eh]
		or	ax, es:[bx+20h]
		jz	short loc_18DE
		mov	dx, es:[bx+20h]
		mov	ax, es:[bx+1Eh]
		jmp	short loc_18EB
; ---------------------------------------------------------------------------

loc_18DE:
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; path
		call	mtime_get

loc_18EB:
		mov	[bp+mdate], dx
		mov	[bp+mtime], ax
		or	ax, [bp+mdate]
		jz	short loc_190B
		push	ds
		push	offset DGROUP:byte_10297 ; s
		call	sub_894C
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		leave
		retn	4
; ---------------------------------------------------------------------------

loc_190B:
		les	bx, [bp+var_C]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_1928
		les	bx, [bp+arg_0]
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		leave
		retn	4
; ---------------------------------------------------------------------------

loc_1928:
		mov	dx, word ptr [bp+var_C+2]
		mov	ax, word ptr [bp+var_C]
		mov	word ptr [bp+@@src+2], dx
		mov	word ptr [bp+@@src], ax
		jmp	loc_1872
; ---------------------------------------------------------------------------

locret_1937:
		leave
		retn	4
sub_1793	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_193B	proc near

var_4		= dword	ptr -4
arg_0		= dword	ptr  4

		enter	4, 0
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx+22h], 0
		jnz	short loc_194C
		jmp	loc_19FC
; ---------------------------------------------------------------------------

loc_194C:
		cmp	byte ptr es:[bx+22h], 3
		jnz	short loc_1956
		jmp	locret_1A4D
; ---------------------------------------------------------------------------

loc_1956:
		push	ds
		push	offset aCircularDepend ; "Circular dependency exists in	makefile"
		call	sub_8D8E
		add	sp, 4
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	ds
		push	offset aS_0	; "  %s"
		call	sub_8E0F
		add	sp, 8
		les	bx, [bp+arg_0]
		mov	byte ptr es:[bx+22h], 3
		mov	dx, es:[bx+16h]
		mov	ax, es:[bx+14h]
		jmp	short loc_1990
; ---------------------------------------------------------------------------

loc_1986:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]

loc_1990:
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jz	short loc_19AC
		les	bx, [bp+var_4]
		les	bx, es:[bx+4]
		cmp	byte ptr es:[bx+22h], 0
		jz	short loc_1986

loc_19AC:
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_19B7
		jmp	locret_1A4D
; ---------------------------------------------------------------------------

loc_19B7:
		les	bx, [bp+var_4]
		les	bx, es:[bx+4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	ds
		push	offset aS_1	; " -> %s"
		call	sub_8E0F
		add	sp, 8
		les	bx, [bp+var_4]
		les	bx, es:[bx+4]
		cmp	byte ptr es:[bx+22h], 3
		jz	short loc_19EE
		les	bx, [bp+var_4]
		les	bx, es:[bx+4]
		mov	dx, es:[bx+16h]
		mov	ax, es:[bx+14h]
		jmp	short loc_1990
; ---------------------------------------------------------------------------

loc_19EE:
		push	ds
		push	(offset	aS+3)
		call	sub_8E0F
		add	sp, 4
		leave
		retn	4
; ---------------------------------------------------------------------------

loc_19FC:
		les	bx, [bp+arg_0]
		mov	byte ptr es:[bx+22h], 1
		push	word ptr [bp+arg_0+2]
		push	bx
		call	sub_1793
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+16h]
		mov	ax, es:[bx+14h]
		jmp	short loc_1A30
; ---------------------------------------------------------------------------

loc_1A18:
		les	bx, [bp+var_4]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		call	sub_193B
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]

loc_1A30:
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_1A18
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx+22h], 3
		jz	short locret_1A4D
		mov	byte ptr es:[bx+22h], 0

locret_1A4D:
		leave
		retn	4
sub_193B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1A51	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	4, 0
		push	si
		mov	ax, [bp+arg_2]
		or	ax, [bp+arg_4]
		jnz	short loc_1A65
		xor	dx, dx
		xor	ax, ax
		jmp	loc_1AED
; ---------------------------------------------------------------------------

loc_1A65:
		push	[bp+arg_4]
		push	[bp+arg_2]
		call	sub_193B
		cmp	word_F502, 0
		jz	short loc_1A82
		mov	dx, [bp+arg_4]
		mov	ax, [bp+arg_2]
		mov	word_102F2, dx
		mov	word_102F0, ax

loc_1A82:
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_263
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		push	ds
		push	offset asc_E2BB	; " "
		push	ds
		push	offset word_E29A ; __int32
		push	flag_silent	; int
		call	sub_88B
		mov	si, ax
		or	si, si
		jl	short loc_1AAF
		cmp	si, word_E29A
		jle	short loc_1AE7

loc_1AAF:
		cmp	si, 0FFFFh
		jz	short loc_1AE7
		les	bx, dword_102E8
		cmp	byte ptr es:[bx+24h], 0
		jnz	short loc_1AE2
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; path
		call	_unlink
		add	sp, 4
		les	bx, dword_102E8
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	si
		push	ds
		push	offset aErrorDDeleting ; "\n** error %d	** deleting %s\n"
		call	sub_8E0F
		add	sp, 0Ah

loc_1AE2:
		push	1		; status
		call	sub_8E01
; ---------------------------------------------------------------------------

loc_1AE7:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]

loc_1AED:
		pop	si
		leave
		retn	6
sub_1A51	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1AF2	proc near

arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di
		cmp	word_E29E, 0
		jnz	short loc_1B13
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s
		call	_strlen
		add	sp, 4
		mov	dx, 19h
		jmp	short loc_1B26
; ---------------------------------------------------------------------------

loc_1B13:
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s
		call	_strlen
		add	sp, 4
		mov	dx, 17h

loc_1B26:
		sub	dx, ax
		mov	si, dx
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+14h]
		or	ax, es:[bx+16h]
		jnz	short loc_1B44
		push	ds
		push	offset asc_E2BD	; "  "
		call	sub_8E0F
		add	sp, 4
		sub	si, 2

loc_1B44:
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; path
		call	sub_5DE6
		push	dx
		push	ax		; src
		push	ds
		push	offset DGROUP:byte_1385A ; dest
		call	_strcpy
		add	sp, 8
		cmp	word_E29E, 0
		jnz	short loc_1B80
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	ds
		push	offset aS_0	; "  %s"
		call	sub_8E0F
		add	sp, 8
		mov	word_E29E, 1
		jmp	short loc_1B94
; ---------------------------------------------------------------------------

loc_1B80:
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	ds
		push	offset aS_2	; "    %s"
		call	sub_8E0F
		add	sp, 8

loc_1B94:
		xor	di, di
		jmp	short loc_1BA3
; ---------------------------------------------------------------------------

loc_1B98:
		push	ds
		push	offset asc_E2BB	; " "
		call	sub_8E0F
		add	sp, 4
		inc	di

loc_1BA3:
		cmp	di, si
		jl	short loc_1B98
		cmp	byte_1385A, 0
		jz	short loc_1BB5
		mov	dx, ds
		mov	ax, 575Ah
		jmp	short loc_1BBA
; ---------------------------------------------------------------------------

loc_1BB5:
		mov	dx, ds
		mov	ax, 13AEh

loc_1BBA:
		push	dx
		push	ax
		push	ds
		push	(offset	aS+1)
		call	sub_8E0F
		add	sp, 8
		pop	di
		pop	si
		pop	bp
		retn	4
sub_1AF2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_1BCC(char *path)
sub_1BCC	proc near

@@path		= dword	ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	0		; oflags
		push	word ptr [bp+@@path+2]
		push	word ptr [bp+@@path] ; path
		call	__open
		add	sp, 6
		mov	si, ax
		or	si, si
		jge	short loc_1BE8
		xor	ax, ax
		jmp	short loc_1C0E
; ---------------------------------------------------------------------------

loc_1BE8:
		mov	handle,	si
		mov	ax, ds
		mov	dx, 2252h
		mov	word ptr dword_1034A+2,	ax
		mov	word ptr dword_1034A, dx
		mov	word_10348, ax
		mov	word_10346, dx
		mov	word_10350, 0
		mov	_offset,	0
		mov	ax, 1

loc_1C0E:
		pop	si
		pop	bp
		retn	4
sub_1BCC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1C13	proc near
		push	bp
		mov	bp, sp
		push	1		; fromwhere
		push	0
		push	0		; offset
		push	handle		; handle
		call	_lseek
		add	sp, 8
		mov	bx, word_10346
		xor	cx, cx
		sub	bx, word ptr dword_1034A
		sbb	cx, 0
		sub	ax, bx
		sbb	dx, cx
		pop	bp
		retn
sub_1C13	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_1C39(__int32 offset, char *path)
sub_1C39	proc near

@@offset		= dword	ptr  4
@@path		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	0		; oflags
		push	word ptr [bp+@@path+2]
		push	word ptr [bp+@@path] ; path
		call	__open
		add	sp, 6
		mov	si, ax
		or	si, si
		jge	short loc_1C55
		xor	ax, ax
		jmp	short loc_1C85
; ---------------------------------------------------------------------------

loc_1C55:
		mov	handle,	si
		mov	ax, ds
		mov	dx, 2252h
		mov	word ptr dword_1034A+2,	ax
		mov	word ptr dword_1034A, dx
		mov	word_10348, ax
		mov	word_10346, dx
		push	0		; fromwhere
		push	word ptr [bp+@@offset+2]
		push	word ptr [bp+@@offset] ; offset
		push	si		; handle
		call	_lseek
		add	sp, 8
		mov	word_10350, dx
		mov	_offset,	ax
		mov	ax, 1

loc_1C85:
		pop	si
		pop	bp
		retn	8
sub_1C39	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1C8A	proc near
		push	bp
		mov	bp, sp
		push	handle		; handle
		call	__close
		pop	cx
		pop	bp
		retn
sub_1C8A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1C97	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_0]
		cmp	si, 0FFFFh
		jz	short loc_1D1C
		dec	word ptr dword_1034A
		cmp	word ptr dword_1034A, 2252h
		jnb	short loc_1D13
		push	0		; fromwhere
		sub	_offset,	1
		mov	ax, _offset
		sbb	word_10350, 0
		mov	dx, word_10350
		push	dx
		push	ax		; offset
		push	handle		; handle
		call	_lseek
		add	sp, 8
		push	400h		; len
		push	ds
		push	offset DGROUP:byte_10352 ; buf
		push	handle		; handle
		call	__read
		add	sp, 8
		mov	di, ax
		or	di, di
		jle	short loc_1CE8
		jmp	short loc_1CFD
; ---------------------------------------------------------------------------

loc_1CE8:
		push	1B2h		; line
		push	ds
		push	offset aMakein_c	; "makein.c"
		push	ds
		push	offset cond	; "bytesRead > 0"
		push	ds
		push	offset msg	; "Assertion failed: %s, file %s, line %d\n"...
		call	___assertfail
; ---------------------------------------------------------------------------
		add	sp, 0Eh

loc_1CFD:
		mov	ax, di
		add	ax, 2252h
		mov	word_10348, ds
		mov	word_10346, ax
		mov	word ptr dword_1034A+2,	ds
		mov	word ptr dword_1034A, 2252h

loc_1D13:
		cmp	si, 0Ah
		jnz	short loc_1D1C
		dec	word_F652

loc_1D1C:
		pop	di
		pop	si
		pop	bp
		retn	2
sub_1C97	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1D22	proc near
		push	bp
		mov	bp, sp
		push	si

loc_1D26:
		mov	ax, word ptr dword_1034A
		cmp	ax, word_10346
		jb	short loc_1D6F
		mov	ax, word_10346
		xor	dx, dx
		sub	ax, 2252h
		sbb	dx, 0
		add	_offset,	ax
		adc	word_10350, dx
		push	400h		; len
		push	ds
		push	offset DGROUP:byte_10352 ; buf
		push	handle		; handle
		call	__read
		add	sp, 8
		mov	si, ax
		or	si, si
		jle	short loc_1D92
		mov	ax, si
		add	ax, 2252h
		mov	word_10348, ds
		mov	word_10346, ax
		mov	word ptr dword_1034A+2,	ds
		mov	word ptr dword_1034A, 2252h

loc_1D6F:
		les	bx, dword_1034A
		mov	al, es:[bx]
		cbw
		mov	si, ax
		inc	word ptr dword_1034A
		cmp	si, 0Dh
		jz	short loc_1D26
		cmp	si, 0Ah
		jnz	short loc_1D8D
		inc	word_F652
		jmp	short loc_1D97
; ---------------------------------------------------------------------------

loc_1D8D:
		cmp	si, 1Ah
		jnz	short loc_1D97

loc_1D92:
		mov	ax, 0FFFFh
		jmp	short loc_1D99
; ---------------------------------------------------------------------------

loc_1D97:
		mov	ax, si

loc_1D99:
		pop	si
		pop	bp
		retn
sub_1D22	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1D9C	proc near
		push	bp
		mov	bp, sp
		push	si

loc_1DA0:
		call	sub_1D22
		mov	si, ax
		cmp	si, 5Ch	; '\'
		jnz	short loc_1E15
		cmp	word_E2C8, 0
		jz	short loc_1DB4
		jmp	loc_1F03
; ---------------------------------------------------------------------------

loc_1DB4:
		call	sub_1D22
		mov	si, ax
		cmp	si, 3Fh	; '?'
		jnz	short loc_1DC1
		jmp	loc_1F03
; ---------------------------------------------------------------------------

loc_1DC1:
		cmp	si, 0Ah
		jz	short loc_1DA0
		cmp	si, 5Ch	; '\'
		jnz	short loc_1DCE
		jmp	loc_1F03
; ---------------------------------------------------------------------------

loc_1DCE:
		cmp	si, 20h	; ' '
		jz	short loc_1DE2
		cmp	si, 9
		jz	short loc_1DE2
		cmp	si, 0Bh
		jz	short loc_1DE2
		cmp	si, 0Ch
		jnz	short loc_1E0B

loc_1DE2:
		call	sub_1D22
		mov	si, ax
		cmp	si, 20h	; ' '
		jz	short loc_1DE2
		cmp	si, 0Bh
		jz	short loc_1DE2
		cmp	si, 0Ch
		jz	short loc_1DE2
		cmp	si, 9
		jz	short loc_1DE2
		cmp	si, 0Ah
		jz	short loc_1DA0
		push	si
		call	sub_1C97
		push	20h ; ' '
		call	sub_1C97
		jmp	short loc_1E0F
; ---------------------------------------------------------------------------

loc_1E0B:
		push	si
		call	sub_1C97

loc_1E0F:
		mov	ax, 5Ch	; '\'
		jmp	loc_1F05
; ---------------------------------------------------------------------------

loc_1E15:
		cmp	si, 20h	; ' '
		jz	short loc_1E29
		cmp	si, 9
		jz	short loc_1E29
		cmp	si, 0Bh
		jz	short loc_1E29
		cmp	si, 0Ch
		jnz	short loc_1E6F

loc_1E29:
		cmp	word_E2C8, 0
		jz	short loc_1E33
		jmp	loc_1F03
; ---------------------------------------------------------------------------

loc_1E33:
		call	sub_1D22
		mov	si, ax
		cmp	si, 20h	; ' '
		jz	short loc_1E33
		cmp	si, 0Bh
		jz	short loc_1E33
		cmp	si, 0Ch
		jz	short loc_1E33
		cmp	si, 9
		jz	short loc_1E33
		cmp	si, 23h	; '#'
		jz	short loc_1E60
		push	ax
		call	sub_1C97
		mov	ax, 20h	; ' '
		jmp	loc_1F05
; ---------------------------------------------------------------------------

loc_1E5B:
		call	sub_1D22
		mov	si, ax

loc_1E60:
		or	si, si
		jnz	short loc_1E67
		jmp	loc_1F03
; ---------------------------------------------------------------------------

loc_1E67:
		cmp	si, 0Ah
		jnz	short loc_1E5B
		jmp	loc_1F03
; ---------------------------------------------------------------------------

loc_1E6F:
		cmp	si, 23h	; '#'
		jnz	short loc_1EA6
		cmp	word_E2C8, 0
		jz	short loc_1E7E
		jmp	loc_1F03
; ---------------------------------------------------------------------------

loc_1E7E:
		cmp	word_E2C8, 0
		jz	short loc_1E88
		jmp	loc_1DA0
; ---------------------------------------------------------------------------

loc_1E88:
		jmp	short loc_1E8F
; ---------------------------------------------------------------------------

loc_1E8A:
		call	sub_1D22
		mov	si, ax

loc_1E8F:
		or	si, si
		jnz	short loc_1E96
		jmp	loc_1DA0
; ---------------------------------------------------------------------------

loc_1E96:
		cmp	si, 0Ah
		jnz	short loc_1E9E
		jmp	loc_1DA0
; ---------------------------------------------------------------------------

loc_1E9E:
		cmp	si, 0FFFFh
		jnz	short loc_1E8A
		jmp	loc_1DA0
; ---------------------------------------------------------------------------

loc_1EA6:
		cmp	si, 22h	; '"'
		jnz	short loc_1EBA
		cmp	word_E2C8, 0
		jnz	short loc_1EFD
		mov	word_E2C8, 1
		jmp	short loc_1F03
; ---------------------------------------------------------------------------

loc_1EBA:
		cmp	si, 5Eh	; '^'
		jnz	short loc_1EE0
		cmp	word_E2C8, 0
		jnz	short loc_1ECB
		call	sub_1D22
		mov	si, ax

loc_1ECB:
		cmp	si, 0Ah
		jnz	short loc_1F03
		push	0Dh
		call	sub_743F

loc_1ED5:
		push	si
		call	sub_743F
		call	sub_1D22
		mov	si, ax
		jmp	short loc_1F03
; ---------------------------------------------------------------------------

loc_1EE0:
		cmp	si, 25h	; '%'
		jnz	short loc_1EF8
		cmp	word_F50E, 0
		jz	short loc_1F03
		call	sub_1D22
		mov	si, ax
		cmp	si, 25h	; '%'
		jnz	short loc_1F03
		jmp	short loc_1ED5
; ---------------------------------------------------------------------------

loc_1EF8:
		cmp	si, 0Ah
		jnz	short loc_1F03

loc_1EFD:
		mov	word_E2C8, 0

loc_1F03:
		mov	ax, si

loc_1F05:
		pop	si
		pop	bp
		retn
sub_1D9C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl main(int argc, const char	**argv,	const char **envp)
public _main
_main		proc near

@@path		= dword	ptr -8
@@src		= dword	ptr -4
@@argc		= word ptr  4
@@argv		= dword	ptr  6
@@envp		= dword	ptr  0Ah

		enter	8, 0
		push	si
		push	di
		mov	si, [bp+@@argc]
		les	bx, [bp+@@argv]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+@@src+2], dx
		mov	word ptr [bp+@@src], ax
		mov	dx, word ptr [bp+@@envp+2]
		mov	ax, word ptr [bp+@@envp]
		mov	word_10754, dx
		mov	env, ax
		call	sub_5D5D
		push	ds
		push	offset a__make__ ; "__MAKE__"
		push	ds
		push	offset a0x0400	; "0x0400"
		call	sub_27B4
		push	ds
		push	offset a__msdos__ ; "__MSDOS__"
		push	ds
		push	offset a1	; "1"
		call	sub_27B4
		cmp	word_F502, 0
		jnz	short loc_1F5C
		push	ds
		push	offset a4_0	; "4.0 "
		push	ds
		push	offset aMakeVersionSCo ; "MAKE Version %s Copyright (c)	1987, 199"...
		call	sub_8E0F
		add	sp, 8

loc_1F5C:
		push	si
		push	word ptr [bp+@@argv+2]
		push	word ptr [bp+@@argv]
		call	sub_860F
		push	word ptr [bp+@@argv+2]
		push	word ptr [bp+@@argv]
		call	sub_8C78
		cmp	word_F4E0, 0
		jz	short loc_1FEE
		call	sub_237C
; ---------------------------------------------------------------------------
		jmp	short loc_1FEE
; ---------------------------------------------------------------------------

loc_1F7B:
		les	bx, [bp+@@argv]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4] ; s
		call	_strlen
		add	sp, 4
		dec	ax
		les	bx, [bp+@@argv]
		mov	dx, es:[bx+6]
		add	ax, es:[bx+4]
		mov	bx, ax
		mov	es, dx
		cmp	byte ptr es:[bx], 3Dh ;	'='
		jnz	short loc_1FBB
		les	bx, [bp+@@argv]
		mov	ax, es:[bx+8]
		or	ax, es:[bx+0Ah]
		jz	short loc_1FE9
		les	bx, es:[bx+8]
		cmp	byte ptr es:[bx], 2Dh ;	'-'
		jz	short loc_1FE9
		jmp	short loc_1FE4
; ---------------------------------------------------------------------------

loc_1FBB:
		les	bx, [bp+@@argv]
		les	bx, es:[bx+4]
		cmp	byte ptr es:[bx+1], 66h	; 'f'
		jnz	short loc_1FE9
		les	bx, [bp+@@argv]
		les	bx, es:[bx+4]
		cmp	byte ptr es:[bx+2], 0
		jnz	short loc_1FE9
		les	bx, [bp+@@argv]
		mov	ax, es:[bx+8]
		or	ax, es:[bx+0Ah]
		jz	short loc_1FE9

loc_1FE4:
		dec	si
		add	word ptr [bp+@@argv], 4

loc_1FE9:
		dec	si
		add	word ptr [bp+@@argv], 4

loc_1FEE:
		cmp	si, 1
		jle	short loc_2013
		les	bx, [bp+@@argv]
		les	bx, es:[bx+4]
		cmp	byte ptr es:[bx], 2Dh ;	'-'
		jnz	short loc_2003
		jmp	loc_1F7B
; ---------------------------------------------------------------------------

loc_2003:
		les	bx, [bp+@@argv]
		les	bx, es:[bx+4]
		cmp	byte ptr es:[bx], 2Fh ;	'/'
		jnz	short loc_2013
		jmp	loc_1F7B
; ---------------------------------------------------------------------------

loc_2013:
		call	sub_29A2
		cmp	word_F504, 0
		jnz	short loc_2026
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		call	sub_21B1

loc_2026:
		push	word ptr off_E332+2
		push	word ptr off_E332	; path
		call	sub_1BCC
		or	ax, ax
		jz	short loc_2038
		jmp	loc_20BB
; ---------------------------------------------------------------------------

loc_2038:
		push	word ptr off_E332+2
		push	word ptr off_E332	; s
		call	_strlen
		add	sp, 4
		add	ax, 5
		push	ax		; size
		call	_malloc
		pop	cx
		mov	word ptr [bp+@@path+2], dx
		mov	word ptr [bp+@@path], ax
		push	ds
		push	offset a_mak	; ".mak"
		push	word ptr off_E332+2
		push	word ptr off_E332	; src
		push	dx
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		push	dx
		push	ax		; dest
		call	_strcat
		add	sp, 8
		push	word ptr [bp+@@path+2]
		push	word ptr [bp+@@path] ; path
		call	sub_1BCC
		or	ax, ax
		jnz	short loc_20AE
		mov	ax, ds
		cmp	word ptr off_E332+2, ax
		jnz	short loc_2094
		cmp	word ptr off_E332, 227h
		jnz	short loc_2094
		cmp	word_E336, 0
		jnz	short loc_20A0

loc_2094:
		push	ds
		push	offset aUnableToOpenMa ; "Unable to open makefile"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 4
		jmp	short loc_20BB
; ---------------------------------------------------------------------------

loc_20A0:
		mov	word ptr off_E332+2, 0
		mov	word ptr off_E332, 0
		jmp	short loc_20BB
; ---------------------------------------------------------------------------

loc_20AE:
		mov	dx, word ptr [bp+@@path+2]
		mov	ax, word ptr [bp+@@path]
		mov	word ptr off_E332+2, dx
		mov	word ptr off_E332, ax

loc_20BB:
		mov	ax, word ptr off_E332
		or	ax, word ptr off_E332+2
		jz	short loc_20CF
		push	word ptr off_E332+2
		push	word ptr off_E332
		call	sub_33BC

loc_20CF:
		cmp	flag_swap, 0
		jz	short loc_20F3
		mov	ax, word ptr __heaptop+2
		sub	ax, __psp
		xor	dx, dx
		mov	cl, 4
		call	near ptr N_LXLSH@
		mov	bx, seg	_TEXT
		mov	es, bx
		assume es:_TEXT
		sub	ax, es:word_9AEE
		sbb	dx, 0
		jmp	short loc_20F6
; ---------------------------------------------------------------------------

loc_20F3:
		call	_farcoreleft

loc_20F6:
		mov	word ptr [bp+@@path+2], dx
		mov	word ptr [bp+@@path], ax
		cmp	word_F502, 0
		jnz	short loc_2113
		push	word ptr [bp+@@path+2]
		push	word ptr [bp+@@path]
		push	ds
		push	offset aAvailableMemor ; "\nAvailable memory %ld bytes\n\n"
		call	sub_8E0F
		add	sp, 8

loc_2113:
		cmp	word_F658, 0
		jz	short loc_212E
		push	word_F658
		push	ds
		push	offset aDErrorsDuringM ; "*** %d errors	during make ***\n"
		call	sub_8E0F
		add	sp, 6
		mov	ax, 1
		jmp	loc_21AD
; ---------------------------------------------------------------------------

loc_212E:
		cmp	si, 1
		jnz	short loc_217C
		cmp	word_F4FE, 0
		jz	short loc_213D
		call	sub_2470

loc_213D:
		mov	dx, word_10764
		mov	ax, word_10762
		mov	word ptr [bp+@@path+2], dx
		mov	word ptr [bp+@@path], ax
		jmp	short loc_2172
; ---------------------------------------------------------------------------

loc_214C:
		les	bx, [bp+@@path]
		assume es:nothing
		test	byte ptr es:[bx+26h], 1
		jz	short loc_2161
		push	word ptr [bp+@@path+2]
		push	bx
		push	0
		call	sub_1A51
		jmp	short loc_21AB
; ---------------------------------------------------------------------------

loc_2161:
		les	bx, [bp+@@path]
		mov	dx, es:[bx+12h]
		mov	ax, es:[bx+10h]
		mov	word ptr [bp+@@path+2], dx
		mov	word ptr [bp+@@path], ax

loc_2172:
		mov	ax, word ptr [bp+@@path]
		or	ax, word ptr [bp+@@path+2]
		jnz	short loc_214C
		jmp	short loc_21AB
; ---------------------------------------------------------------------------

loc_217C:
		mov	di, 1
		jmp	short loc_21A7
; ---------------------------------------------------------------------------

loc_2181:
		mov	ax, di
		inc	di
		shl	ax, 2
		les	bx, [bp+@@argv]
		add	bx, ax
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s
		push	ds
		push	(offset	a__make__+8) ; s2
		push	ds
		push	(offset	a__make__+8) ; __int32
		push	1		; int
		call	sub_2BB1
		push	dx
		push	ax
		push	0
		call	sub_1A51

loc_21A7:
		cmp	di, si
		jl	short loc_2181

loc_21AB:
		xor	ax, ax

loc_21AD:
		pop	di
		pop	si
		leave
		retn
_main		endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_21B1(char *src)
sub_21B1	proc near

var_96		= dword	ptr -96h
@@path		= byte ptr -54h
var_4		= dword	ptr -4
@@src		= dword	ptr  4

		enter	96h, 0
		push	ds
		push	offset path	; "builtins.mak"
		call	sub_1BCC
		or	ax, ax
		jz	short loc_21C6
		push	ds
		push	offset path	; "builtins.mak"
		jmp	short loc_221B
; ---------------------------------------------------------------------------

loc_21C6:
		cmp	__version, 3
		jb	short locret_2224
		push	0
		push	0		; __int32
		push	0
		push	0		; __int32
		push	ss
		lea	ax, [bp+var_96]
		push	ax		; __int32
		push	ss
		lea	ax, [bp+var_4]
		push	ax		; __int32
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		call	sub_90B3
		add	sp, 14h
		push	0		; int
		push	0		; int
		push	ds		; int
		push	offset path	; "builtins.mak"
		push	ss
		lea	ax, [bp+var_96]
		push	ax		; src
		push	ss
		lea	ax, [bp+var_4]
		push	ax		; __int32
		push	ss
		lea	ax, [bp+@@path]
		push	ax		; dest
		call	sub_9247
		add	sp, 14h
		push	ss
		lea	ax, [bp+@@path]
		push	ax		; path
		call	sub_1BCC
		or	ax, ax
		jz	short locret_2224
		push	ss
		lea	ax, [bp+@@path]
		push	ax

loc_221B:
		call	sub_33BC
		mov	word_E336, 1

locret_2224:
		leave
		retn	4
sub_21B1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_2228(__int32, int, int, char *s)
sub_2228	proc near

var_2		= word ptr -2
arg_0		= dword	ptr  4
@@src		= dword	ptr  8
@@s		= dword	ptr  0Ch

		enter	2, 0
		les	bx, [bp+@@s]
		inc	word ptr [bp+@@s]
		mov	al, es:[bx]
		cbw
		mov	[bp+var_2], ax
		mov	cx, 5		; switch 5 cases
		mov	bx, offset word_22CC

loc_223F:
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_2]
		jz	short loc_224E
		add	bx, 2
		loop	loc_223F
		jmp	short locret_22C8 ; default
; ---------------------------------------------------------------------------

loc_224E:
		jmp	word ptr cs:[bx+0Ah] ; switch jump

loc_2252:
		push	word ptr [bp+@@s+2] ; jumptable 0000224E case 73
		push	word ptr [bp+@@s]	; s
		call	sub_894C
		push	dx
		push	ax		; s
		call	sub_2A04

locret_2260:
		leave
		retn	0Ch
; ---------------------------------------------------------------------------

loc_2264:

		push	word ptr [bp+@@s+2] ; jumptable 0000224E case 100
		push	word ptr [bp+@@s]	; src
		call	sub_93D4
		jmp	short locret_2260
; ---------------------------------------------------------------------------

loc_226F:

		push	word ptr [bp+@@s+2] ; jumptable 0000224E case 68
		push	word ptr [bp+@@s]	; int
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0] ; __int32
		call	sub_22E0
		leave
		retn	0Ch
; ---------------------------------------------------------------------------

loc_2288:

		push	word ptr [bp+@@s+2] ; jumptable 0000224E case 85
		push	word ptr [bp+@@s]
		call	sub_28FE
		jmp	short locret_2260
; ---------------------------------------------------------------------------

loc_2293:

		les	bx, [bp+@@s]	; jumptable 0000224E case 102
		cmp	byte ptr es:[bx], 0
		jnz	short loc_22B8
		mov	ax, word ptr [bp+@@src]
		or	ax, word ptr [bp+@@src+2]
		jz	short loc_22B8
		mov	dx, word ptr [bp+@@src+2]
		mov	ax, word ptr [bp+@@src]
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 1

loc_22B8:
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	sub_894C
		mov	word ptr off_E332+2, dx
		mov	word ptr off_E332, ax

locret_22C8:
		leave			; default
		retn	0Ch
sub_2228	endp

; ---------------------------------------------------------------------------
word_22CC	dw    44h,   49h,   55h,   64h
		dw    66h		; value	table for switch statement
		dw offset loc_226F	; jump table for switch	statement
		dw offset loc_2252
		dw offset loc_2288
		dw offset loc_2264
		dw offset loc_2293

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_22E0(__int32, char *src, int, int)
sub_22E0	proc near

var_4		= dword	ptr -4
arg_0		= dword	ptr  4
@@src		= dword	ptr  8
@@name		= dword	ptr  0Ch

		enter	4, 0
		mov	dx, word ptr [bp+@@name+2]
		mov	ax, word ptr [bp+@@name]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	short loc_2362
; ---------------------------------------------------------------------------

loc_22F2:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 3Dh ;	'='
		jnz	short loc_235F
		mov	byte ptr es:[bx], 0
		cmp	byte ptr es:[bx+1], 0
		jnz	short loc_2335
		mov	ax, word ptr [bp+@@src]
		or	ax, word ptr [bp+@@src+2]
		jz	short loc_2354
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		push	ds
		push	offset DGROUP:byte_1285A ; dest
		call	_strcpy
		add	sp, 8
		push	word ptr [bp+@@name+2]
		push	word ptr [bp+@@name] ; name
		push	ds
		push	offset DGROUP:byte_1285A ; s1
		call	sub_27B4
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 1
		jmp	short loc_2354
; ---------------------------------------------------------------------------

loc_2335:
		mov	ax, word ptr [bp+var_4]
		inc	ax
		push	word ptr [bp+var_4+2]
		push	ax		; src
		push	ds
		push	offset DGROUP:byte_1285A ; dest
		call	_strcpy
		add	sp, 8
		push	word ptr [bp+@@name+2]
		push	word ptr [bp+@@name] ; name
		push	ds
		push	offset DGROUP:byte_1285A ; s1
		call	sub_27B4

loc_2354:
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 3Dh ;	'='
		leave
		retn	0Ch
; ---------------------------------------------------------------------------

loc_235F:
		inc	word ptr [bp+var_4]

loc_2362:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_22F2
		push	word ptr [bp+@@name+2]
		push	word ptr [bp+@@name] ; name
		push	ds
		push	offset a1	; "1"
		call	sub_27B4
		leave
		retn	0Ch
sub_22E0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn bp-based	frame

sub_237C	proc near
		push	bp
		mov	bp, sp
		cmp	flag_silent, 0
		jz	short loc_238B
		mov	ax, 2Bh	; '+'
		jmp	short loc_238E
; ---------------------------------------------------------------------------

loc_238B:
		mov	ax, 20h	; ' '

loc_238E:
		push	ax
		cmp	word_F504, 0
		jz	short loc_239B
		mov	ax, 2Bh	; '+'
		jmp	short loc_239E
; ---------------------------------------------------------------------------

loc_239B:
		mov	ax, 20h	; ' '

loc_239E:
		push	ax
		cmp	word_F502, 0
		jz	short loc_23AB
		mov	ax, 2Bh	; '+'
		jmp	short loc_23AE
; ---------------------------------------------------------------------------

loc_23AB:
		mov	ax, 20h	; ' '

loc_23AE:
		push	ax
		cmp	word_F4FE, 0
		jz	short loc_23BB
		mov	ax, 2Bh	; '+'
		jmp	short loc_23BE
; ---------------------------------------------------------------------------

loc_23BB:
		mov	ax, 20h	; ' '

loc_23BE:
		push	ax
		cmp	word_F4FC, 0
		jz	short loc_23CB
		mov	ax, 2Bh	; '+'
		jmp	short loc_23CE
; ---------------------------------------------------------------------------

loc_23CB:
		mov	ax, 20h	; ' '

loc_23CE:
		push	ax
		cmp	word_F4FA, 0
		jz	short loc_23DB
		mov	ax, 2Bh	; '+'
		jmp	short loc_23DE
; ---------------------------------------------------------------------------

loc_23DB:
		mov	ax, 20h	; ' '

loc_23DE:
		push	ax
		cmp	flag_ignore, 0
		jz	short loc_23EB
		mov	ax, 2Bh	; '+'
		jmp	short loc_23EE
; ---------------------------------------------------------------------------

loc_23EB:
		mov	ax, 20h	; ' '

loc_23EE:
		push	ax
		cmp	word_F4F4, 0
		jz	short loc_23FB
		mov	ax, 2Bh	; '+'
		jmp	short loc_23FE
; ---------------------------------------------------------------------------

loc_23FB:
		mov	ax, 20h	; ' '

loc_23FE:
		push	ax
		cmp	flag_cacheautodepend, 0
		jz	short loc_240B
		mov	ax, 2Bh	; '+'
		jmp	short loc_240E
; ---------------------------------------------------------------------------

loc_240B:
		mov	ax, 20h	; ' '

loc_240E:
		push	ax
		cmp	flag_autodepend, 0
		jz	short loc_241B
		mov	ax, 2Bh	; '+'
		jmp	short loc_241E
; ---------------------------------------------------------------------------

loc_241B:
		mov	ax, 20h	; ' '

loc_241E:
		push	ax
		cmp	flag_swap, 0
		jz	short loc_242B
		mov	ax, 2Bh	; '+'
		jmp	short loc_242E
; ---------------------------------------------------------------------------

loc_242B:
		mov	ax, 20h	; ' '

loc_242E:
		push	ax
		cmp	word_F50E, 0
		jz	short loc_243B
		mov	ax, 2Bh	; '+'
		jmp	short loc_243E
; ---------------------------------------------------------------------------

loc_243B:
		mov	ax, 20h	; ' '

loc_243E:
		push	ax
		cmp	flag_keep, 0
		jz	short loc_244B
		mov	ax, 2Bh	; '+'
		jmp	short loc_244E
; ---------------------------------------------------------------------------

loc_244B:
		mov	ax, 20h	; ' '

loc_244E:
		push	ax
		cmp	word_F50A, 0
		jz	short loc_245B
		mov	ax, 2Bh	; '+'
		jmp	short loc_245E
; ---------------------------------------------------------------------------

loc_245B:
		mov	ax, 20h	; ' '

loc_245E:
		push	ax
		push	ds
		push	offset aSyntaxMakeOpti ; "Syntax: MAKE [options	...] target[s]\n  "...
		call	sub_8E0F
		add	sp, 20h
		push	0		; status
		call	sub_8E01
sub_237C	endp

; ---------------------------------------------------------------------------
		db  5Dh	; ]
		db 0C3h	; √

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2470	proc near

var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4

		enter	10h, 0
		push	si
		call	sub_3261
		push	ds
		push	offset format	; "Implicit Rules:\n"
		push	ds
		push	offset _stdout	; stream
		call	_fprintf
		add	sp, 8
		mov	dx, word_10760
		mov	ax, word_1075E
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	loc_256C
; ---------------------------------------------------------------------------

loc_2496:
		les	bx, [bp+var_4]
		mov	ax, es:[bx+8]
		or	ax, es:[bx+0Ah]
		jnz	short loc_24A6
		jmp	loc_255B
; ---------------------------------------------------------------------------

loc_24A6:
		mov	dx, es:[bx+0Ah]
		mov	ax, es:[bx+8]
		jmp	loc_254A
; ---------------------------------------------------------------------------

loc_24B1:
		les	bx, [bp+var_4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		les	bx, [bp+var_C]
		les	bx, es:[bx+0Ch]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	ds
		push	offset a_S_SCommands ; "    .%s.%s:\n	     commands:	  "
		push	ds
		push	offset _stdout	; stream
		call	_fprintf
		add	sp, 10h
		les	bx, [bp+var_C]
		mov	ax, es:[bx+10h]
		or	ax, es:[bx+12h]
		jz	short loc_253F
		les	bx, es:[bx+10h]
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8]
		push	ds
		push	offset aS_3	; "%s\n"
		push	ds
		push	offset _stdout	; stream
		call	_fprintf
		add	sp, 0Ch
		les	bx, [bp+var_C]
		les	bx, es:[bx+10h]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		jmp	short loc_2531
; ---------------------------------------------------------------------------

loc_250E:
		les	bx, [bp+var_10]
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8]
		push	ds
		push	offset aS_4	; "			%s\n"
		push	ds
		push	offset _stdout	; stream
		call	_fprintf
		add	sp, 0Ch
		les	bx, [bp+var_10]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]

loc_2531:
		mov	word ptr [bp+var_10+2],	dx
		mov	word ptr [bp+var_10], ax
		mov	ax, word ptr [bp+var_10]
		or	ax, word ptr [bp+var_10+2]
		jnz	short loc_250E

loc_253F:
		les	bx, [bp+var_C]
		mov	dx, es:[bx+0Ah]
		mov	ax, es:[bx+8]

loc_254A:
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		mov	ax, word ptr [bp+var_C]
		or	ax, word ptr [bp+var_C+2]
		jz	short loc_255B
		jmp	loc_24B1
; ---------------------------------------------------------------------------

loc_255B:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_256C:
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jz	short loc_2577
		jmp	loc_2496
; ---------------------------------------------------------------------------

loc_2577:
		push	ds
		push	offset aTargets	; "\nTargets:\n"
		push	ds
		push	offset _stdout	; stream
		call	_fprintf
		add	sp, 8
		mov	dx, word_10764
		mov	ax, word_10762
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		jmp	loc_270C
; ---------------------------------------------------------------------------

loc_2595:
		les	bx, [bp+var_8]
		mov	ax, es:[bx+14h]
		or	ax, es:[bx+16h]
		jnz	short loc_25A5
		jmp	loc_26FB
; ---------------------------------------------------------------------------

loc_25A5:
		cmp	byte ptr es:[bx+25h], 0
		jz	short loc_25AF
		jmp	loc_26FB
; ---------------------------------------------------------------------------

loc_25AF:
		xor	si, si
		cmp	byte ptr es:[bx+24h], 0
		jz	short loc_25BF
		mov	dx, ds
		mov	ax, 1302h
		jmp	short loc_25C4
; ---------------------------------------------------------------------------

loc_25BF:
		mov	dx, ds
		mov	ax, 244h

loc_25C4:
		push	dx
		push	ax
		les	bx, [bp+var_8]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	ds
		push	offset aSFlagsSDepende ; "    %s:\n	   flags:	%s\n	   "...
		push	ds
		push	offset _stdout	; stream
		call	_fprintf
		add	sp, 10h
		les	bx, [bp+var_8]
		mov	dx, es:[bx+16h]
		mov	ax, es:[bx+14h]
		jmp	short loc_265E
; ---------------------------------------------------------------------------

loc_25EB:
		les	bx, [bp+var_C]
		les	bx, es:[bx+4]
		les	bx, es:[bx+8]
		cmp	byte ptr es:[bx], 0
		jz	short loc_261D
		push	7Dh ; '}'
		les	bx, [bp+var_C]
		les	bx, es:[bx+4]
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8]
		push	7Bh ; '{'
		push	ds
		push	offset aCSC	; "%c%s%c"
		push	ds
		push	offset _stdout	; stream
		call	_fprintf
		add	sp, 10h

loc_261D:
		inc	si
		mov	ax, si
		mov	bx, 4
		cwd
		idiv	bx
		or	dx, dx
		jz	short loc_2631
		mov	dx, ds
		mov	ax, 254h
		jmp	short loc_2636
; ---------------------------------------------------------------------------

loc_2631:
		mov	dx, ds
		mov	ax, 291h

loc_2636:
		push	dx
		push	ax
		les	bx, [bp+var_C]
		les	bx, es:[bx+4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	ds
		push	offset aSS	; "%s%s"
		push	ds
		push	offset _stdout	; stream
		call	_fprintf
		add	sp, 10h
		les	bx, [bp+var_C]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]

loc_265E:
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		mov	ax, word ptr [bp+var_C]
		or	ax, word ptr [bp+var_C+2]
		jz	short loc_266F
		jmp	loc_25EB
; ---------------------------------------------------------------------------

loc_266F:
		les	bx, [bp+var_8]
		mov	ax, es:[bx+0Ch]
		or	ax, es:[bx+0Eh]
		jz	short loc_2681
		mov	ax, 20h	; ' '
		jmp	short loc_2684
; ---------------------------------------------------------------------------

loc_2681:
		mov	ax, 0Ah

loc_2684:
		push	ax
		push	ds
		push	offset aCommandsC ; "\n	       commands:   %c"
		push	ds
		push	offset _stdout	; stream
		call	_fprintf
		add	sp, 0Ah
		les	bx, [bp+var_8]
		mov	ax, es:[bx+0Ch]
		or	ax, es:[bx+0Eh]
		jz	short loc_26FB
		les	bx, es:[bx+0Ch]
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8]
		push	ds
		push	offset aS_3	; "%s\n"
		push	ds
		push	offset _stdout	; stream
		call	_fprintf
		add	sp, 0Ch
		les	bx, [bp+var_8]
		les	bx, es:[bx+0Ch]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		jmp	short loc_26ED
; ---------------------------------------------------------------------------

loc_26CA:
		les	bx, [bp+var_10]
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8]
		push	ds
		push	offset aS_4	; "			%s\n"
		push	ds
		push	offset _stdout	; stream
		call	_fprintf
		add	sp, 0Ch
		les	bx, [bp+var_10]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]

loc_26ED:
		mov	word ptr [bp+var_10+2],	dx
		mov	word ptr [bp+var_10], ax
		mov	ax, word ptr [bp+var_10]
		or	ax, word ptr [bp+var_10+2]
		jnz	short loc_26CA

loc_26FB:
		les	bx, [bp+var_8]
		mov	dx, es:[bx+12h]
		mov	ax, es:[bx+10h]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax

loc_270C:
		mov	ax, word ptr [bp+var_8]
		or	ax, word ptr [bp+var_8+2]
		jz	short loc_2717
		jmp	loc_2595
; ---------------------------------------------------------------------------

loc_2717:
		push	ds
		push	offset asc_E3A8	; "\n\n"
		push	ds
		push	offset _stdout	; stream
		call	_fprintf
		add	sp, 8
		pop	si
		leave
		retn
sub_2470	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_2728(char *s)
sub_2728	proc near

@@dest		= dword	ptr -4
@@s		= dword	ptr  4

		enter	4, 0
		push	si
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	_strlen
		add	sp, 4
		mov	dx, word ptr [bp+@@s+2]
		add	ax, word ptr [bp+@@s]
		mov	word ptr [bp+@@dest+2], dx
		mov	word ptr [bp+@@dest], ax
		cmp	dx, word ptr [bp+@@s+2]
		jnz	short loc_274F
		cmp	ax, word ptr [bp+@@s]
		jz	short loc_2767

loc_274F:
		les	bx, [bp+@@dest]
		cmp	byte ptr es:[bx-1], 2Fh	; '/'
		jz	short loc_2767
		cmp	byte ptr es:[bx-1], 5Ch	; '\'
		jz	short loc_2767
		cmp	byte ptr es:[bx-1], 3Ah	; ':'
		jnz	short loc_276B

loc_2767:
		xor	si, si
		jmp	short loc_276E
; ---------------------------------------------------------------------------

loc_276B:
		mov	si, 1

loc_276E:
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	_strlen
		add	sp, 4
		add	ax, si
		inc	ax
		push	ax		; size
		call	sub_5296
		mov	word ptr [bp+@@dest+2], dx
		mov	word ptr [bp+@@dest], ax
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; src
		push	dx
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		or	si, si
		jz	short loc_27A9
		push	ds
		push	offset asc_E3AC	; "/"
		push	word ptr [bp+@@dest+2]
		push	word ptr [bp+@@dest] ; dest
		call	_strcat
		add	sp, 8

loc_27A9:
		mov	dx, word ptr [bp+@@dest+2]
		mov	ax, word ptr [bp+@@dest]
		pop	si
		leave
		retn	4
sub_2728	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_27B4(char *s1, char	*name)
sub_27B4	proc near

var_4		= dword	ptr -4
@@s		= dword	ptr  4
@@s1		= dword	ptr  8

		enter	4, 0
		push	si
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1]
		call	sub_2AFF
		mov	si, ax
		cmp	word_F4F4, 0
		jz	short loc_27EB
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; name
		call	_getenv
		add	sp, 4
		or	ax, dx
		jz	short loc_27EB
		mov	bx, si
		shl	bx, 2
		mov	dx, [bx+2670h]
		mov	ax, [bx+266Eh]
		jmp	loc_28F9
; ---------------------------------------------------------------------------

loc_27EB:
		mov	bx, si
		shl	bx, 2
		mov	dx, [bx+2670h]
		mov	ax, [bx+266Eh]
		jmp	short loc_284C
; ---------------------------------------------------------------------------

loc_27FA:
		mov	ax, word ptr [bp+var_4]
		add	ax, 0Ah
		push	word ptr [bp+var_4+2]
		push	ax
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1]
		call	sub_2B79
		or	ax, ax
		jz	short loc_2841
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s2
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s1
		call	_strstr
		add	sp, 8
		or	ax, dx
		jz	short loc_2836
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s1
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	sub_6A23

loc_2836:
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1]
		call	sub_28FE
		jmp	short loc_285A
; ---------------------------------------------------------------------------

loc_2841:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]

loc_284C:
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_27FA

loc_285A:
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s
		call	_strlen
		add	sp, 4
		push	ax
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	_strlen
		add	sp, 4
		pop	dx
		add	dx, ax
		add	dx, 0Ch
		push	dx		; size
		call	sub_5296
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; src
		add	ax, 0Ah
		push	dx
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+8], 0
		mov	word ptr es:[bx+6], 0
		mov	bx, si
		shl	bx, 2
		mov	dx, [bx+2670h]
		mov	ax, [bx+266Eh]
		mov	bx, word ptr [bp+var_4]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	byte ptr es:[bx], 0
		mov	bx, si
		shl	bx, 2
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	[bx+2670h], dx
		mov	[bx+266Eh], ax
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; src
		add	ax, 0Ah
		push	dx
		push	ax		; s
		call	_strlen
		add	sp, 4
		add	ax, word ptr [bp+var_4]
		add	ax, 0Bh
		push	word ptr [bp+var_4+2]
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]

loc_28F9:
		pop	si
		leave
		retn	8
sub_27B4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_28FE	proc near

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	8, 0
		push	si
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_2AFF
		mov	si, ax
		mov	word ptr [bp+var_8+2], 0
		mov	word ptr [bp+var_8], 0
		mov	bx, si
		shl	bx, 2
		mov	dx, [bx+2670h]
		mov	ax, [bx+266Eh]
		jmp	short loc_298F
; ---------------------------------------------------------------------------

loc_2927:
		push	[bp+arg_2]
		push	[bp+arg_0]
		mov	ax, word ptr [bp+var_4]
		add	ax, 0Ah
		push	word ptr [bp+var_4+2]
		push	ax
		call	sub_2B79
		or	ax, ax
		jz	short loc_2978
		mov	ax, word ptr [bp+var_8]
		or	ax, word ptr [bp+var_8+2]
		jz	short loc_295E
		les	bx, [bp+var_4]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		les	bx, [bp+var_8]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		jmp	short loc_299D
; ---------------------------------------------------------------------------

loc_295E:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		mov	bx, si
		shl	bx, 2
		mov	[bx+2670h], dx
		mov	[bx+266Eh], ax
		jmp	short loc_299D
; ---------------------------------------------------------------------------

loc_2978:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]

loc_298F:
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_2927

loc_299D:
		pop	si
		leave
		retn	4
sub_28FE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_29A2	proc near

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4

		enter	8, 0
		mov	dx, word_1076C
		mov	ax, word_1076A
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	word_1076C, 0
		mov	word_1076A, 0
		jmp	short loc_29FA
; ---------------------------------------------------------------------------

loc_29C1:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	dx, word_1076C
		mov	ax, word_1076A
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word_1076C, dx
		mov	word_1076A, ax
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_29FA:
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_29C1
		leave
		retn
sub_29A2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_2A04(char *s)
sub_2A04	proc near

var_4		= dword	ptr -4
@@s		= dword	ptr  4

		enter	4, 0
		push	0Ah		; size
		call	sub_5296
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	sub_2728
		les	bx, [bp+var_4]
		mov	es:[bx+8], dx
		mov	es:[bx+6], ax
		mov	dx, word_1076C
		mov	ax, word_1076A
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word_1076C, dx
		mov	word_1076A, ax
		leave
		retn	4
sub_2A04	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2A47	proc near

var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	4, 0
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_2AFF
		shl	ax, 2
		mov	bx, ax
		mov	dx, [bx+2670h]
		mov	ax, [bx+266Eh]
		jmp	short loc_2A8C
; ---------------------------------------------------------------------------

loc_2A63:
		mov	ax, word ptr [bp+var_4]
		add	ax, 0Ah
		push	word ptr [bp+var_4+2]
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_2B79
		or	ax, ax
		jz	short loc_2A81
		mov	ax, 1
		leave
		retn	4
; ---------------------------------------------------------------------------

loc_2A81:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]

loc_2A8C:
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_2A63
		xor	ax, ax
		leave
		retn	4
sub_2A47	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2AA0	proc near

var_4		= dword	ptr -4

		enter	4, 0
		push	ds
		push	offset DGROUP:byte_1385A
		call	sub_2AFF
		shl	ax, 2
		mov	bx, ax
		mov	dx, [bx+2670h]
		mov	ax, [bx+266Eh]
		jmp	short loc_2AE9
; ---------------------------------------------------------------------------

loc_2ABA:
		mov	ax, word ptr [bp+var_4]
		add	ax, 0Ah
		push	word ptr [bp+var_4+2]
		push	ax
		push	ds
		push	offset DGROUP:byte_1385A
		call	sub_2B79
		or	ax, ax
		jz	short loc_2ADE
		les	bx, [bp+var_4]
		test	byte ptr es:[bx], 2
		jz	short loc_2AF7
		xor	dx, dx
		xor	ax, ax
		leave
		retn
; ---------------------------------------------------------------------------

loc_2ADE:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]

loc_2AE9:
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_2ABA

loc_2AF7:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		leave
		retn
sub_2AA0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2AFF	proc near

var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	6, 0
		push	si
		push	di
		xor	di, di
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		xor	si, si
		mov	[bp+var_6], 0
		jmp	short loc_2B3C
; ---------------------------------------------------------------------------

loc_2B1C:
		cmp	[bp+var_6], 8
		jle	short loc_2B27
		mov	[bp+var_6], 0

loc_2B27:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		cbw
		mov	cl, byte ptr [bp+var_6]
		shl	ax, cl
		add	si, ax
		inc	word ptr [bp+var_4]
		inc	[bp+var_6]
		inc	di

loc_2B3C:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_2B4B
		cmp	di, word_E330
		jl	short loc_2B1C

loc_2B4B:
		mov	ax, si
		cwd
		push	ax
		push	dx
		mov	dx, 643Ah
		mov	ax, 71E3h
		pop	cx
		pop	bx
		call	N_LXMUL@
		mov	si, dx
		mov	bx, 3E8h
		mov	ax, si
		cwd
		idiv	bx
		mov	si, dx
		or	si, si
		jge	short loc_2B71
		mov	ax, si
		neg	ax
		mov	si, ax

loc_2B71:
		mov	ax, si
		pop	di
		pop	si
		leave
		retn	4
sub_2AFF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2B79	proc near

arg_0		= dword	ptr  4
arg_4		= dword	ptr  8

		push	bp
		mov	bp, sp
		xor	dx, dx
		jmp	short loc_2BA4
; ---------------------------------------------------------------------------

loc_2B80:
		les	bx, [bp+arg_4]
		mov	al, es:[bx]
		les	bx, [bp+arg_0]
		cmp	al, es:[bx]
		jz	short loc_2B94
		xor	ax, ax
		pop	bp
		retn	8
; ---------------------------------------------------------------------------

loc_2B94:
		les	bx, [bp+arg_4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_2BAA
		inc	dx
		inc	word ptr [bp+arg_4]
		inc	word ptr [bp+arg_0]

loc_2BA4:
		cmp	dx, word_E330
		jl	short loc_2B80

loc_2BAA:
		mov	ax, 1
		pop	bp
		retn	8
sub_2B79	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_2BB1(int, __int32, char *s2, char *s)
sub_2BB1	proc near

var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= dword	ptr  6
@@s2		= dword	ptr  0Ah
@@s		= dword	ptr  0Eh

		enter	0Ch, 0
		mov	word ptr [bp+var_8+2], 0
		mov	word ptr [bp+var_8], 0
		mov	dx, word_10764
		mov	ax, word_10762
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	loc_2D1E
; ---------------------------------------------------------------------------

loc_2BCF:
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s2
		les	bx, [bp+var_4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s1
		call	_stricmp
		add	sp, 8
		or	ax, ax
		jz	short loc_2BEC
		jmp	loc_2D0D
; ---------------------------------------------------------------------------

loc_2BEC:
		les	bx, [bp+@@s2]
		cmp	byte ptr es:[bx], 0
		jz	short loc_2C20
		les	bx, [bp+var_4]
		les	bx, es:[bx+4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_2C20
		push	word ptr [bp+@@s2+2]
		push	word ptr [bp+@@s2] ; s2
		les	bx, [bp+var_4]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4] ; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jz	short loc_2C20
		jmp	loc_2D0D
; ---------------------------------------------------------------------------

loc_2C20:
		les	bx, [bp+arg_2]
		cmp	byte ptr es:[bx], 0
		jz	short loc_2C54
		les	bx, [bp+var_4]
		les	bx, es:[bx+8]
		cmp	byte ptr es:[bx], 0
		jz	short loc_2C54
		push	word ptr [bp+arg_2+2]
		push	word ptr [bp+arg_2] ; s2
		les	bx, [bp+var_4]
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8] ; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jz	short loc_2C54
		jmp	loc_2D0D
; ---------------------------------------------------------------------------

loc_2C54:
		les	bx, [bp+var_4]
		les	bx, es:[bx+4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_2C72
		les	bx, [bp+var_4]
		mov	dx, word ptr [bp+@@s2+2]
		mov	ax, word ptr [bp+@@s2]
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax

loc_2C72:
		les	bx, [bp+var_4]
		les	bx, es:[bx+8]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_2C90
		les	bx, [bp+var_4]
		mov	dx, word ptr [bp+arg_2+2]
		mov	ax, word ptr [bp+arg_2]
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax

loc_2C90:
		mov	ax, word_10766
		or	ax, word_10768
		jnz	short loc_2CB6
		test	byte ptr [bp+arg_0], 1
		jz	short loc_2CB6
		les	bx, [bp+var_4]
		mov	al, byte ptr [bp+arg_0]
		or	es:[bx+26h], al
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word_10768, dx
		mov	word_10766, ax

loc_2CB6:
		test	byte ptr [bp+arg_0], 2
		jnz	short loc_2CBF
		jmp	loc_2F06
; ---------------------------------------------------------------------------

loc_2CBF:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx+25h], 0
		jnz	short loc_2CFB
		mov	ax, es:[bx+0Ch]
		or	ax, es:[bx+0Eh]
		jnz	short loc_2CDD
		mov	ax, es:[bx+14h]
		or	ax, es:[bx+16h]
		jz	short loc_2CF3

loc_2CDD:
		les	bx, [bp+var_4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	ds
		push	offset aUseOfAndDepend ; "Use of : and :: dependents for target	'"...
		call	sub_8D8E
		add	sp, 8
		jmp	short loc_2CFB
; ---------------------------------------------------------------------------

loc_2CF3:
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx+25h], 2

loc_2CFB:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		and	[bp+arg_0], 0FFFDh
		jmp	short loc_2D29
; ---------------------------------------------------------------------------

loc_2D0D:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+12h]
		mov	ax, es:[bx+10h]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_2D1E:
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jz	short loc_2D29
		jmp	loc_2BCF
; ---------------------------------------------------------------------------

loc_2D29:
		push	28h ; '('       ; size
		call	sub_5296
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, word ptr [bp+@@s+2]
		mov	ax, word ptr [bp+@@s]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		mov	dx, word ptr [bp+@@s2+2]
		mov	ax, word ptr [bp+@@s2]
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax
		mov	dx, word ptr [bp+arg_2+2]
		mov	ax, word ptr [bp+arg_2]
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		mov	word ptr es:[bx+0Eh], 0
		mov	word ptr es:[bx+0Ch], 0
		mov	word ptr es:[bx+16h], 0
		mov	word ptr es:[bx+14h], 0
		mov	word ptr es:[bx+12h], 0
		mov	word ptr es:[bx+10h], 0
		mov	byte ptr es:[bx+1Ch], 0
		mov	word ptr es:[bx+20h], 0
		mov	word ptr es:[bx+1Eh], 0
		mov	byte ptr es:[bx+22h], 0
		mov	byte ptr es:[bx+23h], 0
		mov	byte ptr es:[bx+24h], 0
		mov	al, byte ptr [bp+arg_0]
		and	al, 2
		mov	es:[bx+25h], al
		mov	byte ptr es:[bx+26h], 0
		test	byte ptr [bp+arg_0], 1
		jz	short loc_2DBD
		or	byte ptr es:[bx+26h], 1

loc_2DBD:
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	_strlen
		add	sp, 4
		mov	dx, word ptr [bp+@@s+2]
		add	ax, word ptr [bp+@@s]
		dec	ax
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		jmp	short loc_2DFB
; ---------------------------------------------------------------------------

loc_2DD8:
		les	bx, [bp+var_C]
		cmp	byte ptr es:[bx], 2Eh ;	'.'
		jz	short loc_2E03
		les	bx, [bp+var_C]
		cmp	byte ptr es:[bx], 5Ch ;	'\'
		jnz	short loc_2DF8
		mov	dx, word ptr [bp+@@s+2]
		mov	ax, word ptr [bp+@@s]
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		jmp	short loc_2E03
; ---------------------------------------------------------------------------

loc_2DF8:
		dec	word ptr [bp+var_C]

loc_2DFB:
		mov	ax, word ptr [bp+var_C]
		cmp	ax, word ptr [bp+@@s]
		ja	short loc_2DD8

loc_2E03:
		mov	ax, word ptr [bp+var_C]
		cmp	ax, word ptr [bp+@@s]
		jbe	short loc_2E20
		inc	ax
		push	word ptr [bp+var_C+2]
		push	ax		; s2
		call	sub_306C
		les	bx, [bp+var_4]
		mov	es:[bx+1Ah], dx
		mov	es:[bx+18h], ax
		jmp	short loc_2E2F
; ---------------------------------------------------------------------------

loc_2E20:
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+1Ah], 0
		mov	word ptr es:[bx+18h], 0

loc_2E2F:
		mov	ax, word_10762
		or	ax, word_10764
		jz	short loc_2E4C
		les	bx, dword_1075A
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	es:[bx+12h], dx
		mov	es:[bx+10h], ax
		jmp	short loc_2E59
; ---------------------------------------------------------------------------

loc_2E4C:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word_10764, dx
		mov	word_10762, ax

loc_2E59:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr dword_1075A+2,	dx
		mov	word ptr dword_1075A, ax
		mov	ax, word ptr [bp+var_8]
		or	ax, word ptr [bp+var_8+2]
		jz	short loc_2EBD
		les	bx, [bp+var_8]
		mov	dx, es:[bx+0Ah]
		mov	ax, es:[bx+8]
		les	bx, [bp+var_4]
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		les	bx, [bp+var_8]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		les	bx, [bp+var_4]
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax
		les	bx, [bp+var_8]
		mov	al, es:[bx+24h]
		les	bx, [bp+var_4]
		mov	es:[bx+24h], al
		mov	al, es:[bx+23h]
		mov	es:[bx+23h], al
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		push	word ptr [bp+var_4+2]
		push	bx
		call	sub_3142

loc_2EBD:
		mov	ax, word_10766
		or	ax, word_10768
		jnz	short loc_2ED9
		test	byte ptr [bp+arg_0], 1
		jz	short loc_2ED9
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word_10768, dx
		mov	word_10766, ax

loc_2ED9:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx+25h], 0
		jz	short loc_2F06
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4] ; s2
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8] ; __int32
		push	[bp+arg_0]	; int
		call	sub_2BB1
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_2F06:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		leave
		retn	0Eh
sub_2BB1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_2F10(int, int, char	*s2, __int32, __int32)
sub_2F10	proc near

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
@@s2		= dword	ptr  8
arg_8		= dword	ptr  0Ch
arg_C		= dword	ptr  10h

		enter	8, 0
		mov	word ptr [bp+var_8+2], 0
		mov	word ptr [bp+var_8], 0
		les	bx, [bp+arg_C]
		mov	dx, es:[bx+0Ah]
		mov	ax, es:[bx+8]
		jmp	short loc_2FA0
; ---------------------------------------------------------------------------

loc_2F2B:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+0Eh]
		mov	ax, es:[bx+0Ch]
		cmp	dx, word ptr [bp+arg_8+2]
		jnz	short loc_2F75
		cmp	ax, word ptr [bp+arg_8]
		jnz	short loc_2F75
		push	word ptr [bp+@@s2+2]
		push	word ptr [bp+@@s2] ; s2
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_2F75
		push	[bp+arg_2]
		push	[bp+arg_0]	; s2
		les	bx, [bp+var_4]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4] ; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_2F75
		jmp	loc_3062
; ---------------------------------------------------------------------------

loc_2F75:
		les	bx, [bp+arg_8]
		mov	al, es:[bx+10h]
		les	bx, [bp+var_4]
		les	bx, es:[bx+0Ch]
		cmp	al, es:[bx+10h]
		jbe	short loc_2F95
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax

loc_2F95:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+0Ah]
		mov	ax, es:[bx+8]

loc_2FA0:
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jz	short loc_2FB1
		jmp	loc_2F2B
; ---------------------------------------------------------------------------

loc_2FB1:
		push	14h		; size
		call	sub_5296
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+12h], 0
		mov	word ptr es:[bx+10h], 0
		mov	dx, word ptr [bp+arg_8+2]
		mov	ax, word ptr [bp+arg_8]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		mov	word ptr es:[bx+0Ah], 0
		mov	word ptr es:[bx+8], 0
		mov	dx, word ptr [bp+@@s2+2]
		mov	ax, word ptr [bp+@@s2]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax
		mov	ax, word ptr [bp+var_8]
		or	ax, word ptr [bp+var_8+2]
		jz	short loc_3031
		les	bx, [bp+var_8]
		mov	dx, es:[bx+0Ah]
		mov	ax, es:[bx+8]
		les	bx, [bp+var_4]
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		les	bx, [bp+var_8]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		jmp	short loc_3062
; ---------------------------------------------------------------------------

loc_3031:
		les	bx, [bp+arg_C]
		mov	ax, es:[bx+8]
		or	ax, es:[bx+0Ah]
		jz	short loc_3051
		mov	dx, es:[bx+0Ah]
		mov	ax, es:[bx+8]
		les	bx, [bp+var_4]
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax

loc_3051:
		les	bx, [bp+arg_C]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax

loc_3062:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		leave
		retn	10h
sub_2F10	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_306C(char *s2)
sub_306C	proc near

var_4		= dword	ptr -4
@@s2		= dword	ptr  4

		enter	4, 0
		mov	dx, word_10760
		mov	ax, word_1075E
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	short loc_30AD
; ---------------------------------------------------------------------------

loc_307F:
		push	word ptr [bp+@@s2+2]
		push	word ptr [bp+@@s2] ; s2
		les	bx, [bp+var_4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s1
		call	_stricmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_309C
		jmp	loc_3138
; ---------------------------------------------------------------------------

loc_309C:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_30AD:
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_307F
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_3138
		push	12h		; size
		call	sub_5296
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, word ptr [bp+@@s2+2]
		mov	ax, word ptr [bp+@@s2]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		mov	word ptr es:[bx+6], 0
		mov	word ptr es:[bx+4], 0
		mov	word ptr es:[bx+0Ah], 0
		mov	word ptr es:[bx+8], 0
		mov	word ptr es:[bx+0Eh], 0
		mov	word ptr es:[bx+0Ch], 0
		mov	byte ptr es:[bx+10h], 0FFh
		mov	ax, word_1075E
		or	ax, word_10760
		jz	short loc_311E
		les	bx, dword_10756
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax
		jmp	short loc_312B
; ---------------------------------------------------------------------------

loc_311E:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word_10760, dx
		mov	word_1075E, ax

loc_312B:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr dword_10756+2,	dx
		mov	word ptr dword_10756, ax

loc_3138:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		leave
		retn	4
sub_306C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_3142	proc near

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8

		enter	8, 0
		mov	word ptr [bp+var_8+2], 0
		mov	word ptr [bp+var_8], 0
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+16h]
		mov	ax, es:[bx+14h]
		jmp	short loc_3188
; ---------------------------------------------------------------------------

loc_315D:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		cmp	dx, [bp+arg_2]
		jnz	short loc_3172
		cmp	ax, [bp+arg_0]
		jz	short locret_31EA

loc_3172:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]

loc_3188:
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_315D
		push	8		; size
		call	sub_5296
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax
		mov	word ptr es:[bx+2], 0
		mov	word ptr es:[bx], 0
		mov	ax, word ptr [bp+var_8]
		or	ax, word ptr [bp+var_8+2]
		jz	short loc_31D9
		les	bx, [bp+var_8]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		leave
		retn	8
; ---------------------------------------------------------------------------

loc_31D9:
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	es:[bx+16h], dx
		mov	es:[bx+14h], ax

locret_31EA:
		leave
		retn	8
sub_3142	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_31EE	proc near

var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= dword	ptr  0Ch

		enter	4, 0
		push	10h		; size
		call	sub_5296
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax
		mov	word ptr es:[bx+2], 0
		mov	word ptr es:[bx], 0
		mov	ax, word ptr [bp+arg_8]
		or	ax, word ptr [bp+arg_8+2]
		jz	short loc_323F
		les	bx, [bp+arg_8]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_323F:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		leave
		retn	0Ch
sub_31EE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_3249	proc near

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8

		push	bp
		mov	bp, sp
		les	bx, [bp+arg_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		pop	bp
		retn	8
sub_3249	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_3261	proc near

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4

		enter	0Ch, 0
		push	si
		push	ds
		push	offset aMacros	; "\nMacros:\n"
		push	ds
		push	offset _stdout	; stream
		call	_fprintf
		add	sp, 8
		xor	si, si
		jmp	short loc_32E0
; ---------------------------------------------------------------------------

loc_3278:
		mov	bx, si
		shl	bx, 2
		mov	dx, [bx+2670h]
		mov	ax, [bx+266Eh]
		jmp	short loc_32D1
; ---------------------------------------------------------------------------

loc_3287:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		add	ax, 0Ah
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		push	dx
		push	ax		; s
		call	_strlen
		add	sp, 4
		mov	dx, [bp+var_6]
		add	ax, [bp+var_8]
		inc	ax
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		push	dx
		push	ax
		call	sub_78D1
		push	dx
		push	ax
		push	[bp+var_6]
		push	[bp+var_8]
		push	ds
		push	offset a15sS	; "%15s	= %s\n"
		push	ds
		push	offset _stdout	; stream
		call	_fprintf
		add	sp, 10h
		les	bx, [bp+var_4]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]

loc_32D1:
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_3287
		inc	si

loc_32E0:
		cmp	si, 3E8h
		jl	short loc_3278
		pop	si
		leave
		retn
sub_3261	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_32E9(int, int, char	*s)
sub_32E9	proc near

var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
@@s		= dword	ptr  8

		enter	4, 0
		push	si
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]
		call	sub_2AFF
		mov	si, ax
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	_strlen
		add	sp, 4
		add	ax, 9
		push	ax		; size
		call	sub_5296
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; src
		add	ax, 8
		push	dx
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		les	bx, [bp+var_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		mov	bx, si
		shl	bx, 2
		mov	dx, [bx+3610h]
		mov	ax, [bx+360Eh]
		mov	bx, word ptr [bp+var_4]
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax
		mov	bx, si
		shl	bx, 2
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	[bx+3610h], dx
		mov	[bx+360Eh], ax
		pop	si
		leave
		retn	8
sub_32E9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_3363(char *s2)
sub_3363	proc near

var_4		= dword	ptr -4
@@s2		= dword	ptr  4

		enter	4, 0
		push	word ptr [bp+@@s2+2]
		push	word ptr [bp+@@s2]
		call	sub_2AFF
		shl	ax, 2
		mov	bx, ax
		mov	dx, [bx+3610h]
		mov	ax, [bx+360Eh]
		jmp	short loc_33A4
; ---------------------------------------------------------------------------

loc_337F:
		push	word ptr [bp+@@s2+2]
		push	word ptr [bp+@@s2] ; s2
		mov	ax, word ptr [bp+var_4]
		add	ax, 8
		push	word ptr [bp+var_4+2]
		push	ax		; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jz	short loc_33B2
		les	bx, [bp+var_4]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]

loc_33A4:
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_337F

loc_33B2:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		leave
		retn	4
sub_3363	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_33BC	proc near

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	0Ch, 0
		push	si
		push	di
		mov	dx, word_F650
		mov	ax, word_F64E
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	ax, word_F652
		mov	[bp+var_6], ax
		mov	dx, word ptr dword_E3BA+2
		mov	ax, word ptr dword_E3BA
		mov	[bp+var_8], dx
		mov	[bp+var_A], ax
		mov	word ptr dword_E3BA+2, 0
		mov	word ptr dword_E3BA, 0
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word_12706, dx
		mov	s2, ax
		mov	word_F650, dx
		mov	word_F64E, ax
		mov	word_F652, 1

loc_3408:
		xor	di, di

loc_340A:
		call	sub_1D9C
		mov	si, ax
		push	ax
		call	sub_446D
		or	ax, ax
		jz	short loc_341C
		mov	di, 1
		jmp	short loc_340A
; ---------------------------------------------------------------------------

loc_341C:
		mov	word ptr dword_13A62+2,	ds
		mov	word ptr dword_13A62, 475Ah
		cmp	si, 21h	; '!'
		jnz	short loc_3430
		call	sub_49D0
		jmp	short loc_3408
; ---------------------------------------------------------------------------

loc_3430:
		cmp	si, 0FFFFh
		jnz	short loc_3452
		mov	ax, word ptr dword_E3BA
		or	ax, word ptr dword_E3BA+2
		jz	short loc_3496
		les	bx, dword_E3BA
		push	word ptr es:[bx+6]
		push	ds
		push	offset aUnexpectedEndO ; "Unexpected end of file in conditional	s"...
		call	sub_8D8E
		add	sp, 6
		jmp	short loc_348D
; ---------------------------------------------------------------------------

loc_3452:
		cmp	si, 0Ah
		jz	short loc_3408
		push	si
		push	1
		call	sub_693F
		mov	[bp+var_C], ax
		or	di, di
		jz	short loc_3476
		cmp	[bp+var_C], 0
		jnz	short loc_3476
		push	ds
		push	offset aCommandSyntaxE ; "Command syntax error"
		call	sub_8D8E
		add	sp, 4
		jmp	short loc_3408
; ---------------------------------------------------------------------------

loc_3476:
		call	sub_3634
		jmp	short loc_3408
; ---------------------------------------------------------------------------

loc_347B:
		les	bx, dword_E3BA
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr dword_E3BA+2, dx
		mov	word ptr dword_E3BA, ax

loc_348D:
		mov	ax, word ptr dword_E3BA
		or	ax, word ptr dword_E3BA+2
		jnz	short loc_347B

loc_3496:
		mov	dx, [bp+var_8]
		mov	ax, [bp+var_A]
		mov	word ptr dword_E3BA+2, dx
		mov	word ptr dword_E3BA, ax
		call	sub_1C8A
		mov	ax, [bp+var_6]
		mov	word_F652, ax
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		mov	word_F650, dx
		mov	word_F64E, ax
		pop	di
		pop	si
		leave
		retn	4
sub_33BC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_34BF(void *src, char)
sub_34BF	proc near

var_4		= word ptr -4
var_2		= word ptr -2
@@src		= dword	ptr  4
arg_4		= byte ptr  8

		enter	4, 0
		mov	dx, word ptr [bp+@@src+2]
		mov	ax, word ptr [bp+@@src]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		jmp	short loc_34D4
; ---------------------------------------------------------------------------

loc_34D1:
		inc	word ptr [bp+@@src]

loc_34D4:
		les	bx, [bp+@@src]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_34D1
		jmp	short loc_3514
; ---------------------------------------------------------------------------

loc_34DF:
		mov	ax, word ptr [bp+@@src]
		xor	dx, dx
		sub	ax, 475Ah
		sbb	dx, 0
		cmp	ax, 1000h
		jge	short loc_3507
		push	1		; n
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		mov	ax, word ptr [bp+@@src]
		inc	ax
		push	word ptr [bp+@@src+2]
		push	ax		; dest
		call	_memmove
		add	sp, 0Ah
		jmp	short loc_3511
; ---------------------------------------------------------------------------

loc_3507:
		push	ds
		push	offset aRuleLineTooLon ; "Rule line too	long"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 4

loc_3511:
		dec	word ptr [bp+@@src]

loc_3514:
		mov	ax, word ptr [bp+@@src]
		cmp	ax, [bp+var_4]
		jnb	short loc_34DF
		les	bx, [bp+@@src]
		mov	al, [bp+arg_4]
		mov	es:[bx+1], al
		leave
		retn	6
sub_34BF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_352A	proc near

var_122		= dword	ptr -122h
var_E0		= byte ptr -0E0h
@@ffblk		= ffblk	ptr -90h
@@src		= byte ptr -64h
var_14		= dword	ptr -14h
var_A		= dword	ptr -0Ah
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h

		enter	122h, 0
		push	si
		push	di
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	ds
		push	offset aSS_0	; "%s%s"
		push	ss
		lea	ax, [bp+@@src]
		push	ax		; buffer
		call	_sprintf
		add	sp, 10h
		push	ss
		lea	ax, [bp+var_A]
		push	ax		; __int32
		push	ss
		lea	ax, [bp+var_14]
		push	ax		; __int32
		push	ss
		lea	ax, [bp+var_122]
		push	ax		; __int32
		push	ss
		lea	ax, [bp+var_4]
		push	ax		; __int32
		push	ss
		lea	ax, [bp+@@src]
		push	ax		; src
		call	sub_90B3
		add	sp, 14h
		push	0		; attrib
		push	ss
		lea	ax, [bp+@@ffblk]
		push	ax		; ffblk
		push	ss
		lea	ax, [bp+@@src]
		push	ax		; path
		call	_findfirst
		add	sp, 0Ah
		mov	di, ax
		or	di, di
		jz	short loc_3587
		jmp	loc_3609
; ---------------------------------------------------------------------------

loc_3587:
		push	ss
		lea	ax, [bp+@@ffblk.ff_name]
		push	ax
		push	ss
		lea	ax, [bp+var_122]
		push	ax
		push	ss
		lea	ax, [bp+var_4]
		push	ax
		push	ds
		push	offset aSSS	; "%s%s%s"
		push	ss
		lea	ax, [bp+@@src]
		push	ax		; buffer
		call	_sprintf
		add	sp, 14h
		jmp	short loc_3603
; ---------------------------------------------------------------------------

loc_35A8:
		push	ss
		lea	ax, [bp+@@ffblk]
		push	ax		; ffblk
		call	_findnext
		add	sp, 4
		mov	di, ax
		push	ss
		lea	ax, [bp+@@ffblk.ff_name]
		push	ax
		push	ss
		lea	ax, [bp+var_122]
		push	ax
		push	ss
		lea	ax, [bp+var_4]
		push	ax
		push	ds
		push	offset aSSS	; "%s%s%s"
		push	ss
		lea	ax, [bp+var_E0]
		push	ax		; buffer
		call	_sprintf
		add	sp, 14h
		xor	si, si
		jmp	short loc_35ED
; ---------------------------------------------------------------------------

loc_35DA:
		mov	al, [bp+si+var_E0]
		cbw
		push	ax		; char
		push	[bp+arg_C]
		push	[bp+arg_A]	; src
		call	sub_34BF
		inc	si
		inc	[bp+arg_A]

loc_35ED:
		cmp	[bp+si+var_E0],	0
		jnz	short loc_35DA
		push	20h ; ' '       ; char
		mov	ax, [bp+arg_A]
		inc	[bp+arg_A]
		push	[bp+arg_C]
		push	ax		; src
		call	sub_34BF

loc_3603:
		or	di, di
		jz	short loc_35A8
		jmp	short loc_3618
; ---------------------------------------------------------------------------

loc_3609:
		push	ss
		lea	ax, [bp+@@src]
		push	ax
		push	ds
		push	offset aNoMatchFoundFo ; " No match found for wildcard '%s'"
		call	sub_8D8E
		add	sp, 8

loc_3618:
		cmp	[bp+arg_0], 0
		jz	short loc_3629
		push	3Ah ; ':'       ; char
		push	[bp+arg_C]
		push	[bp+arg_A]	; src
		call	sub_34BF

loc_3629:
		mov	dx, ss
		lea	ax, [bp+@@src]
		pop	di
		pop	si
		leave
		retn	0Eh
sub_352A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_3634	proc near

var_1C		= dword	ptr -1Ch
@@s1		= dword	ptr -18h
@@s		= dword	ptr -14h
var_10		= word ptr -10h
@@s2		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4

		enter	1Ch, 0
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 475Ah
		mov	word ptr [bp+@@s2+2], 0
		mov	word ptr [bp+@@s2], 0
		mov	[bp+var_10+2], 0
		mov	[bp+var_10], 0
		cmp	byte_1285A, 20h	; ' '
		jnz	short loc_3664
		push	0
		push	0
		call	sub_498A
		leave
		retn
; ---------------------------------------------------------------------------

loc_3664:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 7Bh ;	'{'
		jnz	short loc_36C5
		inc	ax
		mov	word ptr [bp+@@s2+2], dx
		mov	word ptr [bp+@@s2], ax
		jmp	short loc_3685
; ---------------------------------------------------------------------------

loc_3682:
		inc	word ptr [bp+var_4]

loc_3685:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 7Dh ;	'}'
		jz	short loc_3694
		cmp	byte ptr es:[bx], 0
		jnz	short loc_3682

loc_3694:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_36AF
		cmp	byte ptr es:[bx], 7Dh ;	'}'
		jnz	short loc_36AF
		cmp	byte ptr es:[bx+1], 2Eh	; '.'
		jnz	short loc_36AF
		inc	word ptr [bp+var_4]
		jmp	short loc_36C5
; ---------------------------------------------------------------------------

loc_36AF:
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	word ptr [bp+@@s2+2], 0
		mov	word ptr [bp+@@s2], 0

loc_36C5:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 2Eh ;	'.'
		jz	short loc_36D1
		jmp	loc_393C
; ---------------------------------------------------------------------------

loc_36D1:
		cmp	byte ptr es:[bx+1], 2Eh	; '.'
		jnz	short loc_36DB
		jmp	loc_393C
; ---------------------------------------------------------------------------

loc_36DB:
		cmp	byte ptr es:[bx+1], 2Fh	; '/'
		jnz	short loc_36E5
		jmp	loc_393C
; ---------------------------------------------------------------------------

loc_36E5:
		cmp	byte ptr es:[bx+1], 5Ch	; '\'
		jnz	short loc_36EF
		jmp	loc_393C
; ---------------------------------------------------------------------------

loc_36EF:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		inc	ax
		mov	word ptr [bp+@@s1+2], dx
		mov	word ptr [bp+@@s1], ax
		mov	ax, word ptr [bp+@@s2]
		or	ax, word ptr [bp+@@s2+2]
		jz	short loc_3725
		mov	byte ptr es:[bx-1], 0
		les	bx, [bp+@@s2]
		cmp	byte ptr es:[bx], 0
		jz	short loc_3718
		push	word ptr [bp+@@s2+2]
		push	bx
		jmp	short loc_371C
; ---------------------------------------------------------------------------

loc_3718:
		push	ds
		push	offset a__0	; "."

loc_371C:
		call	sub_894C
		mov	word ptr [bp+@@s2+2], dx
		mov	word ptr [bp+@@s2], ax

loc_3725:
		mov	dx, word ptr [bp+@@s1+2]
		mov	ax, word ptr [bp+@@s1]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	short loc_3736
; ---------------------------------------------------------------------------

loc_3733:
		inc	word ptr [bp+var_4]

loc_3736:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 7Bh ;	'{'
		jz	short loc_3757
		cmp	byte ptr es:[bx], 3Dh ;	'='
		jz	short loc_3757
		cmp	byte ptr es:[bx], 2Eh ;	'.'
		jz	short loc_3757
		cmp	byte ptr es:[bx], 3Ah ;	':'
		jz	short loc_3757
		cmp	byte ptr es:[bx], 0
		jnz	short loc_3733

loc_3757:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_3777
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s1
		push	word ptr [bp+var_4+2]
		push	bx		; __int32
		call	sub_3941
		or	ax, ax
		jz	short loc_3774
		jmp	locret_393F
; ---------------------------------------------------------------------------

loc_3774:
		jmp	loc_3873
; ---------------------------------------------------------------------------

loc_3777:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 7Bh ;	'{'
		jnz	short loc_37E4
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		inc	word ptr [bp+var_4]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	[bp+var_10+2], dx
		mov	[bp+var_10], ax
		jmp	short loc_37A0
; ---------------------------------------------------------------------------

loc_379D:
		inc	word ptr [bp+var_4]

loc_37A0:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 7Dh ;	'}'
		jz	short loc_37AF
		cmp	byte ptr es:[bx], 0
		jnz	short loc_379D

loc_37AF:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_37CE
		cmp	byte ptr es:[bx], 7Dh ;	'}'
		jnz	short loc_37CE
		cmp	byte ptr es:[bx+1], 2Eh	; '.'
		jnz	short loc_37CE
		les	bx, [bp+var_8]
		mov	byte ptr es:[bx], 0
		jmp	short loc_37E4
; ---------------------------------------------------------------------------

loc_37CE:
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	[bp+var_10+2], 0
		mov	[bp+var_10], 0

loc_37E4:
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		inc	word ptr [bp+var_4]
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s1
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; __int32
		call	sub_3941
		or	ax, ax
		jz	short loc_3804
		jmp	locret_393F
; ---------------------------------------------------------------------------

loc_3804:
		mov	ax, [bp+var_10]
		or	ax, [bp+var_10+2]
		jz	short loc_382B
		les	bx, dword ptr [bp+var_10]
		cmp	byte ptr es:[bx], 0
		jz	short loc_381B
		push	[bp+var_10+2]
		push	bx
		jmp	short loc_381F
; ---------------------------------------------------------------------------

loc_381B:
		push	ds
		push	offset a__0	; "."

loc_381F:
		call	sub_894C
		mov	[bp+var_10+2], dx
		mov	[bp+var_10], ax
		inc	word ptr [bp+var_4]

loc_382B:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		jmp	short loc_383C
; ---------------------------------------------------------------------------

loc_3839:
		inc	word ptr [bp+var_4]

loc_383C:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 3Ah ;	':'
		jz	short loc_384B
		cmp	byte ptr es:[bx], 0
		jnz	short loc_3839

loc_384B:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_385A
		push	ds
		push	offset aColonExpected ;	"Colon expected"
		jmp	short loc_3877
; ---------------------------------------------------------------------------

loc_385A:
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0

loc_3861:
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_3861
		cmp	byte ptr es:[bx], 0
		jz	short loc_387F

loc_3873:
		push	ds
		push	offset aCommandSyntaxE ; "Command syntax error"

loc_3877:
		call	sub_8D8E
		add	sp, 4
		leave
		retn
; ---------------------------------------------------------------------------

loc_387F:
		mov	dx, word ptr [bp+@@s1+2]
		mov	ax, word ptr [bp+@@s1]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	short loc_3890
; ---------------------------------------------------------------------------

loc_388D:
		inc	word ptr [bp+var_4]

loc_3890:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_389F
		cmp	byte ptr es:[bx], 0
		jnz	short loc_388D

loc_389F:
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		mov	dx, word ptr [bp+@@s+2]
		mov	ax, word ptr [bp+@@s]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	short loc_38B7
; ---------------------------------------------------------------------------

loc_38B4:
		inc	word ptr [bp+var_4]

loc_38B7:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_38C6
		cmp	byte ptr es:[bx], 0
		jnz	short loc_38B4

loc_38C6:
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		mov	ax, word ptr [bp+@@s2]
		or	ax, word ptr [bp+@@s2+2]
		jnz	short loc_38E2
		push	ds
		push	offset byte_E3DA ; s
		call	sub_894C
		mov	word ptr [bp+@@s2+2], dx
		mov	word ptr [bp+@@s2], ax

loc_38E2:
		mov	ax, [bp+var_10]
		or	ax, [bp+var_10+2]
		jnz	short loc_38F7
		push	ds
		push	offset byte_E3DA ; s
		call	sub_894C
		mov	[bp+var_10+2], dx
		mov	[bp+var_10], ax

loc_38F7:
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	sub_894C
		push	dx
		push	ax		; s2
		call	sub_306C
		push	dx
		push	ax		; __int32
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s
		call	sub_894C
		push	dx
		push	ax		; s2
		call	sub_306C
		push	dx
		push	ax		; __int32
		push	word ptr [bp+@@s2+2]
		push	word ptr [bp+@@s2] ; s2
		push	[bp+var_10+2]	; int
		push	[bp+var_10]	; int
		call	sub_2F10
		mov	word ptr [bp+var_1C+2],	dx
		mov	word ptr [bp+var_1C], ax
		call	sub_4328
		les	bx, [bp+var_1C]
		mov	es:[bx+12h], dx
		mov	es:[bx+10h], ax
		leave
		retn
; ---------------------------------------------------------------------------

loc_393C:
		call	sub_3D5A

locret_393F:
		leave
		retn
sub_3634	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_3941(__int32, char *s1)
sub_3941	proc near

var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
@@name		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
@@s		= dword	ptr -4
arg_0		= dword	ptr  4
@@s1		= dword	ptr  8

		enter	18h, 0
		push	si
		mov	si, 1
		push	2		; maxlen
		push	ds
		push	offset aNo	; "NO"
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s1
		call	_strnicmp
		add	sp, 0Ah
		or	ax, ax
		jnz	short loc_3965
		xor	si, si
		add	word ptr [bp+@@s1], 2

loc_3965:
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s
		call	_strlen
		add	sp, 4
		mov	dx, word ptr [bp+@@s1+2]
		add	ax, word ptr [bp+@@s1]
		dec	ax
		mov	word ptr [bp+var_10+2],	dx
		mov	word ptr [bp+var_10], ax
		les	bx, [bp+var_10]
		cmp	byte ptr es:[bx], 20h ;	' '
		jnz	short loc_399F
		jmp	short loc_398C
; ---------------------------------------------------------------------------

loc_3989:
		dec	word ptr [bp+var_10]

loc_398C:
		les	bx, [bp+var_10]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_3989
		inc	word ptr [bp+var_10]
		les	bx, [bp+var_10]
		mov	byte ptr es:[bx], 0

loc_399F:
		push	ds
		push	offset aPath	; "PATH"
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s1
		call	_stricmp
		add	sp, 8
		or	ax, ax
		jz	short loc_39B6
		jmp	loc_3AE5
; ---------------------------------------------------------------------------

loc_39B6:
		or	si, si
		jnz	short loc_39BD
		jmp	loc_3D53
; ---------------------------------------------------------------------------

loc_39BD:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		jmp	short loc_39CE
; ---------------------------------------------------------------------------

loc_39CB:
		inc	word ptr [bp+arg_0]

loc_39CE:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 3Dh ;	'='
		jz	short loc_39DD
		cmp	byte ptr es:[bx], 0
		jnz	short loc_39CB

loc_39DD:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_39F3
		push	ds
		push	offset aCommandSyntaxE ; "Command syntax error"
		call	sub_8D8E
		add	sp, 4
		jmp	loc_3D4E
; ---------------------------------------------------------------------------

loc_39F3:
		les	bx, [bp+arg_0]
		mov	byte ptr es:[bx], 0
		jmp	short $+2

loc_39FC:
		inc	word ptr [bp+arg_0]
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 20h ;	' '
		jnz	short loc_3A0E
		cmp	byte ptr es:[bx], 0
		jnz	short loc_39FC

loc_3A0E:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_3A24
		push	ds
		push	offset aCommandSyntaxE ; "Command syntax error"
		call	sub_8D8E
		add	sp, 4
		jmp	loc_3D4E
; ---------------------------------------------------------------------------

loc_3A24:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		jmp	short loc_3A35
; ---------------------------------------------------------------------------

loc_3A32:
		inc	word ptr [bp+arg_0]

loc_3A35:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_3A44
		cmp	byte ptr es:[bx], 0
		jnz	short loc_3A32

loc_3A44:
		les	bx, [bp+arg_0]
		mov	byte ptr es:[bx], 0
		mov	dx, word ptr [bp+@@s+2]
		mov	ax, word ptr [bp+@@s]
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		jmp	short loc_3A5C
; ---------------------------------------------------------------------------

loc_3A59:
		inc	word ptr [bp+arg_0]

loc_3A5C:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_3A6B
		cmp	byte ptr es:[bx], 0
		jnz	short loc_3A59

loc_3A6B:
		les	bx, [bp+arg_0]
		mov	byte ptr es:[bx], 0
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	sub_894C
		push	dx
		push	ax		; s2
		call	sub_306C
		push	dx
		push	ax
		push	[bp+var_6]
		push	[bp+var_8]	; s
		call	sub_894C
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		push	dx
		push	ax
		call	sub_3249
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	_strlen
		add	sp, 4
		add	ax, 7
		push	ax		; size
		call	sub_5296
		mov	word ptr [bp+@@name+2], dx
		mov	word ptr [bp+@@name], ax
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1]
		push	ds
		push	offset a_S_	; ".%s."
		push	dx
		push	ax		; buffer
		call	_sprintf
		add	sp, 0Ch
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; src
		push	word ptr [bp+@@name+2]
		push	word ptr [bp+@@name] ; dest
		call	_strcat
		add	sp, 8
		push	word ptr [bp+@@name+2]
		push	word ptr [bp+@@name] ; name
		push	[bp+var_6]
		push	[bp+var_8]	; s1
		call	sub_27B4
		jmp	loc_3D4E
; ---------------------------------------------------------------------------

loc_3AE5:
		push	8		; maxlen
		push	ds
		push	offset aPrecious ; "PRECIOUS"
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s1
		call	_strnicmp
		add	sp, 0Ah
		or	ax, ax
		jz	short loc_3AFE
		jmp	loc_3BAB
; ---------------------------------------------------------------------------

loc_3AFE:
		jmp	short loc_3B03
; ---------------------------------------------------------------------------

loc_3B00:
		inc	word ptr [bp+arg_0]

loc_3B03:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 20h ;	' '
		jnz	short loc_3B12
		cmp	byte ptr es:[bx], 0
		jnz	short loc_3B00

loc_3B12:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 0
		jz	short loc_3B1E
		jmp	loc_3B9F
; ---------------------------------------------------------------------------

loc_3B1E:
		push	ds
		push	offset aCommandSyntaxE ; "Command syntax error"
		call	sub_8D8E
		add	sp, 4
		jmp	loc_3D4E
; ---------------------------------------------------------------------------

loc_3B2B:
		inc	word ptr [bp+arg_0]

loc_3B2E:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 20h ;	' '
		jnz	short loc_3B3D
		cmp	byte ptr es:[bx], 0
		jnz	short loc_3B2B

loc_3B3D:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_3B49
		jmp	loc_3D4E
; ---------------------------------------------------------------------------

loc_3B49:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		jmp	short loc_3B5A
; ---------------------------------------------------------------------------

loc_3B57:
		inc	word ptr [bp+arg_0]

loc_3B5A:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_3B69
		cmp	byte ptr es:[bx], 0
		jnz	short loc_3B57

loc_3B69:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 0
		jz	short loc_3B79
		mov	byte ptr es:[bx], 0
		inc	word ptr [bp+arg_0]

loc_3B79:
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	sub_894C
		push	dx
		push	ax		; s
		push	ds
		push	offset byte_E3DA ; s2
		push	ds
		push	offset byte_E3DA ; __int32
		push	0		; int
		call	sub_2BB1
		mov	word ptr [bp+var_18+2],	dx
		mov	word ptr [bp+var_18], ax
		les	bx, [bp+var_18]
		mov	byte ptr es:[bx+24h], 1

loc_3B9F:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_3B2E
		jmp	loc_3D4E
; ---------------------------------------------------------------------------

loc_3BAB:
		push	8		; maxlen
		push	ds
		push	offset aSuffixes ; "SUFFIXES"
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s1
		call	_strnicmp
		add	sp, 0Ah
		or	ax, ax
		jz	short loc_3BC4
		jmp	loc_3CB3
; ---------------------------------------------------------------------------

loc_3BC4:
		jmp	short loc_3BC9
; ---------------------------------------------------------------------------

loc_3BC6:
		inc	word ptr [bp+arg_0]

loc_3BC9:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 20h ;	' '
		jnz	short loc_3BD8
		cmp	byte ptr es:[bx], 0
		jnz	short loc_3BC6

loc_3BD8:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 0
		jz	short loc_3BE4
		jmp	loc_3CA4
; ---------------------------------------------------------------------------

loc_3BE4:
		mov	dx, word_10760
		mov	ax, word_1075E
		mov	word ptr [bp+var_14+2],	dx
		mov	word ptr [bp+var_14], ax
		jmp	short loc_3C09
; ---------------------------------------------------------------------------

loc_3BF3:
		les	bx, [bp+var_14]
		mov	byte ptr es:[bx+10h], 0FFh
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		mov	word ptr [bp+var_14+2],	dx
		mov	word ptr [bp+var_14], ax

loc_3C09:
		mov	ax, word ptr [bp+var_14]
		or	ax, word ptr [bp+var_14+2]
		jnz	short loc_3BF3
		mov	byte_E3BE, 0
		jmp	loc_3D4E
; ---------------------------------------------------------------------------

loc_3C19:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 2Eh ;	'.'
		jnz	short loc_3C25
		inc	word ptr [bp+arg_0]

loc_3C25:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		jmp	short loc_3C36
; ---------------------------------------------------------------------------

loc_3C33:
		inc	word ptr [bp+arg_0]

loc_3C36:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_3C45
		cmp	byte ptr es:[bx], 0
		jnz	short loc_3C33

loc_3C45:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 0
		jz	short loc_3C55
		mov	byte ptr es:[bx], 0
		inc	word ptr [bp+arg_0]

loc_3C55:
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	sub_894C
		push	dx
		push	ax		; s2
		call	sub_306C
		mov	word ptr [bp+var_14+2],	dx
		mov	word ptr [bp+var_14], ax
		les	bx, [bp+var_14]
		cmp	byte ptr es:[bx+10h], 0FFh
		jnz	short loc_3C7E
		mov	al, byte_E3BE
		mov	es:[bx+10h], al
		inc	byte_E3BE

loc_3C7E:
		cmp	byte_E3BE, 0FFh
		jnz	short loc_3C95
		push	ds
		push	offset aTooManySuffixe ; "Too many suffixes in .SUFFIXES list"
		call	sub_8D8E
		add	sp, 4
		jmp	loc_3D4E
; ---------------------------------------------------------------------------

loc_3C92:
		inc	word ptr [bp+arg_0]

loc_3C95:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 20h ;	' '
		jnz	short loc_3CA4
		cmp	byte ptr es:[bx], 0
		jnz	short loc_3C92

loc_3CA4:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 0
		jz	short loc_3CB0
		jmp	loc_3C19
; ---------------------------------------------------------------------------

loc_3CB0:
		jmp	loc_3D4E
; ---------------------------------------------------------------------------

loc_3CB3:
		push	ds
		push	offset aAutodepend ; "AUTODEPEND"
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s1
		call	_stricmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_3CCE
		mov	flag_autodepend, si
		jmp	loc_3D4E
; ---------------------------------------------------------------------------

loc_3CCE:
		push	ds
		push	offset aSilent	; "SILENT"
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s1
		call	_stricmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_3CE8
		mov	flag_silent, si
		jmp	short loc_3D4E
; ---------------------------------------------------------------------------

loc_3CE8:
		push	ds
		push	offset aSwap	; "SWAP"
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s1
		call	_stricmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_3D02
		mov	flag_swap, si
		jmp	short loc_3D4E
; ---------------------------------------------------------------------------

loc_3D02:
		push	ds
		push	offset aIgnore	; "IGNORE"
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s1
		call	_stricmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_3D1C
		mov	flag_ignore, si
		jmp	short loc_3D4E
; ---------------------------------------------------------------------------

loc_3D1C:
		push	ds
		push	offset aKeep	; "KEEP"
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s1
		call	_stricmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_3D36
		mov	flag_keep, si
		jmp	short loc_3D4E
; ---------------------------------------------------------------------------

loc_3D36:
		push	ds
		push	offset aCacheautodepen ; "CACHEAUTODEPEND"
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s1
		call	_stricmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_3D53
		mov	flag_cacheautodepend, si

loc_3D4E:
		mov	ax, 1
		jmp	short loc_3D55
; ---------------------------------------------------------------------------

loc_3D53:
		xor	ax, ax

loc_3D55:
		pop	si
		leave
		retn	8
sub_3941	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_3D5A	proc near

@@s1		= dword	ptr -0Ch
@@name		= dword	ptr -8
var_4		= dword	ptr -4

		enter	0Ch, 0
		push	si
		xor	si, si
		mov	ax, word_10766
		or	ax, word_10768
		jnz	short loc_3D6D
		mov	si, 1

loc_3D6D:
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 475Ah
		jmp	short loc_3DBF
; ---------------------------------------------------------------------------

loc_3D77:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 3Dh ;	'='
		jz	short loc_3DC8
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 3Ah ;	':'
		jnz	short loc_3DBC
		cmp	byte ptr es:[bx+1], 3Ah	; ':'
		jnz	short loc_3DAB
		cmp	byte ptr es:[bx+2], 20h	; ' '
		jz	short loc_3D9E
		cmp	byte ptr es:[bx+2], 0
		jnz	short loc_3DAB

loc_3D9E:
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx+1], 20h	; ' '
		or	si, 2
		jmp	short loc_3DC8
; ---------------------------------------------------------------------------

loc_3DAB:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx+1], 20h	; ' '
		jz	short loc_3DC8
		cmp	byte ptr es:[bx+1], 0
		jz	short loc_3DC8

loc_3DBC:
		inc	word ptr [bp+var_4]

loc_3DBF:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_3D77

loc_3DC8:
		mov	ax, word ptr [bp+var_4]
		xor	dx, dx
		sub	ax, 475Ah
		sbb	dx, 0
		or	ax, dx
		jnz	short loc_3DE7
		push	ds
		push	offset aCommandSyntaxE ; "Command syntax error"
		call	sub_8D8E
		add	sp, 4
		jmp	loc_3E83
; ---------------------------------------------------------------------------

loc_3DE4:
		inc	word ptr [bp+var_4]

loc_3DE7:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_3DE4
		cmp	byte ptr es:[bx], 3Dh ;	'='
		jz	short loc_3DF9
		jmp	loc_3E7B
; ---------------------------------------------------------------------------

loc_3DF9:
		mov	word ptr [bp+@@name+2], ds
		mov	word ptr [bp+@@name], 475Ah
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		inc	ax
		mov	word ptr [bp+@@s1+2], dx
		mov	word ptr [bp+@@s1], ax

loc_3E0E:
		dec	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_3E0E
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		jmp	short loc_3E29
; ---------------------------------------------------------------------------

loc_3E26:
		inc	word ptr [bp+@@s1]

loc_3E29:
		les	bx, [bp+@@s1]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_3E26
		push	word ptr [bp+@@s1+2]
		push	bx		; s
		call	_strlen
		add	sp, 4
		mov	dx, word ptr [bp+@@s1+2]
		add	ax, word ptr [bp+@@s1]
		dec	ax
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 20h ;	' '
		jnz	short loc_3E6A
		jmp	short loc_3E57
; ---------------------------------------------------------------------------

loc_3E54:
		dec	word ptr [bp+var_4]

loc_3E57:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_3E54
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0

loc_3E6A:
		push	word ptr [bp+@@name+2]
		push	word ptr [bp+@@name] ; name
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s1
		call	sub_27B4
		jmp	short loc_3E83
; ---------------------------------------------------------------------------

loc_3E7B:
		push	ds
		push	offset DGROUP:byte_1285A
		push	si
		call	sub_3F95

loc_3E83:
		pop	si
		leave
		retn
sub_3D5A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_3E86(char *s, int, int)
sub_3E86	proc near

var_120		= dword	ptr -120h
var_D0		= dword	ptr -0D0h
@@s		= byte ptr -8Eh
@@ffblk		= ffblk	ptr -3Eh
var_12		= dword	ptr -12h
var_C		= dword	ptr -0Ch
var_8		= byte ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
@@src		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	120h, 0
		push	si
		push	0		; attrib
		push	ss
		lea	ax, [bp+@@ffblk]
		push	ax		; ffblk
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; path
		call	_findfirst
		add	sp, 0Ah
		mov	si, ax
		or	si, si
		jz	short loc_3EF9
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src]
		push	ds
		push	offset aNoMatchFoundFo ; " No match found for wildcard '%s'"
		call	sub_8D8E
		add	sp, 8
		push	ss
		lea	ax, [bp+@@src]
		push	ax
		push	ss
		lea	ax, [bp+var_8]
		push	ax
		call	sub_52C0
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; s
		call	sub_894C
		push	dx
		push	ax		; s
		push	[bp+var_2]
		push	[bp+var_4]	; s
		call	sub_894C
		push	dx
		push	ax		; s2
		push	ds
		push	offset byte_E3DA ; s
		call	sub_894C
		push	dx
		push	ax		; __int32
		push	1		; int
		call	sub_2BB1
		push	dx
		push	ax
		call	sub_3142
		jmp	loc_3F90
; ---------------------------------------------------------------------------

loc_3EF9:
		push	ss
		lea	ax, [bp+var_12]
		push	ax		; __int32
		push	ss
		lea	ax, [bp+var_120]
		push	ax		; __int32
		push	ss
		lea	ax, [bp+var_D0]
		push	ax		; __int32
		push	ss
		lea	ax, [bp+var_C]
		push	ax		; __int32
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		call	sub_90B3
		add	sp, 14h
		jmp	short loc_3F8C
; ---------------------------------------------------------------------------

loc_3F1D:
		push	ss
		lea	ax, [bp+@@src]
		push	ax
		push	ss
		lea	ax, [bp+var_8]
		push	ax
		call	sub_52C0
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		push	ss
		lea	ax, [bp+@@ffblk.ff_name]
		push	ax
		push	ss
		lea	ax, [bp+var_D0]
		push	ax
		push	ss
		lea	ax, [bp+var_C]
		push	ax
		push	ds
		push	offset aSSS	; "%s%s%s"
		push	ss
		lea	ax, [bp+@@s]
		push	ax		; buffer
		call	_sprintf
		add	sp, 14h
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	ss
		lea	ax, [bp+@@s]
		push	ax		; s
		call	sub_894C
		push	dx
		push	ax		; s
		push	[bp+var_2]
		push	[bp+var_4]	; s
		call	sub_894C
		push	dx
		push	ax		; s2
		push	ds
		push	offset byte_E3DA ; s
		call	sub_894C
		push	dx
		push	ax		; __int32
		push	1		; int
		call	sub_2BB1
		push	dx
		push	ax
		call	sub_3142
		push	ss
		lea	ax, [bp+@@ffblk]
		push	ax		; ffblk
		call	_findnext
		add	sp, 4
		mov	si, ax

loc_3F8C:
		or	si, si
		jz	short loc_3F1D

loc_3F90:
		pop	si
		leave
		retn	8
sub_3E86	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_3F95	proc near

var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= dword	ptr -0Ch
var_8		= word ptr -8
@@s		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	20h, 0
		push	si
		mov	si, [bp+arg_0]
		mov	[bp+var_12], ds
		mov	[bp+var_14], 2DAh
		cmp	sp, __stklen
		ja	short loc_3FB1
		cmp	sp, 200h
		jnb	short loc_3FBB

loc_3FB1:
		push	ds
		push	offset aNotEnoughMemor ; "Not enough memory"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 4

loc_3FBB:
		mov	dx, [bp+arg_4]
		mov	ax, [bp+arg_2]
		mov	word ptr [bp+var_18+2],	dx
		mov	word ptr [bp+var_18], ax
		jmp	short loc_3FEC
; ---------------------------------------------------------------------------

loc_3FC9:
		les	bx, [bp+var_18]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_3FF5
		les	bx, [bp+var_18]
		cmp	byte ptr es:[bx], 3Ah ;	':'
		jnz	short loc_3FE9
		cmp	byte ptr es:[bx+1], 20h	; ' '
		jz	short loc_3FF5
		cmp	byte ptr es:[bx+1], 0
		jz	short loc_3FF5

loc_3FE9:
		inc	word ptr [bp+var_18]

loc_3FEC:
		les	bx, [bp+var_18]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_3FC9

loc_3FF5:
		mov	ax, word ptr [bp+var_18]
		xor	dx, dx
		sub	ax, [bp+arg_2]
		sbb	dx, 0
		or	ax, dx
		jnz	short loc_401B
		push	ds
		push	offset aCommandSyntaxE ; "Command syntax error"
		call	sub_8D8E
		add	sp, 4
		jmp	loc_4132
; ---------------------------------------------------------------------------

loc_4011:
		les	bx, [bp+var_18]
		mov	byte ptr es:[bx], 0
		inc	word ptr [bp+var_18]

loc_401B:
		les	bx, [bp+var_18]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_4011
		mov	word_126FE, 0
		mov	word_12700, 0
		mov	dx, [bp+arg_4]
		mov	ax, [bp+arg_2]
		mov	word ptr [bp+var_1C+2],	dx
		mov	word ptr [bp+var_1C], ax
		jmp	short loc_4067
; ---------------------------------------------------------------------------

loc_403E:
		les	bx, [bp+var_1C]
		cmp	byte ptr es:[bx], 2Ah ;	'*'
		jz	short loc_404D
		cmp	byte ptr es:[bx], 3Fh ;	'?'
		jnz	short loc_4064

loc_404D:
		mov	word_126FE, 1
		les	bx, [bp+var_18]
		cmp	byte ptr es:[bx], 3Ah ;	':'
		jnz	short loc_406F
		mov	word_12700, 1
		jmp	short loc_406F
; ---------------------------------------------------------------------------

loc_4064:
		inc	word ptr [bp+var_1C]

loc_4067:
		mov	ax, word ptr [bp+var_1C]
		cmp	ax, word ptr [bp+var_18]
		jbe	short loc_403E

loc_406F:
		les	bx, [bp+var_18]
		cmp	byte ptr es:[bx], 3Ah ;	':'
		jnz	short loc_4082
		cmp	word_12700, 0
		jnz	short loc_4082
		jmp	loc_417C
; ---------------------------------------------------------------------------

loc_4082:
		cmp	word_12700, 0
		jz	short loc_4093
		les	bx, [bp+var_18]
		mov	byte ptr es:[bx], 0
		inc	word ptr [bp+var_18]

loc_4093:
		cmp	word_126FE, 0
		jz	short loc_40C3
		push	word ptr [bp+var_18+2]
		push	word ptr [bp+var_18]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	ds
		push	offset byte_E3DA
		push	word_12700
		call	sub_352A
		push	dx
		push	ax		; src
		push	ds
		push	offset DGROUP:byte_126AE ; dest
		call	_strcpy
		add	sp, 8
		push	ds
		push	offset DGROUP:byte_126AE
		jmp	short loc_40C9
; ---------------------------------------------------------------------------

loc_40C3:
		push	[bp+arg_4]
		push	[bp+arg_2]	; s

loc_40C9:
		call	sub_894C
		push	dx
		push	ax		; s
		push	ds
		push	offset byte_E3DA ; s
		call	sub_894C
		push	dx
		push	ax		; s2
		push	ds
		push	offset byte_E3DA ; s
		call	sub_894C
		push	dx
		push	ax		; __int32
		push	si		; int
		call	sub_2BB1
		mov	[bp+var_8+2], dx
		mov	[bp+var_8], ax
		les	bx, dword ptr [bp+var_8]
		mov	ax, es:[bx+0Ch]
		or	ax, es:[bx+0Eh]
		jnz	short loc_4101
		mov	ax, es:[bx+14h]
		or	ax, es:[bx+16h]
		jz	short loc_411D

loc_4101:
		les	bx, dword ptr [bp+var_8]
		mov	al, es:[bx+25h]
		cbw
		test	al, 2
		jnz	short loc_411D
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	ds
		push	offset aRedefinitionOf ; "Redefinition of target '%s'"
		call	sub_8D8E
		add	sp, 8

loc_411D:
		push	word ptr [bp+var_18+2]
		push	word ptr [bp+var_18]
		push	si
		call	sub_3F95
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		or	ax, word ptr [bp+var_C+2]
		jnz	short loc_4139

loc_4132:
		xor	dx, dx
		xor	ax, ax
		jmp	loc_4323
; ---------------------------------------------------------------------------

loc_4139:
		les	bx, [bp+var_C]
		mov	dx, es:[bx+0Eh]
		mov	ax, es:[bx+0Ch]
		les	bx, dword ptr [bp+var_8]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		les	bx, [bp+var_C]
		mov	dx, es:[bx+16h]
		mov	ax, es:[bx+14h]
		les	bx, dword ptr [bp+var_8]
		mov	es:[bx+16h], dx
		mov	es:[bx+14h], ax
		les	bx, [bp+var_C]
		mov	al, es:[bx+25h]
		les	bx, dword ptr [bp+var_8]
		mov	es:[bx+25h], al
		mov	dx, word ptr [bp+var_C+2]
		mov	ax, word ptr [bp+var_C]
		jmp	loc_4323
; ---------------------------------------------------------------------------

loc_417C:
		les	bx, [bp+var_18]
		mov	byte ptr es:[bx], 0
		inc	word ptr [bp+var_18]
		push	[bp+arg_4]
		push	[bp+arg_2]	; s
		call	sub_894C
		push	dx
		push	ax		; s
		push	ds
		push	offset byte_E3DA ; s
		call	sub_894C
		push	dx
		push	ax		; s2
		push	ds
		push	offset byte_E3DA ; s
		call	sub_894C
		push	dx
		push	ax		; __int32
		push	si		; int
		call	sub_2BB1
		mov	[bp+var_8+2], dx
		mov	[bp+var_8], ax
		les	bx, dword ptr [bp+var_8]
		mov	ax, es:[bx+0Ch]
		or	ax, es:[bx+0Eh]
		jnz	short loc_41C4
		mov	ax, es:[bx+14h]
		or	ax, es:[bx+16h]
		jz	short loc_41E9

loc_41C4:
		test	si, 2
		jnz	short loc_41E9
		les	bx, dword ptr [bp+var_8]
		cmp	byte ptr es:[bx+25h], 0
		jz	short loc_41E9
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	ds
		push	offset aUseOfAndDepend ; "Use of : and :: dependents for target	'"...
		call	sub_8D8E
		add	sp, 8
		jmp	short loc_41E9
; ---------------------------------------------------------------------------

loc_41E6:
		inc	word ptr [bp+var_18]

loc_41E9:
		les	bx, [bp+var_18]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_41E6
		cmp	byte ptr es:[bx], 0
		jnz	short loc_41FB
		jmp	loc_42D3
; ---------------------------------------------------------------------------

loc_41FB:
		mov	dx, word ptr [bp+var_18+2]
		mov	ax, word ptr [bp+var_18]
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		jmp	short loc_420C
; ---------------------------------------------------------------------------

loc_4209:
		inc	word ptr [bp+var_18]

loc_420C:
		les	bx, [bp+var_18]
		cmp	byte ptr es:[bx], 0
		jz	short loc_4227
		cmp	byte ptr es:[bx], 20h ;	' '
		jnz	short loc_4209
		jmp	short loc_4227
; ---------------------------------------------------------------------------

loc_421D:
		les	bx, [bp+var_18]
		mov	byte ptr es:[bx], 0
		inc	word ptr [bp+var_18]

loc_4227:
		les	bx, [bp+var_18]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_421D
		push	ss
		lea	ax, [bp+@@s]
		push	ax
		push	ss
		lea	ax, [bp+var_14]
		push	ax
		call	sub_52C0
		mov	[bp+var_E], dx
		mov	[bp+var_10], ax
		push	2Ah ; '*'       ; c
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	_strchr
		add	sp, 6
		or	ax, dx
		jnz	short loc_4267
		push	3Fh ; '?'       ; c
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	_strchr
		add	sp, 6
		or	ax, dx
		jz	short loc_4278

loc_4267:
		push	[bp+var_8+2]	; int
		push	[bp+var_8]	; int
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	sub_3E86
		jmp	short loc_42C7
; ---------------------------------------------------------------------------

loc_4278:
		les	bx, [bp+@@s]
		cmp	byte ptr es:[bx], 24h ;	'$'
		jnz	short loc_4296
		push	[bp+var_8+2]
		push	[bp+var_8]
		push	[bp+var_8+2]
		push	[bp+var_8]
		push	word ptr [bp+@@s+2]
		push	bx
		call	sub_7690
		jmp	short loc_42A5
; ---------------------------------------------------------------------------

loc_4296:
		push	[bp+var_8+2]
		push	[bp+var_8]
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	sub_894C

loc_42A5:
		push	dx
		push	ax		; s
		push	[bp+var_E]
		push	[bp+var_10]	; s
		call	sub_894C
		push	dx
		push	ax		; s2
		push	[bp+var_12]
		push	[bp+var_14]	; s
		call	sub_894C
		push	dx
		push	ax		; __int32
		push	1		; int
		call	sub_2BB1
		push	dx
		push	ax
		call	sub_3142

loc_42C7:
		les	bx, [bp+var_18]
		cmp	byte ptr es:[bx], 0
		jz	short loc_42D3
		jmp	loc_41FB
; ---------------------------------------------------------------------------

loc_42D3:
		call	sub_4328
		mov	[bp+var_1E], dx
		mov	[bp+var_20], ax
		les	bx, dword ptr [bp+var_8]
		mov	ax, es:[bx+0Ch]
		or	ax, es:[bx+0Eh]
		jz	short loc_4302
		mov	ax, [bp+var_20]
		or	ax, [bp+var_1E]
		jz	short loc_4302
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	ds
		push	offset aTooManyRulesFo ; "Too many rules for target '%s'"
		call	sub_8D8E
		add	sp, 8

loc_4302:
		les	bx, dword ptr [bp+var_8]
		mov	ax, es:[bx+0Ch]
		or	ax, es:[bx+0Eh]
		jnz	short loc_431D
		mov	dx, [bp+var_1E]
		mov	ax, [bp+var_20]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax

loc_431D:
		mov	dx, [bp+var_8+2]
		mov	ax, [bp+var_8]

loc_4323:
		pop	si
		leave
		retn	6
sub_3F95	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4328	proc near

var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2

		enter	0Eh, 0
		push	si
		mov	[bp+var_2], 0
		mov	[bp+var_4], 0
		mov	[bp+var_A], 0
		mov	[bp+var_C], 0
		mov	word ptr [bp+var_8+2], 0
		mov	word ptr [bp+var_8], 0

loc_434B:
		call	sub_1D9C
		mov	si, ax
		cmp	si, 0Ah
		jz	short loc_434B
		cmp	si, 21h	; '!'
		jnz	short loc_435F
		call	sub_49D0
		jmp	short loc_434B
; ---------------------------------------------------------------------------

loc_435F:
		push	si
		call	sub_446D
		or	ax, ax
		jnz	short loc_436A
		jmp	loc_4460
; ---------------------------------------------------------------------------

loc_436A:
		call	sub_1D9C
		mov	si, ax
		mov	word ptr dword_13A62+2,	ds
		mov	word ptr dword_13A62, 475Ah
		cmp	si, 0FFFFh
		jnz	short loc_4381
		jmp	loc_4460
; ---------------------------------------------------------------------------

loc_4381:
		cmp	si, 0Ah
		jz	short loc_434B
		mov	word ptr dword_13A62+2,	ds
		mov	word ptr dword_13A62, 475Ah
		mov	byte_1285A, 0
		mov	[bp+var_A], 0
		mov	[bp+var_C], 0
		jmp	short loc_4419
; ---------------------------------------------------------------------------

loc_43A1:
		push	si
		call	sub_743F
		call	sub_1D9C
		mov	si, ax
		cmp	si, 3Ch	; '<'
		jnz	short loc_43EC
		call	sub_1D9C
		mov	[bp+var_E], ax
		cmp	ax, 3Ch	; '<'
		jnz	short loc_43E7
		cmp	word_F50E, 0
		jz	short loc_43CC
		push	[bp+var_A]
		push	[bp+var_C]
		call	sub_53E4
		jmp	short loc_43DA
; ---------------------------------------------------------------------------

loc_43CC:
		push	3Ch ; '<'
		call	sub_743F
		push	[bp+var_A]
		push	[bp+var_C]
		call	sub_47AC

loc_43DA:
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		call	sub_1D9C
		mov	si, ax
		jmp	short loc_4419
; ---------------------------------------------------------------------------

loc_43E7:
		push	[bp+var_E]
		jmp	short loc_4416
; ---------------------------------------------------------------------------

loc_43EC:
		cmp	si, 26h	; '&'
		jnz	short loc_4419
		call	sub_1D9C
		mov	byte ptr [bp+var_E+1], al
		cmp	al, 26h	; '&'
		jnz	short loc_4411
		push	[bp+var_A]
		push	[bp+var_C]
		call	sub_47AC
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		call	sub_1D9C
		mov	si, ax
		jmp	short loc_4419
; ---------------------------------------------------------------------------

loc_4411:
		mov	al, byte ptr [bp+var_E+1]
		cbw
		push	ax

loc_4416:
		call	sub_1C97

loc_4419:
		cmp	si, 0FFFFh
		jz	short loc_4426
		cmp	si, 0Ah
		jz	short loc_4426
		jmp	loc_43A1
; ---------------------------------------------------------------------------

loc_4426:
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		call	sub_498A
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	dx, [bp+var_A]
		mov	ax, [bp+var_C]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		mov	ax, [bp+var_4]
		or	ax, [bp+var_2]
		jz	short loc_4451
		jmp	loc_434B
; ---------------------------------------------------------------------------

loc_4451:
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		jmp	loc_434B
; ---------------------------------------------------------------------------

loc_4460:
		push	si
		call	sub_1C97
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	si
		leave
		retn
sub_4328	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_446D	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		mov	dx, [bp+arg_0]
		cmp	dx, 20h	; ' '
		jz	short loc_447D
		cmp	dx, 9
		jnz	short loc_4484

loc_447D:
		mov	ax, 1
		pop	bp
		retn	2
; ---------------------------------------------------------------------------

loc_4484:
		xor	ax, ax
		pop	bp
		retn	2
sub_446D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_448A	proc near

var_4		= word ptr -4
var_2		= word ptr -2

		enter	4, 0
		mov	ax, word_E3D6
		mov	bx, 3E8h
		cwd
		idiv	bx
		mov	bx, 0Ah
		cwd
		idiv	bx
		add	dl, 30h	; '0'
		mov	byte_E3CC, dl
		mov	ax, word_E3D6
		mov	bx, 64h	; 'd'
		cwd
		idiv	bx
		mov	bx, 0Ah
		cwd
		idiv	bx
		add	dl, 30h	; '0'
		mov	byte_E3CD, dl
		mov	ax, word_E3D6
		cwd
		idiv	bx
		cwd
		idiv	bx
		add	dl, 30h	; '0'
		mov	byte_E3CE, dl
		mov	ax, word_E3D6
		cwd
		idiv	bx
		add	dl, 30h	; '0'
		mov	byte_E3CF, dl
		inc	word_E3D6
		push	ds
		push	offset aMake_0	; "MAKE"
		call	sub_894C
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	dx, [bp+var_2]
		leave
		retn
sub_448A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_44ED	proc near
		push	bp
		mov	bp, sp
		push	si
		call	sub_1D9C
		mov	si, ax
		cmp	si, 0FFFFh
		jnz	short loc_4505
		push	ds
		push	offset aUnexpectedEn_0 ; "Unexpected end of file"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 4

loc_4505:
		cmp	si, 3Ch	; '<'
		jnz	short loc_4533
		call	sub_1D9C
		mov	si, ax
		cmp	si, 0FFFFh
		jnz	short loc_451E
		push	ds
		push	offset aUnexpectedEn_0 ; "Unexpected end of file"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 4

loc_451E:
		cmp	si, 3Ch	; '<'
		jnz	short loc_4528
		mov	ax, 1
		jmp	short loc_4539
; ---------------------------------------------------------------------------

loc_4528:
		push	si
		call	sub_1C97
		push	3Ch ; '<'
		call	sub_1C97
		jmp	short loc_4537
; ---------------------------------------------------------------------------

loc_4533:
		push	si
		call	sub_1C97

loc_4537:
		xor	ax, ax

loc_4539:
		pop	si
		pop	bp
		retn
sub_44ED	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_453C	proc near

block		= dword	ptr -24h
var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_1C		= dword	ptr -1Ch
@@s		= dword	ptr -18h
@@s2		= byte ptr -14h
var_10		= byte ptr -10h
var_E		= byte ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= dword	ptr  4

		enter	24h, 0
		push	si
		push	di
		mov	word ptr [bp+var_4+2], 0
		mov	word ptr [bp+var_4], 0
		mov	dx, word ptr dword_13A62+2
		mov	ax, word ptr dword_13A62
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx+0Ch], 0
		mov	word ptr es:[bx+0Ah], 0
		mov	byte ptr es:[bx], 1
		call	sub_44ED
		or	ax, ax
		jz	short loc_459C
		push	0Eh		; size
		call	sub_5296
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx+0Ch], 0
		mov	word ptr es:[bx+0Ah], 0
		mov	word ptr es:[bx+4], 0
		mov	word ptr es:[bx+2], 0
		jmp	loc_46BC
; ---------------------------------------------------------------------------

loc_459C:
		mov	[bp+var_C], 0

loc_45A1:
		call	sub_1D9C
		mov	[bp+var_6], ax
		cmp	[bp+var_6], 0FFFFh
		jnz	short loc_45B7
		push	ds
		push	offset aUnexpectedEn_0 ; "Unexpected end of file"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 4

loc_45B7:
		cmp	[bp+var_6], 21h	; '!'
		jnz	short loc_4621
		push	ds
		push	offset DGROUP:byte_1285A ; s
		call	_strlen
		add	sp, 4
		inc	ax
		push	ax		; size
		call	sub_5296
		mov	word ptr [bp+block+2], dx
		mov	word ptr [bp+block], ax
		push	ds
		push	offset DGROUP:byte_1285A ; src
		push	dx
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		mov	dx, word ptr dword_13A62+2
		mov	ax, word ptr dword_13A62
		mov	[bp+var_1E], dx
		mov	[bp+var_20], ax
		call	sub_49D0
		push	word ptr [bp+block+2]
		push	word ptr [bp+block] ; src
		push	ds
		push	offset DGROUP:byte_1285A ; dest
		call	_strcpy
		add	sp, 8
		mov	ax, word ptr [bp+block]
		or	ax, word ptr [bp+block+2]
		jz	short loc_4612
		push	word ptr [bp+block+2]
		push	word ptr [bp+block] ; block
		call	_farfree
		add	sp, 4

loc_4612:
		mov	dx, [bp+var_1E]
		mov	ax, [bp+var_20]
		mov	word ptr dword_13A62+2,	dx
		mov	word ptr dword_13A62, ax
		jmp	short loc_463B
; ---------------------------------------------------------------------------

loc_4621:
		push	[bp+var_6]
		call	sub_743F
		cmp	[bp+var_6], 0Ah
		jnz	short loc_4632
		mov	[bp+var_C], 1

loc_4632:
		cmp	[bp+var_C], 0
		jnz	short loc_463B
		jmp	loc_45A1
; ---------------------------------------------------------------------------

loc_463B:
		push	8		; size
		call	sub_5296
		mov	word ptr [bp+var_1C+2],	dx
		mov	word ptr [bp+var_1C], ax
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	sub_894C
		les	bx, [bp+var_1C]
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax
		mov	word ptr es:[bx+2], 0
		mov	word ptr es:[bx], 0
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ah]
		or	ax, es:[bx+0Ch]
		jnz	short loc_4682
		mov	dx, word ptr [bp+var_1C+2]
		mov	ax, word ptr [bp+var_1C]
		mov	es:[bx+0Ch], dx
		mov	es:[bx+0Ah], ax
		jmp	short loc_4692
; ---------------------------------------------------------------------------

loc_4682:
		les	bx, [bp+var_4]
		mov	dx, word ptr [bp+var_1C+2]
		mov	ax, word ptr [bp+var_1C]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_4692:
		mov	dx, word ptr [bp+var_1C+2]
		mov	ax, word ptr [bp+var_1C]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	dx, word ptr [bp+@@s+2]
		mov	ax, word ptr [bp+@@s]
		mov	word ptr dword_13A62+2,	dx
		mov	word ptr dword_13A62, ax
		les	bx, [bp+@@s]
		mov	byte ptr es:[bx], 0
		call	sub_44ED
		or	ax, ax
		jnz	short loc_46BC
		jmp	loc_459C
; ---------------------------------------------------------------------------

loc_46BC:
		xor	si, si
		jmp	short loc_46C5
; ---------------------------------------------------------------------------

loc_46C0:
		mov	[bp+si+@@s2], 0
		inc	si

loc_46C5:
		cmp	si, 8
		jl	short loc_46C0
		xor	si, si
		call	sub_1D9C
		mov	[bp+var_6], ax
		xor	di, di
		jmp	short loc_46F3
; ---------------------------------------------------------------------------

loc_46D6:
		cmp	si, 8
		jge	short loc_46E4
		mov	al, byte ptr [bp+var_6]
		mov	[bp+si+@@s2], al
		inc	si
		jmp	short loc_46ED
; ---------------------------------------------------------------------------

loc_46E4:
		cmp	[bp+var_6], 20h	; ' '
		jz	short loc_46ED
		mov	di, 1

loc_46ED:
		call	sub_1D9C
		mov	[bp+var_6], ax

loc_46F3:
		cmp	[bp+var_6], 0FFFFh
		jz	short loc_46FF
		cmp	[bp+var_6], 0Ah
		jnz	short loc_46D6

loc_46FF:
		push	[bp+var_6]
		call	sub_1C97
		mov	al, [bp+var_E]
		cbw
		mov	[bp+var_A], ax
		mov	[bp+var_E], 0
		push	ss
		lea	ax, [bp+@@s2]
		push	ax		; s2
		push	ds
		push	offset s1	; "NOKEEP"
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_472D
		les	bx, [bp+arg_0]
		mov	byte ptr es:[bx+1], 0
		jmp	short loc_47A0
; ---------------------------------------------------------------------------

loc_472D:
		mov	al, byte ptr [bp+var_A]
		mov	[bp+var_E], al
		mov	al, [bp+var_10]
		cbw
		mov	[bp+var_A], ax
		mov	[bp+var_10], 0
		push	ss
		lea	ax, [bp+@@s2]
		push	ax		; s2
		push	ds
		push	offset aKeep	; "KEEP"
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_475B
		les	bx, [bp+arg_0]
		mov	byte ptr es:[bx+1], 1
		jmp	short loc_47A0
; ---------------------------------------------------------------------------

loc_475B:
		mov	[bp+var_8], 1
		xor	si, si
		jmp	short loc_4777
; ---------------------------------------------------------------------------

loc_4764:
		mov	bx, si
		inc	si
		lea	ax, [bp+@@s2]
		add	bx, ax
		cmp	byte ptr ss:[bx], 20h ;	' '
		jz	short loc_4777
		mov	[bp+var_8], 0

loc_4777:
		cmp	[bp+si+@@s2], 0
		jz	short loc_4782
		cmp	si, 8
		jl	short loc_4764

loc_4782:
		cmp	[bp+var_8], 0
		jz	short loc_478C
		or	di, di
		jz	short loc_4796

loc_478C:
		push	ds
		push	offset aOnlyKeepOrNoke ; "Only <<KEEP or <<NOKEEP"
		call	sub_8D8E
		add	sp, 4

loc_4796:
		les	bx, [bp+arg_0]
		mov	al, byte ptr flag_keep
		mov	es:[bx+1], al

loc_47A0:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		leave
		retn	4
sub_453C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_47AC	proc near

block		= dword	ptr -1Ah
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= dword	ptr -12h
var_E		= byte ptr -0Eh
var_D		= byte ptr -0Dh
@@s		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	1Ah, 0
		mov	word ptr [bp+var_8+2], 0
		mov	word ptr [bp+var_8], 0
		mov	dx, word ptr dword_13A62+2
		mov	ax, word ptr dword_13A62
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		mov	[bp+var_E], 0
		push	0Eh		; size
		call	sub_5296
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		call	sub_448A
		les	bx, [bp+var_4]
		mov	es:[bx+8], dx
		mov	es:[bx+6], ax
		mov	byte ptr es:[bx], 0
		mov	word ptr es:[bx+0Ch], 0
		mov	word ptr es:[bx+0Ah], 0
		call	sub_1D9C
		mov	[bp+var_D], al
		cmp	al, 0Ah
		jnz	short loc_4810
		push	ds
		push	offset aNoTerminatorSp ; "No terminator	specified for in-line fil"...
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 4
		jmp	short loc_4810
; ---------------------------------------------------------------------------

loc_480A:
		call	sub_1D9C
		mov	[bp+var_E], al

loc_4810:
		cmp	[bp+var_E], 0Ah
		jnz	short loc_480A
		jmp	loc_4934
; ---------------------------------------------------------------------------

loc_4819:
		cmp	[bp+var_E], 21h	; '!'
		jz	short loc_4822
		jmp	loc_48AE
; ---------------------------------------------------------------------------

loc_4822:
		mov	al, [bp+var_E]
		cmp	al, [bp+var_D]
		jnz	short loc_482D
		jmp	loc_48AE
; ---------------------------------------------------------------------------

loc_482D:
		push	ds
		push	offset DGROUP:byte_1285A ; s
		call	_strlen
		add	sp, 4
		inc	ax
		push	ax		; size
		call	sub_5296
		mov	word ptr [bp+block+2], dx
		mov	word ptr [bp+block], ax
		push	ds
		push	offset DGROUP:byte_1285A ; src
		push	dx
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		mov	dx, word ptr dword_13A62+2
		mov	ax, word ptr dword_13A62
		mov	[bp+var_14], dx
		mov	[bp+var_16], ax
		call	sub_49D0
		push	word ptr [bp+block+2]
		push	word ptr [bp+block] ; src
		push	ds
		push	offset DGROUP:byte_1285A ; dest
		call	_strcpy
		add	sp, 8
		mov	ax, word ptr [bp+block]
		or	ax, word ptr [bp+block+2]
		jz	short loc_4882
		push	word ptr [bp+block+2]
		push	word ptr [bp+block] ; block
		call	_farfree
		add	sp, 4

loc_4882:
		mov	dx, [bp+var_14]
		mov	ax, [bp+var_16]
		mov	word ptr dword_13A62+2,	dx
		mov	word ptr dword_13A62, ax
		jmp	loc_4934
; ---------------------------------------------------------------------------

loc_4892:
		mov	al, [bp+var_E]
		cbw
		push	ax
		call	sub_743F
		call	sub_1D9C
		mov	[bp+var_E], al
		cmp	al, 0FFh
		jnz	short loc_48AE
		push	ds
		push	offset aNoTerminatorSp ; "No terminator	specified for in-line fil"...
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 4

loc_48AE:
		cmp	[bp+var_E], 0Ah
		jnz	short loc_4892
		mov	al, [bp+var_E]
		cbw
		push	ax
		call	sub_743F
		push	8		; size
		call	sub_5296
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	sub_894C
		les	bx, [bp+var_12]
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax
		mov	word ptr es:[bx+2], 0
		mov	word ptr es:[bx], 0
		les	bx, [bp+var_4]
		mov	ax, es:[bx+0Ah]
		or	ax, es:[bx+0Ch]
		jnz	short loc_4903
		mov	dx, word ptr [bp+var_12+2]
		mov	ax, word ptr [bp+var_12]
		mov	es:[bx+0Ch], dx
		mov	es:[bx+0Ah], ax
		jmp	short loc_4913
; ---------------------------------------------------------------------------

loc_4903:
		les	bx, [bp+var_8]
		mov	dx, word ptr [bp+var_12+2]
		mov	ax, word ptr [bp+var_12]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_4913:
		mov	dx, word ptr [bp+var_12+2]
		mov	ax, word ptr [bp+var_12]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		mov	dx, word ptr [bp+@@s+2]
		mov	ax, word ptr [bp+@@s]
		mov	word ptr dword_13A62+2,	dx
		mov	word ptr dword_13A62, ax
		les	bx, dword_13A62
		mov	byte ptr es:[bx], 0

loc_4934:
		call	sub_1D9C
		mov	[bp+var_E], al
		mov	al, [bp+var_E]
		cmp	al, [bp+var_D]
		jz	short loc_4945
		jmp	loc_4819
; ---------------------------------------------------------------------------

loc_4945:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		jmp	short loc_4966
; ---------------------------------------------------------------------------

loc_4958:
		les	bx, [bp+@@s]
		mov	al, es:[bx]
		cbw
		push	ax
		call	sub_743F
		inc	word ptr [bp+@@s]

loc_4966:
		les	bx, [bp+@@s]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_4958
		les	bx, [bp+var_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		leave
		retn	4
sub_47AC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_498A	proc near

var_8		= word ptr -8
var_6		= word ptr -6
@@s		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	8, 0
		mov	word ptr [bp+@@s+2], ds
		mov	word ptr [bp+@@s], 475Ah
		jmp	short loc_499B
; ---------------------------------------------------------------------------

loc_4998:
		inc	word ptr [bp+@@s]

loc_499B:
		les	bx, [bp+@@s]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_4998
		mov	dx, word ptr [bp+@@s+2]
		mov	ax, word ptr [bp+@@s]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		push	dx
		push	ax		; s
		call	sub_894C
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	[bp+var_6]
		push	ax
		push	0
		push	0
		call	sub_31EE
		leave
		retn	4
sub_498A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_49D0	proc near
		push	bp
		mov	bp, sp
		push	si
		call	sub_4A48
		mov	si, ax
		mov	bx, word_12702
		cmp	bx, 0Eh
		ja	short loc_4A27
		add	bx, bx
		jmp	cs:off_4A2A[bx]

loc_49E9:
		push	si
		call	sub_5678
		jmp	short loc_4A27
; ---------------------------------------------------------------------------

loc_49EF:

		push	si
		call	sub_4E81
		jmp	short loc_4A27
; ---------------------------------------------------------------------------

loc_49F5:

		push	si
		push	word_12702
		call	sub_510B
		jmp	short loc_4A27
; ---------------------------------------------------------------------------

loc_49FF:

		push	si
		call	sub_5091
		jmp	short loc_4A27
; ---------------------------------------------------------------------------

loc_4A05:

		push	si
		call	sub_516A
		jmp	short loc_4A27
; ---------------------------------------------------------------------------

loc_4A0B:

		push	si
		call	sub_4CA3
; ---------------------------------------------------------------------------
		jmp	short loc_4A27
; ---------------------------------------------------------------------------

loc_4A11:

		push	si
		call	sub_520A
		jmp	short loc_4A27
; ---------------------------------------------------------------------------

loc_4A17:

		push	si
		call	sub_51B2
		jmp	short loc_4A27
; ---------------------------------------------------------------------------

loc_4A1D:

		push	si
		call	sub_4CC0
		jmp	short loc_4A27
; ---------------------------------------------------------------------------

loc_4A23:

		push	si
		call	sub_4CDD

loc_4A27:
		pop	si
		pop	bp
		retn
sub_49D0	endp

; ---------------------------------------------------------------------------
off_4A2A	dw offset loc_49E9
		dw offset loc_49EF
		dw offset loc_4A27
		dw offset loc_49FF
		dw offset loc_49F5
		dw offset loc_49F5
		dw offset loc_4A11
		dw offset loc_49F5
		dw offset loc_4A05
		dw offset loc_4A27
		dw offset loc_4A17
		dw offset loc_4A27
		dw offset loc_4A0B
		dw offset loc_4A1D
		dw offset loc_4A23

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4A48	proc near

var_A		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= dword	ptr -4

		enter	0Ah, 0
		push	20h ; ' '
		call	sub_565E
		mov	[bp+var_6], ax
		cmp	[bp+var_6], 0Ah
		jnz	short loc_4A63
		mov	word_12702, 0
		jmp	loc_4C9E
; ---------------------------------------------------------------------------

loc_4A63:
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 575Ah
		jmp	short loc_4A7F
; ---------------------------------------------------------------------------

loc_4A6D:
		les	bx, [bp+var_4]
		mov	al, byte ptr [bp+var_6]
		mov	es:[bx], al
		inc	word ptr [bp+var_4]
		call	sub_1D9C
		mov	[bp+var_6], ax

loc_4A7F:
		mov	bx, [bp+var_6]
		test	byte ptr [bx+1D69h], 0Ch
		jnz	short loc_4A6D
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		cmp	[bp+var_6], 20h	; ' '
		jz	short loc_4A99
		jmp	loc_4B39
; ---------------------------------------------------------------------------

loc_4A99:
		push	ds
		push	offset aElse	; "else"
		push	ds
		push	offset DGROUP:byte_1385A ; s1
		call	_stricmp
		add	sp, 8
		or	ax, ax
		jz	short loc_4AAE
		jmp	loc_4B39
; ---------------------------------------------------------------------------

loc_4AAE:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr [bp+var_A+2], dx
		mov	word ptr [bp+var_A], ax
		call	sub_1D22
		les	bx, [bp+var_4]
		mov	es:[bx], al
		cbw
		mov	[bp+var_6], ax
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		cmp	[bp+var_6], 69h	; 'i'
		jz	short loc_4B06
		cmp	[bp+var_6], 49h	; 'I'
		jz	short loc_4B06

loc_4ADD:
		dec	word ptr [bp+var_4]
		jmp	short loc_4AF0
; ---------------------------------------------------------------------------

loc_4AE2:
		les	bx, [bp+var_4]
		dec	word ptr [bp+var_4]
		mov	al, es:[bx]
		cbw
		push	ax
		call	sub_1C97

loc_4AF0:
		mov	ax, word ptr [bp+var_4]
		cmp	ax, word ptr [bp+var_A]
		jnb	short loc_4AE2
		les	bx, [bp+var_A]
		mov	byte ptr es:[bx], 0
		mov	[bp+var_6], 20h	; ' '
		jmp	short loc_4B39
; ---------------------------------------------------------------------------

loc_4B06:
		call	sub_1D22
		les	bx, [bp+var_4]
		mov	es:[bx], al
		cbw
		mov	[bp+var_6], ax
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		cmp	[bp+var_6], 66h	; 'f'
		jz	short loc_4B29
		cmp	[bp+var_6], 46h	; 'F'
		jnz	short loc_4ADD

loc_4B29:
		call	sub_1D22
		mov	[bp+var_6], ax
		push	ax
		call	sub_1C97
		cmp	[bp+var_6], 20h	; ' '
		jnz	short loc_4ADD

loc_4B39:
		push	[bp+var_6]
		call	sub_565E
		mov	[bp+var_6], ax
		push	ds
		push	offset DGROUP:byte_1385A ; s
		call	_strlwr
		add	sp, 4
		push	ds
		push	offset DGROUP:byte_1385A ; s2
		push	ds
		push	offset aInclude	; "include"
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_4B67
		mov	word_12702, 1
		jmp	loc_4C9E
; ---------------------------------------------------------------------------

loc_4B67:
		push	ds
		push	offset DGROUP:byte_1385A ; s2
		push	ds
		push	offset aUndef	; "undef"
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_4B82
		mov	word_12702, 3
		jmp	loc_4C9E
; ---------------------------------------------------------------------------

loc_4B82:
		push	ds
		push	offset DGROUP:byte_1385A ; s2
		push	ds
		push	offset aElif	; "elif"
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jz	short loc_4BA6
		push	ds
		push	offset DGROUP:byte_1385A ; s2
		push	ds
		push	offset aElseif	; "elseif"
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_4BAF

loc_4BA6:
		mov	word_12702, 0Ah
		jmp	loc_4C9E
; ---------------------------------------------------------------------------

loc_4BAF:
		push	ds
		push	offset DGROUP:byte_1385A ; s2
		push	ds
		push	(offset	aElif+2) ; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_4BCA
		mov	word_12702, 7
		jmp	loc_4C9E
; ---------------------------------------------------------------------------

loc_4BCA:
		push	ds
		push	offset DGROUP:byte_1385A ; s2
		push	ds
		push	offset aIfdef	; "ifdef"
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_4BE5
		mov	word_12702, 4
		jmp	loc_4C9E
; ---------------------------------------------------------------------------

loc_4BE5:
		push	ds
		push	offset DGROUP:byte_1385A ; s2
		push	ds
		push	offset aIfndef	; "ifndef"
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_4C00
		mov	word_12702, 5
		jmp	loc_4C9E
; ---------------------------------------------------------------------------

loc_4C00:
		push	ds
		push	offset DGROUP:byte_1385A ; s2
		push	ds
		push	offset aEndif	; "endif"
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_4C1B
		mov	word_12702, 6
		jmp	loc_4C9E
; ---------------------------------------------------------------------------

loc_4C1B:
		push	ds
		push	offset DGROUP:byte_1385A ; s2
		push	ds
		push	offset aElse	; "else"
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_4C35
		mov	word_12702, 8
		jmp	short loc_4C9E
; ---------------------------------------------------------------------------

loc_4C35:
		push	ds
		push	offset DGROUP:byte_1385A ; s2
		push	ds
		push	offset aError	; "error"
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_4C4F
		mov	word_12702, 0Ch
		jmp	short loc_4C9E
; ---------------------------------------------------------------------------

loc_4C4F:
		push	ds
		push	offset DGROUP:byte_1385A ; s2
		push	ds
		push	offset aMessage	; "message"
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_4C69
		mov	word_12702, 0Dh
		jmp	short loc_4C9E
; ---------------------------------------------------------------------------

loc_4C69:
		push	ds
		push	offset DGROUP:byte_1385A ; s2
		push	ds
		push	offset aCmdswitches ; "cmdswitches"
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_4C83
		mov	word_12702, 0Eh
		jmp	short loc_4C9E
; ---------------------------------------------------------------------------

loc_4C83:
		mov	word_12702, 0
		push	ds
		push	offset aUnknownPreproc ; "Unknown preprocessor statement"
		call	sub_8D8E
		add	sp, 4
		push	[bp+var_6]
		call	sub_5678
		mov	[bp+var_6], 0FFFFh

loc_4C9E:
		mov	ax, [bp+var_6]
		leave
		retn
sub_4A48	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn bp-based	frame

sub_4CA3	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	[bp+arg_0]
		push	0
		call	sub_693F
		push	ds
		push	offset DGROUP:byte_1285A
		push	ds
		push	offset aErrorDirective ; "Error	directive: %s"
		call	sub_8D1A
sub_4CA3	endp

; ---------------------------------------------------------------------------
		add	sp, 8
		pop	bp
		retn	2

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4CC0	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	[bp+arg_0]
		push	0
		call	sub_693F
		push	ds
		push	offset DGROUP:byte_1285A
		push	ds
		push	offset aS_5	; "%s\r\n"
		call	sub_8E0F
		add	sp, 8
		pop	bp
		retn	2
sub_4CC0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4CDD	proc near

key		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  4

		enter	6, 0
		push	si
		xor	si, si
		mov	ax, word_E3D8
		mov	[bp+key], ax
		push	[bp+arg_0]
		call	sub_5E7D
		or	ax, ax
		jz	short loc_4D57
		call	sub_5026
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_4D21
		cmp	byte ptr es:[bx], 2Bh ;	'+'
		jz	short loc_4D21
		cmp	byte ptr es:[bx], 2Dh ;	'-'
		jz	short loc_4D21
		mov	al, es:[bx]
		cbw
		push	ax
		push	ds
		push	offset aUnknownCmdswit ; "Unknown CMDSWITCHES operator '%c'"
		call	sub_8D8E
		add	sp, 6

loc_4D21:
		les	bx, [bp+var_4]
		inc	word ptr [bp+var_4]
		cmp	byte ptr es:[bx], 2Bh ;	'+'
		jnz	short loc_4D4B
		mov	si, 1
		jmp	short loc_4D4B
; ---------------------------------------------------------------------------

loc_4D32:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		mov	byte ptr [bp+key], al
		push	ss
		lea	ax, [bp+key]
		push	ax		; key
		push	si		; int
		call	sub_88F1
		or	ax, ax
		jnz	short loc_4D54
		inc	word ptr [bp+var_4]

loc_4D4B:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_4D32

loc_4D54:
		call	sub_8C1B

loc_4D57:
		pop	si
		leave
		retn	2
sub_4CDD	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_4D5C(char *s)
sub_4D5C	proc near

var_8		= dword	ptr -8
var_4		= dword	ptr -4
@@s		= dword	ptr  4

		enter	8, 0
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	_strlwr
		add	sp, 4
		mov	ax, word ptr dword_E3C4
		or	ax, word ptr dword_E3C4+2
		jnz	short loc_4DB5
		push	word ptr off_E332+2
		push	word ptr off_E332	; s
		call	_strlwr
		add	sp, 4
		push	0Ch		; size
		call	sub_5296
		mov	word ptr dword_E3C4+2, dx
		mov	word ptr dword_E3C4, ax
		les	bx, dword_E3C4
		mov	dx, word_12706
		mov	ax, s2
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax
		mov	word ptr es:[bx+0Ah], 0
		mov	word ptr es:[bx+8], 0

loc_4DB5:
		mov	dx, word ptr dword_E3C4+2
		mov	ax, word ptr dword_E3C4
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	short loc_4E2E
; ---------------------------------------------------------------------------

loc_4DCA:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		push	word_12706
		push	s2		; s2
		les	bx, [bp+var_4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jz	short loc_4E1D
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s2
		les	bx, [bp+var_4]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4] ; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_4E1D
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]
		push	ds
		push	offset aCycleInInclude ; "Cycle	in include files: '%s'"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 8

loc_4E1D:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+0Ah]
		mov	ax, es:[bx+8]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_4E2E:
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_4DCA
		push	0Ch		; size
		call	sub_5296
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, word_12706
		mov	ax, s2
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		mov	dx, word ptr [bp+@@s+2]
		mov	ax, word ptr [bp+@@s]
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax
		mov	word ptr es:[bx+0Ah], 0
		mov	word ptr es:[bx+8], 0
		les	bx, [bp+var_8]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		leave
		retn	4
sub_4D5C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4E81	proc near

@@offset		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
@@s		= dword	ptr -8
@@path		= dword	ptr -4
arg_0		= word ptr  4

		enter	14h, 0
		push	si
		push	[bp+arg_0]
		call	sub_5E7D
		or	ax, ax
		jnz	short loc_4E93
		jmp	loc_5021
; ---------------------------------------------------------------------------

loc_4E93:
		call	sub_5026
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		push	dx
		push	ax		; s
		call	_strlen
		add	sp, 4
		mov	dx, word ptr [bp+@@s+2]
		add	ax, word ptr [bp+@@s]
		dec	ax
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		les	bx, [bp+@@s]
		cmp	byte ptr es:[bx], 22h ;	'"'
		jnz	short loc_4EC3
		les	bx, [bp+var_C]
		cmp	byte ptr es:[bx], 22h ;	'"'
		jz	short loc_4ED5

loc_4EC3:
		les	bx, [bp+@@s]
		cmp	byte ptr es:[bx], 3Ch ;	'<'
		jnz	short loc_4EE1
		les	bx, [bp+var_C]
		cmp	byte ptr es:[bx], 3Eh ;	'>'
		jnz	short loc_4EE1

loc_4ED5:
		inc	word ptr [bp+@@s]
		les	bx, [bp+var_C]
		mov	byte ptr es:[bx], 0
		jmp	short loc_4F05
; ---------------------------------------------------------------------------

loc_4EE1:
		les	bx, [bp+@@s]
		cmp	byte ptr es:[bx], 22h ;	'"'
		jz	short loc_4EFF
		cmp	byte ptr es:[bx], 3Ch ;	'<'
		jz	short loc_4EFF
		les	bx, [bp+var_C]
		cmp	byte ptr es:[bx], 22h ;	'"'
		jz	short loc_4EFF
		cmp	byte ptr es:[bx], 3Eh ;	'>'
		jnz	short loc_4F05

loc_4EFF:
		push	ds
		push	offset aBadFilenameFor ; "Bad filename format in include statemen"...
		jmp	short loc_4F1A
; ---------------------------------------------------------------------------

loc_4F05:
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	_strlen
		add	sp, 4
		cmp	ax, 200h
		jb	short loc_4F23
		push	ds
		push	offset aFilenameTooLon ; "Filename too long"

loc_4F1A:
		call	sub_8D8E
		add	sp, 4
		jmp	loc_5021
; ---------------------------------------------------------------------------

loc_4F23:
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; src
		push	ds
		push	offset DGROUP:byte_1385A ; dest
		call	_strcpy
		add	sp, 8
		push	ds
		push	offset DGROUP:byte_1385A ; s
		call	sub_894C
		push	dx
		push	ax		; s
		call	sub_4D5C
		mov	dx, word_12706
		mov	ax, s2
		mov	word ptr [bp+@@path+2], dx
		mov	word ptr [bp+@@path], ax
		call	sub_1C13
		mov	word ptr [bp+@@offset+2],	dx
		mov	word ptr [bp+@@offset], ax
		call	sub_1C8A
		push	ds
		push	offset DGROUP:byte_1385A ; path
		call	sub_1BCC
		mov	si, ax
		mov	dx, word_1076C
		mov	ax, word_1076A
		mov	word ptr [bp+var_10+2],	dx
		mov	word ptr [bp+var_10], ax
		jmp	short loc_4FBF
; ---------------------------------------------------------------------------

loc_4F70:
		les	bx, [bp+var_10]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6] ; src
		push	ds
		push	offset DGROUP:byte_1285A ; dest
		call	_strcpy
		add	sp, 8
		push	ds
		push	offset DGROUP:byte_1385A ; src
		push	ds
		push	offset DGROUP:byte_1285A ; dest
		call	_strcat
		add	sp, 8
		push	ds
		push	offset DGROUP:byte_1285A ; path
		call	sub_1BCC
		mov	si, ax
		or	si, si
		jz	short loc_4FAE
		push	ds
		push	offset DGROUP:byte_1285A ; src
		push	ds
		push	offset DGROUP:byte_1385A ; dest
		call	_strcpy
		add	sp, 8

loc_4FAE:
		les	bx, [bp+var_10]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		mov	word ptr [bp+var_10+2],	dx
		mov	word ptr [bp+var_10], ax

loc_4FBF:
		mov	ax, word ptr [bp+var_10]
		or	ax, word ptr [bp+var_10+2]
		jz	short loc_4FCB
		or	si, si
		jz	short loc_4F70

loc_4FCB:
		or	si, si
		jnz	short loc_4FDF
		push	ds
		push	offset DGROUP:byte_1385A
		push	ds
		push	offset aUnableToOpenIn ; "Unable to open include file '%s'"
		call	sub_8D8E
		add	sp, 8
		jmp	short loc_5009
; ---------------------------------------------------------------------------

loc_4FDF:
		push	ds
		push	offset DGROUP:byte_1385A ; s
		call	_strlen
		add	sp, 4
		inc	ax
		push	ax		; size
		call	sub_5296
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		push	ds
		push	offset DGROUP:byte_1385A ; src
		push	dx
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]
		call	sub_33BC

loc_5009:
		mov	dx, word ptr [bp+@@path+2]
		mov	ax, word ptr [bp+@@path]
		mov	word_12706, dx
		mov	s2, ax
		push	dx
		push	ax		; path
		push	word ptr [bp+@@offset+2]
		push	word ptr [bp+@@offset] ; offset
		call	sub_1C39

loc_5021:
		pop	si
		leave
		retn	2
sub_4E81	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_5026	proc near

var_4		= dword	ptr -4

		enter	4, 0
		push	ds
		push	offset DGROUP:byte_1285A ; s
		call	_strlen
		add	sp, 4
		add	ax, 4759h
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], ax
		jmp	short loc_5042
; ---------------------------------------------------------------------------

loc_503F:
		dec	word ptr [bp+var_4]

loc_5042:
		cmp	word ptr [bp+var_4], 475Ah
		jbe	short loc_5052
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_503F

loc_5052:
		cmp	word ptr [bp+var_4], 475Ah
		ja	short loc_5062
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_506C

loc_5062:
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx+1], 0
		jmp	short loc_5073
; ---------------------------------------------------------------------------

loc_506C:
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0

loc_5073:
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 475Ah
		jmp	short loc_5080
; ---------------------------------------------------------------------------

loc_507D:
		inc	word ptr [bp+var_4]

loc_5080:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_507D
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		leave
		retn
sub_5026	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_5091	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+arg_0]
		mov	al, [si+1D69h]
		mov	ah, 0
		test	al, 0Ch
		jnz	short loc_50B7
		cmp	si, 5Fh	; '_'
		jz	short loc_50B7
		push	ds
		push	offset aBadUndefStatem ; "Bad undef statement syntax"
		call	sub_8D8E
		add	sp, 4
		push	si
		call	sub_5678
		jmp	short loc_50C6
; ---------------------------------------------------------------------------

loc_50B7:
		push	si
		call	sub_5240
		push	ax
		call	sub_5678
		push	ds
		push	offset DGROUP:byte_1385A
		call	sub_28FE

loc_50C6:
		pop	si
		pop	bp
		retn	2
sub_5091	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_50CB	proc near

var_4		= dword	ptr -4
arg_0		= word ptr  4

		enter	4, 0
		push	8		; size
		call	sub_5296
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, word ptr dword_E3BA+2
		mov	ax, word ptr dword_E3BA
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		mov	ax, [bp+arg_0]
		mov	es:[bx+4], ax
		mov	ax, word_F652
		dec	ax
		mov	es:[bx+6], ax
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr dword_E3BA+2, dx
		mov	word ptr dword_E3BA, ax
		leave
		retn	2
sub_50CB	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_510B	proc near

arg_0		= word ptr  4
arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	ax, [bp+arg_0]
		cmp	ax, 4
		jz	short loc_512B
		cmp	ax, 5
		jz	short loc_5131
		cmp	ax, 7
		jnz	short loc_5137
		push	si
		call	sub_5E7D
		jmp	short loc_5135
; ---------------------------------------------------------------------------

loc_512B:
		push	si
		call	sub_604E
		jmp	short loc_5135
; ---------------------------------------------------------------------------

loc_5131:
		push	si
		call	sub_60A9

loc_5135:
		mov	di, ax

loc_5137:
		or	di, di
		jz	short loc_5146
		push	ds
		push	offset DGROUP:byte_1285A
		call	sub_7963
		or	ax, ax
		jnz	short loc_515F

loc_5146:
		push	2
		push	0
		call	sub_558D
		cmp	word_12702, 8
		jnz	short loc_5158
		push	2
		jmp	short loc_5161
; ---------------------------------------------------------------------------

loc_5158:
		cmp	word_12702, 0Ah
		jnz	short loc_5164

loc_515F:
		push	1

loc_5161:
		call	sub_50CB

loc_5164:
		pop	di
		pop	si
		pop	bp
		retn	4
sub_510B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_516A	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	[bp+arg_0]
		call	sub_5678
		mov	ax, word ptr dword_E3BA
		or	ax, word ptr dword_E3BA+2
		jz	short loc_51A4
		les	bx, dword_E3BA
		cmp	word ptr es:[bx+4], 1
		jnz	short loc_51A4
		push	0
		push	0
		call	sub_558D
		les	bx, dword_E3BA
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr dword_E3BA+2, dx
		mov	word ptr dword_E3BA, ax
		pop	bp
		retn	2
; ---------------------------------------------------------------------------

loc_51A4:
		push	ds
		push	offset aMisplacedElseS ; "Misplaced else statement"
		call	sub_8D8E
		add	sp, 4
		pop	bp
		retn	2
sub_516A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_51B2	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	[bp+arg_0]
		call	sub_5678
		mov	ax, word ptr dword_E3BA
		or	ax, word ptr dword_E3BA+2
		jz	short loc_51FC
		les	bx, dword_E3BA
		cmp	word ptr es:[bx+4], 1
		jnz	short loc_51FC
		jmp	short loc_51D8
; ---------------------------------------------------------------------------

loc_51D1:
		push	2
		push	1
		call	sub_558D

loc_51D8:
		cmp	word_12702, 0Ah
		jz	short loc_51D1
		cmp	word_12702, 8
		jz	short loc_51D1
		les	bx, dword_E3BA
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr dword_E3BA+2, dx
		mov	word ptr dword_E3BA, ax
		pop	bp
		retn	2
; ---------------------------------------------------------------------------

loc_51FC:
		push	ds
		push	offset aMisplacedElifS ; "Misplaced elif statement"
		call	sub_8D8E
		add	sp, 4
		pop	bp
		retn	2
sub_51B2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_520A	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	[bp+arg_0]
		call	sub_5678
		mov	ax, word ptr dword_E3BA
		or	ax, word ptr dword_E3BA+2
		jz	short loc_5232
		les	bx, dword_E3BA
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr dword_E3BA+2, dx
		mov	word ptr dword_E3BA, ax
		pop	bp
		retn	2
; ---------------------------------------------------------------------------

loc_5232:
		push	ds
		push	offset aMisplacedEndif ; "Misplaced endif statement"
		call	sub_8D8E
		add	sp, 4
		pop	bp
		retn	2
sub_520A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_5240	proc near

var_4		= dword	ptr -4
arg_0		= word ptr  4

		enter	4, 0
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 575Ah
		jmp	short loc_526B
; ---------------------------------------------------------------------------

loc_524E:
		mov	ax, word_E330
		add	ax, 575Ah
		cmp	ax, word ptr [bp+var_4]
		jbe	short loc_5265
		les	bx, [bp+var_4]
		mov	al, byte ptr [bp+arg_0]
		mov	es:[bx], al
		inc	word ptr [bp+var_4]

loc_5265:
		call	sub_1D9C
		mov	[bp+arg_0], ax

loc_526B:
		mov	bx, [bp+arg_0]
		test	byte ptr [bx+1D69h], 0Ch
		jnz	short loc_524E
		test	byte ptr [bx+1D69h], 2
		jnz	short loc_524E
		cmp	[bp+arg_0], 5Fh	; '_'
		jz	short loc_524E
		cmp	[bp+arg_0], 24h	; '$'
		jz	short loc_524E
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		mov	ax, [bp+arg_0]
		leave
		retn	2
sub_5240	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_5296(size_t	size)
sub_5296	proc near

var_4		= word ptr -4
var_2		= word ptr -2
@@size		= word ptr  4

		enter	4, 0
		push	[bp+@@size]	; size
		call	_malloc
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, [bp+var_2]
		jnz	short loc_52B6
		push	ds
		push	offset aNotEnoughMemor ; "Not enough memory"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 4

loc_52B6:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		leave
		retn	2
sub_5296	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_52C0	proc near

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8

		enter	0Ch, 0
		mov	[bp+var_A], ds
		mov	[bp+var_C], 2DAh
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_52EE
		mov	dx, ds
		mov	ax, 2DAh
		leave
		retn	8
; ---------------------------------------------------------------------------

loc_52EE:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 7Bh ;	'{'
		jnz	short loc_534C
		cmp	byte ptr es:[bx+1], 7Dh	; '}'
		jz	short loc_534C
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		inc	ax
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		jmp	short loc_5343
; ---------------------------------------------------------------------------

loc_530D:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 7Dh ;	'}'
		jnz	short loc_5340
		mov	byte ptr es:[bx], 0
		inc	word ptr [bp+var_8]
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		inc	ax
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		jmp	short loc_534C
; ---------------------------------------------------------------------------

loc_5340:
		inc	word ptr [bp+var_8]

loc_5343:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_530D

loc_534C:
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s
		call	_strlen
		add	sp, 4
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+2]
		add	ax, es:[bx]
		dec	ax
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 3Eh ;	'>'
		jnz	short loc_53DA
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		dec	ax
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		jmp	short loc_53CB
; ---------------------------------------------------------------------------

loc_5385:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 3Ch ;	'<'
		jnz	short loc_53C8
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx-1], 3Ah	; ':'
		jz	short loc_53A6
		cmp	byte ptr es:[bx-1], 5Ch	; '\'
		jz	short loc_53A6
		cmp	byte ptr es:[bx-1], 2Fh	; '/'
		jnz	short loc_53AF

loc_53A6:
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		jmp	short loc_53B6
; ---------------------------------------------------------------------------

loc_53AF:
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 5Ch ;	'\'

loc_53B6:
		les	bx, [bp+var_8]
		mov	byte ptr es:[bx], 0
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		inc	ax
		leave
		retn	8
; ---------------------------------------------------------------------------

loc_53C8:
		dec	word ptr [bp+var_8]

loc_53CB:
		mov	ax, word ptr [bp+var_8]
		inc	ax
		les	bx, [bp+arg_4]
		mov	dx, es:[bx]
		inc	dx
		cmp	ax, dx
		jnb	short loc_5385

loc_53DA:
		mov	dx, [bp+var_A]
		mov	ax, [bp+var_C]
		leave
		retn	8
sub_52C0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_53E4	proc near

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	8, 0

loc_53E8:
		push	0Eh		; size
		call	sub_5296
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+4], 0
		mov	word ptr es:[bx+2], 0
		mov	word ptr es:[bx+0Ch], 0
		mov	word ptr es:[bx+0Ah], 0
		mov	word ptr es:[bx+8], 0
		mov	word ptr es:[bx+6], 0
		mov	byte ptr es:[bx], 1
		call	sub_54B3
		les	bx, [bp+var_4]
		mov	es:[bx+8], dx
		mov	es:[bx+6], ax
		cmp	word_F50E, 0
		jz	short loc_543C
		les	bx, es:[bx+6]
		mov	byte ptr es:[bx+0Ch], 0

loc_543C:
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jnz	short loc_5452
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	[bp+arg_2], dx
		mov	[bp+arg_0], ax
		jmp	short loc_5463
; ---------------------------------------------------------------------------

loc_5452:
		les	bx, [bp+var_8]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax

loc_5463:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		call	sub_553E
		or	ax, ax
		jz	short loc_5479
		jmp	loc_53E8
; ---------------------------------------------------------------------------

loc_5479:
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	short loc_54A1
; ---------------------------------------------------------------------------

loc_5487:
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		call	sub_453C
		les	bx, [bp+var_4]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_54A1:
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_5487
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		leave
		retn	4
sub_53E4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_54B3	proc near

var_4		= word ptr -4
var_2		= word ptr -2

		enter	4, 0
		push	si
		mov	[bp+var_2], 0
		mov	[bp+var_4], 0
		call	sub_1D9C
		mov	si, ax
		cmp	si, 0FFFFh
		jnz	short loc_54D6
		push	ds
		push	offset aUnexpectedEn_0 ; "Unexpected end of file"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 4

loc_54D6:
		cmp	si, 20h	; ' '
		jz	short loc_54E5
		cmp	si, 0Ah
		jz	short loc_54E5
		cmp	si, 3Ch	; '<'
		jnz	short loc_54F4

loc_54E5:
		call	sub_550A
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		push	si
		call	sub_1C97
		jmp	short loc_5501
; ---------------------------------------------------------------------------

loc_54F4:
		push	si
		call	sub_1C97
		call	sub_74EE
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax

loc_5501:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	si
		leave
		retn
sub_54B3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_550A	proc near

var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2

		enter	8, 0
		call	sub_448A
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		jmp	short loc_552D
; ---------------------------------------------------------------------------

loc_551F:
		les	bx, [bp+var_8]
		inc	word ptr [bp+var_8]
		mov	al, es:[bx]
		cbw
		push	ax
		call	sub_743F

loc_552D:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_551F
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		leave
		retn
sub_550A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_553E	proc near
		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	di, di

loc_5545:
		call	sub_1D9C
		mov	si, ax
		cmp	si, 0FFFFh
		jnz	short loc_555B
		push	ds
		push	offset aUnexpectedEn_0 ; "Unexpected end of file"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 4
		jmp	short loc_5545
; ---------------------------------------------------------------------------

loc_555B:
		cmp	si, 0Ah
		jnz	short loc_5564
		xor	ax, ax
		jmp	short loc_5589
; ---------------------------------------------------------------------------

loc_5564:
		cmp	si, 3Ch	; '<'
		jnz	short loc_5577
		or	di, di
		jnz	short loc_5572
		mov	di, 1
		jmp	short loc_5545
; ---------------------------------------------------------------------------

loc_5572:
		mov	ax, 1
		jmp	short loc_5589
; ---------------------------------------------------------------------------

loc_5577:
		cmp	di, 1
		jnz	short loc_5583
		xor	di, di
		push	3Ch ; '<'
		call	sub_743F

loc_5583:
		push	si
		call	sub_743F
		jmp	short loc_5545
; ---------------------------------------------------------------------------

loc_5589:
		pop	di
		pop	si
		pop	bp
		retn
sub_553E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_558D	proc near

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	2, 0
		push	si
		push	di
		mov	ax, word_F652
		dec	ax
		mov	[bp+var_2], ax
		xor	si, si

loc_559C:
		call	sub_1D9C
		mov	di, ax
		cmp	di, 0FFFFh
		jnz	short loc_55B6
		push	[bp+var_2]
		push	ds
		push	offset aUnexpectedEndO ; "Unexpected end of file in conditional	s"...
		call	sub_8D8E
		add	sp, 6
		jmp	loc_5658
; ---------------------------------------------------------------------------

loc_55B6:
		cmp	di, 21h	; '!'
		jz	short loc_55BE
		jmp	loc_564D
; ---------------------------------------------------------------------------

loc_55BE:
		call	sub_4A48
		mov	di, ax
		cmp	word_12702, 7
		jz	short loc_55D8
		cmp	word_12702, 4
		jz	short loc_55D8
		cmp	word_12702, 5
		jnz	short loc_55DB

loc_55D8:
		inc	si
		jmp	short loc_564D
; ---------------------------------------------------------------------------

loc_55DB:
		cmp	word_12702, 6
		jnz	short loc_55E5
		dec	si
		jmp	short loc_564D
; ---------------------------------------------------------------------------

loc_55E5:
		cmp	word_12702, 8
		jnz	short loc_5615
		or	si, si
		jnz	short loc_5615
		cmp	[bp+arg_2], 1
		jnz	short loc_55F9
		dec	si
		jmp	short loc_564D
; ---------------------------------------------------------------------------

loc_55F9:
		cmp	[bp+arg_2], 2
		jnz	short loc_560F
		cmp	[bp+arg_0], 0
		jnz	short loc_5608
		dec	si
		jmp	short loc_564D
; ---------------------------------------------------------------------------

loc_5608:
		mov	[bp+arg_2], 0
		jmp	short loc_564D
; ---------------------------------------------------------------------------

loc_560F:
		push	ds
		push	offset aMisplacedElseS ; "Misplaced else statement"
		jmp	short loc_562A
; ---------------------------------------------------------------------------

loc_5615:
		cmp	word_12702, 0Ah
		jnz	short loc_564D
		or	si, si
		jnz	short loc_564D
		cmp	[bp+arg_2], 2
		jz	short loc_5632
		push	ds
		push	offset aMisplacedElifS ; "Misplaced elif statement"

loc_562A:
		call	sub_8D8E
		add	sp, 4
		jmp	short loc_564D
; ---------------------------------------------------------------------------

loc_5632:
		cmp	[bp+arg_0], 0
		jnz	short loc_564D
		push	di
		call	sub_5E7D
		or	ax, ax
		jz	short loc_5651
		push	ds
		push	offset DGROUP:byte_1285A
		call	sub_7963
		or	ax, ax
		jz	short loc_5651
		jmp	short loc_5658
; ---------------------------------------------------------------------------

loc_564D:
		push	di
		call	sub_6DBF

loc_5651:
		or	si, si
		jl	short loc_5658
		jmp	loc_559C
; ---------------------------------------------------------------------------

loc_5658:
		pop	di
		pop	si
		leave
		retn	4
sub_558D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_565E	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+arg_0]
		jmp	short loc_566C
; ---------------------------------------------------------------------------

loc_5667:
		call	sub_1D9C
		mov	si, ax

loc_566C:
		cmp	si, 20h	; ' '
		jz	short loc_5667
		mov	ax, si
		pop	si
		pop	bp
		retn	2
sub_565E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_5678	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+arg_0]
		jmp	short loc_5686
; ---------------------------------------------------------------------------

loc_5681:
		call	sub_1D9C
		mov	si, ax

loc_5686:
		cmp	si, 0FFFFh
		jz	short loc_5690
		cmp	si, 0Ah
		jnz	short loc_5681

loc_5690:
		pop	si
		pop	bp
		retn	2
sub_5678	endp


; =============== S U B	R O U T	I N E =======================================

; Returns date in DX, time in AX.

; __int32 __stdcall	mtime_get(char *path)
mtime_get	proc near

@@ffblk		= ffblk	ptr -2Ch
@@path		= dword	ptr  4

		enter	2Ch, 0
		lea	ax, [bp+@@ffblk]
		push	ss
		push	ax
		push	ds
		push	offset ffblk_empty
		mov	cx, size ffblk
		call	N_SCOPY@
		push	0		; attrib
		push	ss
		lea	ax, [bp+@@ffblk]
		push	ax		; ffblk
		push	word ptr [bp+@@path+2]
		push	word ptr [bp+@@path] ; path
		call	_findfirst
		add	sp, 0Ah
		or	ax, ax
		jge	short loc_56C7
		xor	dx, dx
		xor	ax, ax
		leave
		retn	4
; ---------------------------------------------------------------------------

loc_56C7:
		mov	dx, [bp+@@ffblk.ff_fdate]
		xor	ax, ax
		add	ax, [bp+@@ffblk.ff_ftime]
		adc	dx, 0
		leave
		retn	4
mtime_get	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_56D6	proc near

timep		= time ptr -0Ch
datep		= date ptr -8
var_4		= word ptr -4
var_2		= word ptr -2

		enter	0Ch, 0
		push	ss
		lea	ax, [bp+datep]
		push	ax		; datep
		call	_getdate
		add	sp, 4
		push	ss
		lea	ax, [bp+timep]
		push	ax		; timep
		call	_gettime
		add	sp, 4
		mov	al, [bp+timep.ti_sec]
		mov	ah, 0
		sar	ax, 1
		and	ax, 1Fh
		and	byte ptr [bp+var_4], 0E0h
		or	byte ptr [bp+var_4], al
		mov	al, [bp+timep.ti_min]
		mov	ah, 0
		and	ax, 3Fh
		and	[bp+var_4], 0F81Fh
		shl	ax, 5
		or	[bp+var_4], ax
		mov	al, [bp+timep.ti_hour]
		mov	ah, 0
		and	ax, 1Fh
		and	[bp+var_4], 7FFh
		shl	ax, 0Bh
		or	[bp+var_4], ax
		mov	al, [bp+datep.da_day]
		cbw
		and	ax, 1Fh
		and	byte ptr [bp+var_2], 0E0h
		or	byte ptr [bp+var_2], al
		mov	al, [bp+datep.da_mon]
		cbw
		and	ax, 0Fh
		and	[bp+var_2], 0FE1Fh
		shl	ax, 5
		or	[bp+var_2], ax
		mov	ax, [bp+datep.da_year]
		add	ax, 0F844h
		and	ax, 7Fh
		and	[bp+var_2], 1FFh
		shl	ax, 9
		or	[bp+var_2], ax
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		leave
		retn
sub_56D6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_5763	proc near

@@src		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	8, 0
		push	[bp+arg_2]
		push	[bp+arg_0]	; src
		push	ds
		push	offset DGROUP:byte_12708 ; dest
		call	_strcpy
		add	sp, 8
		push	ds
		push	offset DGROUP:byte_12708 ; pathname
		call	sub_5C2E
		or	ax, ax
		jz	short loc_5785
		jmp	loc_587D
; ---------------------------------------------------------------------------

loc_5785:
		push	ds
		push	offset _name	; "PATH"
		call	_getenv
		add	sp, 4
		mov	word ptr [bp+@@src+2], dx
		mov	word ptr [bp+@@src], ax
		or	ax, word ptr [bp+@@src+2]
		jnz	short loc_579D
		jmp	loc_5875
; ---------------------------------------------------------------------------

loc_579D:
		mov	dx, word ptr [bp+@@src+2]
		mov	ax, word ptr [bp+@@src]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	short loc_57AE
; ---------------------------------------------------------------------------

loc_57AB:
		inc	word ptr [bp+var_4]

loc_57AE:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_57BD
		cmp	byte ptr es:[bx], 3Bh ;	';'
		jnz	short loc_57AB

loc_57BD:
		mov	ax, word ptr [bp+var_4]
		xor	dx, dx
		sub	ax, word ptr [bp+@@src]
		sbb	dx, 0
		push	ax		; n
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		push	ds
		push	offset DGROUP:byte_12708 ; dest
		call	_memmove
		add	sp, 0Ah
		mov	bx, word ptr [bp+var_4]
		xor	ax, ax
		sub	bx, word ptr [bp+@@src]
		sbb	ax, 0
		mov	byte ptr [bx+4608h], 0
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 3Bh ;	';'
		jnz	short loc_5801
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		inc	ax
		mov	word ptr [bp+@@src+2], dx
		mov	word ptr [bp+@@src], ax
		jmp	short loc_580D
; ---------------------------------------------------------------------------

loc_5801:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr [bp+@@src+2], dx
		mov	word ptr [bp+@@src], ax

loc_580D:
		push	ds
		push	offset DGROUP:byte_12708 ; s
		call	_strlen
		add	sp, 4
		add	ax, 4607h
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], ax
		cmp	word ptr [bp+var_4], 4608h
		jbe	short loc_5849
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 3Ah ;	':'
		jz	short loc_5849
		cmp	byte ptr es:[bx], 2Fh ;	'/'
		jz	short loc_5849
		cmp	byte ptr es:[bx], 5Ch ;	'\'
		jz	short loc_5849
		push	40h ; '@'       ; int
		push	ds
		push	offset DGROUP:byte_12708 ; dest
		push	ds
		push	offset asc_E4C4	; "\\"
		call	sub_5DA2

loc_5849:
		push	4Fh ; 'O'       ; int
		push	ds
		push	offset DGROUP:byte_12708 ; dest
		push	[bp+arg_2]
		push	[bp+arg_0]	; src
		call	sub_5DA2
		push	ds
		push	offset DGROUP:byte_12708 ; pathname
		call	sub_5C2E
		or	ax, ax
		jnz	short loc_587D
		les	bx, [bp+@@src]
		cmp	byte ptr es:[bx], 0
		jz	short loc_586F
		jmp	loc_579D
; ---------------------------------------------------------------------------

loc_586F:
		mov	word_12758, 1

loc_5875:
		xor	dx, dx
		xor	ax, ax
		leave
		retn	4
; ---------------------------------------------------------------------------

loc_587D:
		mov	dx, ds
		mov	ax, 4608h
		leave
		retn	4
sub_5763	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_5886(char *s, int, int)
sub_5886	proc near

@@argv		= dword	ptr -28h
var_24		= word ptr -24h
var_22		= word ptr -22h
var_20		= word ptr -20h
var_1E		= word ptr -1Eh
access		= word ptr -1Ch
var_19		= byte ptr -19h
var_18		= dword	ptr -18h
var_14		= word ptr -14h
var_12		= word ptr -12h
@@src		= dword	ptr -10h
block		= dword	ptr -0Ch
var_8		= dword	ptr -8
@@path		= dword	ptr -4
@@s		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	28h, 0
		push	si
		push	di
		mov	word ptr [bp+@@src+2], 0
		mov	word ptr [bp+@@src], 0
		mov	[bp+var_12], 0FFFFh
		mov	[bp+var_14], 0FFFFh
		mov	word_12758, 0
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	sub_5763
		mov	word ptr [bp+@@path+2], dx
		mov	word ptr [bp+@@path], ax
		cmp	word_12758, 0
		jz	short loc_5920

loc_58BC:
		push	ds
		push	offset aComspec	; "COMSPEC"
		call	_getenv
		add	sp, 4
		mov	word ptr [bp+@@path+2], dx
		mov	word ptr [bp+@@path], ax
		call	__getswitchar
		mov	byte_1275A, al
		mov	byte_1275B, 63h	; 'c'
		mov	byte_1275C, 20h	; ' '
		mov	byte_1275D, 0
		mov	ax, word_E294
		inc	ax
		push	ax		; int
		push	ds
		push	offset DGROUP:byte_1275A ; dest
		push	[bp+arg_6]
		push	[bp+arg_4]	; src
		call	sub_5DA2
		mov	ax, word_E294
		inc	ax
		push	ax		; int
		push	ds
		push	offset DGROUP:byte_1275A ; dest
		push	ds
		push	offset asc_E4CE	; " "
		call	sub_5DA2
		mov	ax, word_E294
		inc	ax
		push	ax		; int
		push	ds
		push	offset DGROUP:byte_1275A ; dest
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; src
		call	sub_5DA2
		mov	word ptr [bp+@@s+2], ds
		mov	word ptr [bp+@@s], 465Ah
		jmp	loc_5B10
; ---------------------------------------------------------------------------

loc_5920:
		mov	dx, word ptr [bp+@@s+2]
		mov	ax, word ptr [bp+@@s]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		push	dx
		push	ax		; s
		call	sub_894C
		mov	word ptr [bp+block+2], dx
		mov	word ptr [bp+block], ax
		jmp	loc_5AE8
; ---------------------------------------------------------------------------

loc_593A:
		xor	di, di
		call	_flushall
		jmp	short loc_5956
; ---------------------------------------------------------------------------

loc_5941:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 22h ;	'"'
		jnz	short loc_5953
		mov	ax, di
		neg	ax
		sbb	ax, ax
		inc	ax
		mov	di, ax

loc_5953:
		inc	word ptr [bp+var_8]

loc_5956:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 3Ch ;	'<'
		jz	short loc_5965
		cmp	byte ptr es:[bx], 3Eh ;	'>'
		jnz	short loc_5969

loc_5965:
		or	di, di
		jz	short loc_5972

loc_5969:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_5941

loc_5972:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 3Ch ;	'<'
		jz	short loc_597E
		jmp	loc_5A14
; ---------------------------------------------------------------------------

loc_597E:
		mov	byte ptr es:[bx], 0
		jmp	short $+2

loc_5984:
		inc	word ptr [bp+var_8]
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_5984
		cmp	byte ptr es:[bx], 9
		jz	short loc_5984
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		mov	word ptr [bp+var_18+2],	dx
		mov	word ptr [bp+var_18], ax
		jmp	short $+2

loc_59A4:
		inc	word ptr [bp+var_8]
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jz	short loc_59C2
		cmp	byte ptr es:[bx], 0Ah
		jz	short loc_59C2
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_59C2
		cmp	byte ptr es:[bx], 3Eh ;	'>'
		jnz	short loc_59A4

loc_59C2:
		les	bx, [bp+var_8]
		mov	al, es:[bx]
		mov	[bp+var_19], al
		cmp	byte ptr es:[bx], 0
		jz	short loc_59E0
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		inc	ax
		mov	word ptr [bp+@@src+2], dx
		mov	word ptr [bp+@@src], ax
		jmp	short loc_59EA
; ---------------------------------------------------------------------------

loc_59E0:
		mov	word ptr [bp+@@src+2], 0
		mov	word ptr [bp+@@src], 0

loc_59EA:
		les	bx, [bp+var_8]
		mov	byte ptr es:[bx], 0
		push	word ptr [bp+var_18+2]
		push	word ptr [bp+var_18] ; path
		push	0		; int
		push	1		; access
		call	sub_9322
		mov	[bp+var_12], ax
		or	ax, ax
		jge	short loc_5A08
		jmp	loc_5ABE
; ---------------------------------------------------------------------------

loc_5A08:
		les	bx, [bp+var_8]
		mov	al, [bp+var_19]
		mov	es:[bx], al
		jmp	loc_5AE8
; ---------------------------------------------------------------------------

loc_5A14:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 3Eh ;	'>'
		jz	short loc_5A20
		jmp	loc_5AE8
; ---------------------------------------------------------------------------

loc_5A20:
		mov	byte ptr es:[bx], 0
		cmp	byte ptr es:[bx+1], 3Eh	; '>'
		jnz	short loc_5A35
		mov	[bp+access], 902h
		inc	word ptr [bp+var_8]
		jmp	short loc_5A3A
; ---------------------------------------------------------------------------

loc_5A35:
		mov	[bp+access], 302h

loc_5A3A:
		jmp	short $+2

loc_5A3C:
		inc	word ptr [bp+var_8]
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_5A3C
		cmp	byte ptr es:[bx], 9
		jz	short loc_5A3C
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		mov	word ptr [bp+var_18+2],	dx
		mov	word ptr [bp+var_18], ax
		jmp	short $+2

loc_5A5C:
		inc	word ptr [bp+var_8]
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jz	short loc_5A7A
		cmp	byte ptr es:[bx], 0Ah
		jz	short loc_5A7A
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_5A7A
		cmp	byte ptr es:[bx], 3Eh ;	'>'
		jnz	short loc_5A5C

loc_5A7A:
		les	bx, [bp+var_8]
		mov	al, es:[bx]
		mov	[bp+var_19], al
		cmp	byte ptr es:[bx], 0
		jz	short loc_5A98
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		inc	ax
		mov	word ptr [bp+@@src+2], dx
		mov	word ptr [bp+@@src], ax
		jmp	short loc_5AA2
; ---------------------------------------------------------------------------

loc_5A98:
		mov	word ptr [bp+@@src+2], 0
		mov	word ptr [bp+@@src], 0

loc_5AA2:
		les	bx, [bp+var_8]
		mov	byte ptr es:[bx], 0
		push	word ptr [bp+var_18+2]
		push	word ptr [bp+var_18] ; path
		push	1		; int
		push	[bp+access]	; access
		call	sub_9322
		mov	[bp+var_14], ax
		or	ax, ax
		jge	short loc_5ADF

loc_5ABE:
		push	word ptr [bp+block+2]
		push	word ptr [bp+block] ; src
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; dest
		call	_strcpy
		add	sp, 8
		push	word ptr [bp+block+2]
		push	word ptr [bp+block] ; block
		call	_farfree
		add	sp, 4
		jmp	loc_58BC
; ---------------------------------------------------------------------------

loc_5ADF:
		les	bx, [bp+var_8]
		mov	al, [bp+var_19]
		mov	es:[bx], al

loc_5AE8:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jz	short loc_5AFC
		mov	ax, word ptr [bp+@@path]
		or	ax, word ptr [bp+@@path+2]
		jz	short loc_5AFC
		jmp	loc_593A
; ---------------------------------------------------------------------------

loc_5AFC:
		mov	ax, word ptr [bp+block]
		or	ax, word ptr [bp+block+2]
		jz	short loc_5B10
		push	word ptr [bp+block+2]
		push	word ptr [bp+block] ; block
		call	_farfree
		add	sp, 4

loc_5B10:
		mov	ax, word ptr [bp+@@path]
		or	ax, word ptr [bp+@@path+2]
		jnz	short loc_5B28
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	ds
		push	offset aUnableToExecut ; "Unable to execute command: %s"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 8

loc_5B28:
		mov	ax, word ptr [bp+@@src]
		or	ax, word ptr [bp+@@src+2]
		jz	short loc_5B52
		push	ds
		push	offset asc_E4CE	; " "
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; dest
		call	_strcat
		add	sp, 8
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; dest
		call	_strcat
		add	sp, 8

loc_5B52:
		mov	dx, word ptr [bp+@@path+2]
		mov	ax, word ptr [bp+@@path]
		mov	word ptr [bp+@@argv+2], dx
		mov	word ptr [bp+@@argv], ax
		mov	dx, word ptr [bp+@@s+2]
		mov	ax, word ptr [bp+@@s]
		mov	[bp+var_22], dx
		mov	[bp+var_24], ax
		mov	[bp+var_1E], 0
		mov	[bp+var_20], 0
		cmp	flag_swap, 0
		jz	short loc_5B88
		push	word ptr [bp+@@path+2]
		push	word ptr [bp+@@path]
		push	dx
		push	ax
		call	sub_944D
		jmp	short loc_5BC2
; ---------------------------------------------------------------------------

loc_5B88:
		mov	dx, word_10754
		mov	ax, env
		mov	word ptr [bp+var_18+2],	dx
		mov	word ptr [bp+var_18], ax
		jmp	short loc_5B9B
; ---------------------------------------------------------------------------

loc_5B97:
		add	word ptr [bp+var_18], 4

loc_5B9B:
		les	bx, [bp+var_18]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_5B97
		push	word_10754
		push	env		; env
		push	ss
		lea	ax, [bp+@@argv]
		push	ax		; argv
		push	word ptr [bp+@@path+2]
		push	word ptr [bp+@@path] ; path
		push	0		; mode
		call	_spawnve
		add	sp, 0Eh

loc_5BC2:
		mov	si, ax
		push	[bp+var_14]	; int
		push	1		; handle
		call	sub_92FC
		push	[bp+var_12]	; int
		push	0		; handle
		call	sub_92FC
		cmp	si, 0FFFFh
		jnz	short loc_5BE9
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	ds
		push	offset aUnableToExecut ; "Unable to execute command: %s"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 8

loc_5BE9:
		mov	ax, si
		and	ax, 0FF00h
		cmp	ax, 100h
		jz	short loc_5C03
		mov	ax, si
		and	ax, 0FF00h
		cmp	ax, 200h
		jz	short loc_5C03
		cmp	si, 0FFh
		jnz	short loc_5C0B

loc_5C03:
		call	sub_78D
		push	1		; status
		call	sub_8E01
; ---------------------------------------------------------------------------

loc_5C0B:
		mov	ax, si
		pop	di
		pop	si
		leave
		retn	8
sub_5886	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		les	bx, [bp+8]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	word ptr [bp+6]
		push	word ptr [bp+4]
		call	_stricmp
		add	sp, 8
		pop	bp
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_5C2E(char *pathname)
sub_5C2E	proc near

@@dest		= dword	ptr -4
pathname	= dword	ptr  4

		enter	4, 0
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; s
		call	_strlen
		add	sp, 4
		mov	dx, word ptr [bp+pathname+2]
		add	ax, word ptr [bp+pathname]
		dec	ax
		mov	word ptr [bp+@@dest+2], dx
		mov	word ptr [bp+@@dest], ax
		jmp	short loc_5C5F
; ---------------------------------------------------------------------------

loc_5C4D:
		les	bx, [bp+@@dest]
		cmp	byte ptr es:[bx], 5Ch ;	'\'
		jz	short loc_5C74
		cmp	byte ptr es:[bx], 2Fh ;	'/'
		jz	short loc_5C74
		dec	word ptr [bp+@@dest]

loc_5C5F:
		mov	ax, word ptr [bp+@@dest]
		inc	ax
		mov	dx, word ptr [bp+pathname]
		inc	dx
		cmp	ax, dx
		jb	short loc_5C74
		les	bx, [bp+@@dest]
		cmp	byte ptr es:[bx], 2Eh ;	'.'
		jnz	short loc_5C4D

loc_5C74:
		les	bx, [bp+@@dest]
		cmp	byte ptr es:[bx], 2Eh ;	'.'
		jnz	short loc_5CB9
		push	ds
		push	offset aBat	; "bat"
		mov	ax, word ptr [bp+@@dest]
		inc	ax
		push	word ptr [bp+@@dest+2]
		push	ax		; s1
		call	_stricmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_5C99
		mov	word_12758, 1

loc_5C99:
		push	0
		push	0		; func
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		call	__chmod
		add	sp, 8
		cmp	ax, 0FFFFh
		jz	short loc_5CB3
		mov	ax, 1
		jmp	short locret_5CB5
; ---------------------------------------------------------------------------

loc_5CB3:
		xor	ax, ax

locret_5CB5:
		leave
		retn	4
; ---------------------------------------------------------------------------

loc_5CB9:
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; s
		call	_strlen
		add	sp, 4
		mov	dx, word ptr [bp+pathname+2]
		add	ax, word ptr [bp+pathname]
		mov	word ptr [bp+@@dest+2], dx
		mov	word ptr [bp+@@dest], ax
		push	ds
		push	offset a_com	; ".com"
		push	dx
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		push	0
		push	0		; func
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		call	__chmod
		add	sp, 8
		cmp	ax, 0FFFFh
		jnz	short loc_5D49
		push	ds
		push	offset a_exe	; ".exe"
		push	word ptr [bp+@@dest+2]
		push	word ptr [bp+@@dest] ; dest
		call	_strcpy
		add	sp, 8
		push	0
		push	0		; func
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		call	__chmod
		add	sp, 8
		cmp	ax, 0FFFFh
		jnz	short loc_5D49
		push	ds
		push	offset a_bat	; ".bat"
		push	word ptr [bp+@@dest+2]
		push	word ptr [bp+@@dest] ; dest
		call	_strcpy
		add	sp, 8
		push	0
		push	0		; func
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		call	__chmod
		add	sp, 8
		cmp	ax, 0FFFFh
		jz	short loc_5D50
		mov	word_12758, 1
		les	bx, [bp+@@dest]
		mov	byte ptr es:[bx], 0

loc_5D49:
		mov	ax, 1
		leave
		retn	4
; ---------------------------------------------------------------------------

loc_5D50:
		les	bx, [bp+@@dest]
		mov	byte ptr es:[bx], 0
		xor	ax, ax
		leave
		retn	4
sub_5C2E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_5D5D	proc near

var_6		= dword	ptr -6

		enter	6, 0
		mov	word ptr [bp+var_6], 0
		mov	dx, word_10754
		mov	ax, env
		mov	[bp-2],	dx
		mov	word ptr [bp+var_6+2], ax
		jmp	short loc_5D94
; ---------------------------------------------------------------------------

loc_5D75:
		mov	word ptr [bp+var_6], 0
		les	bx, [bp+var_6+2]
		push	word ptr es:[bx+2] ; int
		push	word ptr es:[bx] ; int
		push	ds
		push	(offset	_name+4)	; src
		push	ss
		lea	ax, [bp+var_6]
		push	ax		; __int32
		call	sub_22E0
		add	word ptr [bp+var_6+2], 4

loc_5D94:
		les	bx, [bp+var_6+2]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_5D75
		leave
		retn
sub_5D5D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_5DA2(char *src, char *dest,	int)
sub_5DA2	proc near

@@src		= dword	ptr  4
@@dest		= dword	ptr  8
arg_8		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	word ptr [bp+@@dest+2]
		push	word ptr [bp+@@dest] ; s
		call	_strlen
		add	sp, 4
		push	ax
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; s
		call	_strlen
		add	sp, 4
		pop	dx
		add	dx, ax
		cmp	dx, [bp+arg_8]
		jb	short loc_5DD0
		push	ds
		push	offset aCommandArgumen ; "Command arguments too	long"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 4

loc_5DD0:
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		push	word ptr [bp+@@dest+2]
		push	word ptr [bp+@@dest] ; dest
		call	_strcat
		add	sp, 8
		pop	bp
		retn	0Ah
sub_5DA2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_5DE6(char *path)
sub_5DE6	proc near

@@ffblk		= ffblk	ptr -3Eh
timeptr		= tm ptr -12h
@@path		= dword	ptr  4

		enter	3Eh, 0
		push	0		; attrib
		push	ss
		lea	ax, [bp+@@ffblk]
		push	ax		; ffblk
		push	word ptr [bp+@@path+2]
		push	word ptr [bp+@@path] ; path
		call	_findfirst
		add	sp, 0Ah
		or	ax, ax
		jz	short loc_5E0A
		mov	dx, ds
		mov	ax, 3C3h
		leave
		retn	4
; ---------------------------------------------------------------------------

loc_5E0A:
		mov	ax, [bp+@@ffblk.ff_fdate]
		and	ax, 1Fh
		mov	[bp+timeptr.tm_mday], ax
		mov	ax, [bp+@@ffblk.ff_fdate]
		shr	ax, 5
		and	ax, 0Fh
		dec	ax
		mov	[bp+timeptr.tm_mon], ax
		mov	ax, [bp+@@ffblk.ff_fdate]
		shr	ax, 9
		add	ax, 50h	; 'P'
		mov	[bp+timeptr.tm_year], ax
		mov	ax, [bp+@@ffblk.ff_ftime]
		and	ax, 1Fh
		mov	[bp+timeptr.tm_sec], ax
		mov	ax, [bp+@@ffblk.ff_ftime]
		shr	ax, 5
		and	ax, 3Fh
		mov	[bp+timeptr.tm_min], ax
		mov	ax, [bp+@@ffblk.ff_ftime]
		shr	ax, 0Bh
		mov	[bp+timeptr.tm_hour], ax
		mov	[bp+timeptr.tm_yday], 0
		mov	[bp+timeptr.tm_isdst], 0FFFFh
		push	ss
		lea	ax, [bp+timeptr]
		push	ax		; timeptr
		call	_mktime
		add	sp, 4
		cmp	dx, 0FFFFh
		jnz	short loc_5E6E
		cmp	ax, 0FFFFh
		jnz	short loc_5E6E
		mov	[bp+timeptr.tm_wday], 7

loc_5E6E:
		push	ss
		lea	ax, [bp+timeptr]
		push	ax		; tblock
		call	_asctime
		add	sp, 4
		leave
		retn	4
sub_5DE6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_5E7D	proc near

var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  4

		enter	0Ah, 0
		push	si
		xor	si, si
		mov	word_13A5C, ds
		mov	word_13A5A, 744h
		mov	word ptr dword_13A62+2,	ds
		mov	word ptr dword_13A62, 475Ah
		les	bx, dword_13A62
		mov	byte ptr es:[bx], 0
		jmp	loc_6037
; ---------------------------------------------------------------------------

loc_5EA3:
		cmp	[bp+arg_0], 24h	; '$'
		jz	short loc_5EAC
		jmp	loc_5F6F
; ---------------------------------------------------------------------------

loc_5EAC:
		call	sub_1D9C
		mov	[bp+arg_0], ax
		cmp	[bp+arg_0], 28h	; '('
		jz	short loc_5ECE
		cmp	[bp+arg_0], 7Bh	; '{'
		jz	short loc_5ECE
		mov	bx, [bp+arg_0]
		test	byte ptr [bx+1D69h], 0Ch
		jz	short loc_5F2A
		cmp	[bp+arg_0], 64h	; 'd'
		jz	short loc_5F2A

loc_5ECE:
		push	[bp+arg_0]
		push	1D9Ch
		push	ss
		lea	ax, [bp+var_4+2]
		push	ax
		push	ss
		lea	ax, [bp+var_6]
		push	ax
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		call	sub_6DDC
		mov	[bp+arg_0], ax
		cmp	[bp+arg_0], 0FFFFh
		jnz	short loc_5EF2
		jmp	loc_6046
; ---------------------------------------------------------------------------

loc_5EF2:
		mov	ax, word_13A5E
		or	ax, word_13A60
		jz	short loc_5F14
		push	1
		push	0
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		push	[bp+var_6]
		push	[bp+var_8]
		push	[bp+var_A]
		call	sub_666B
		jmp	loc_6031
; ---------------------------------------------------------------------------

loc_5F14:
		or	si, si
		jz	short loc_5F1B
		jmp	loc_6031
; ---------------------------------------------------------------------------

loc_5F1B:
		cmp	word_F50E, 0
		jz	short loc_5F25
		jmp	loc_6031
; ---------------------------------------------------------------------------

loc_5F25:
		push	30h ; '0'
		jmp	loc_602E
; ---------------------------------------------------------------------------

loc_5F2A:
		cmp	[bp+arg_0], 24h	; '$'
		jnz	short loc_5F35
		push	24h ; '$'
		jmp	loc_602E
; ---------------------------------------------------------------------------

loc_5F35:
		cmp	[bp+arg_0], 64h	; 'd'
		jnz	short loc_5F6B
		call	sub_1D9C
		mov	[bp+arg_0], ax
		cmp	[bp+arg_0], 28h	; '('
		jz	short loc_5F5A
		cmp	[bp+arg_0], 7Bh	; '{'
		jz	short loc_5F5A
		push	24h ; '$'
		call	sub_743F
		push	64h ; 'd'

loc_5F54:
		call	sub_743F
		jmp	loc_6037
; ---------------------------------------------------------------------------

loc_5F5A:
		push	1D9Ch
		call	sub_73B5
		cmp	ax, 0FFFFh
		jz	short loc_5F68
		jmp	loc_6031
; ---------------------------------------------------------------------------

loc_5F68:
		jmp	loc_6046
; ---------------------------------------------------------------------------

loc_5F6B:
		push	24h ; '$'
		jmp	short loc_5F54
; ---------------------------------------------------------------------------

loc_5F6F:
		cmp	[bp+arg_0], 64h	; 'd'
		jz	short loc_5F7E
		cmp	[bp+arg_0], 44h	; 'D'
		jz	short loc_5F7E
		jmp	loc_601A
; ---------------------------------------------------------------------------

loc_5F7E:
		or	si, si
		jz	short loc_5F85
		jmp	loc_601A
; ---------------------------------------------------------------------------

loc_5F85:
		mov	byte_1385A, 0
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 575Ah
		jmp	short loc_5FA6
; ---------------------------------------------------------------------------

loc_5F94:
		les	bx, [bp+var_4]
		mov	al, byte ptr [bp+arg_0]
		mov	es:[bx], al
		inc	word ptr [bp+var_4]
		call	sub_1D9C
		mov	[bp+arg_0], ax

loc_5FA6:
		mov	bx, [bp+arg_0]
		test	byte ptr [bx+1D69h], 0Ch
		jnz	short loc_5F94
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		push	[bp+arg_0]
		call	sub_1C97
		push	ds
		push	offset aDefined	; "defined"
		push	ds
		push	offset DGROUP:byte_1385A ; s1
		call	_stricmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_5FF7
		push	[bp+arg_0]
		call	sub_565E
		mov	[bp+arg_0], ax
		cmp	[bp+arg_0], 28h	; '('
		jnz	short loc_5FEB
		push	1D9Ch
		call	sub_73B5
		cmp	ax, 0FFFFh
		jnz	short loc_6031
		jmp	short loc_6046
; ---------------------------------------------------------------------------

loc_5FEB:
		push	ds
		push	offset aExpressionSynt ; "Expression syntax error in !if statemen"...
		call	sub_8D8E
		add	sp, 4
		jmp	short loc_6031
; ---------------------------------------------------------------------------

loc_5FF7:
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 575Ah
		jmp	short loc_600F
; ---------------------------------------------------------------------------

loc_6001:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		cbw
		push	ax
		call	sub_743F
		inc	word ptr [bp+var_4]

loc_600F:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_6001
		jmp	short loc_6031
; ---------------------------------------------------------------------------

loc_601A:
		cmp	[bp+arg_0], 22h	; '"'
		jnz	short loc_602B
		or	si, si
		jnz	short loc_6029
		mov	si, 1
		jmp	short loc_602B
; ---------------------------------------------------------------------------

loc_6029:
		xor	si, si

loc_602B:
		push	[bp+arg_0]

loc_602E:
		call	sub_743F

loc_6031:
		call	sub_1D9C
		mov	[bp+arg_0], ax

loc_6037:
		cmp	[bp+arg_0], 0FFFFh
		jz	short loc_6046
		cmp	[bp+arg_0], 0Ah
		jz	short loc_6046
		jmp	loc_5EA3
; ---------------------------------------------------------------------------

loc_6046:
		mov	ax, 1
		pop	si
		leave
		retn	2
sub_5E7D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_604E	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+arg_0]
		mov	word_13A5C, ds
		mov	word_13A5A, 919h
		mov	word ptr dword_13A62+2,	ds
		mov	word ptr dword_13A62, 475Ah
		les	bx, dword_13A62
		mov	byte ptr es:[bx], 0
		jmp	short loc_6097
; ---------------------------------------------------------------------------

loc_6073:
		mov	al, [si+1D69h]
		mov	ah, 0
		test	al, 1
		jnz	short loc_608E
		push	si
		call	sub_1C97
		push	1D9Ch
		call	sub_73B5
		cmp	ax, 0FFFFh
		jz	short loc_6097
		jmp	short loc_60A1
; ---------------------------------------------------------------------------

loc_608E:
		push	si
		call	sub_743F
		call	sub_1D9C
		mov	si, ax

loc_6097:
		cmp	si, 0FFFFh
		jz	short loc_60A1
		cmp	si, 0Ah
		jnz	short loc_6073

loc_60A1:
		mov	ax, 1
		pop	si
		pop	bp
		retn	2
sub_604E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_60A9	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+arg_0]
		mov	word_13A5C, ds
		mov	word_13A5A, 932h
		mov	word ptr dword_13A62+2,	ds
		mov	word ptr dword_13A62, 475Ah
		les	bx, dword_13A62
		mov	byte ptr es:[bx], 0
		push	21h ; '!'
		call	sub_743F
		jmp	short loc_60F7
; ---------------------------------------------------------------------------

loc_60D3:
		mov	al, [si+1D69h]
		mov	ah, 0
		test	al, 1
		jnz	short loc_60EE
		push	si
		call	sub_1C97
		push	1D9Ch
		call	sub_73B5
		cmp	ax, 0FFFFh
		jz	short loc_60F7
		jmp	short loc_6101
; ---------------------------------------------------------------------------

loc_60EE:
		push	si
		call	sub_743F
		call	sub_1D9C
		mov	si, ax

loc_60F7:
		cmp	si, 0FFFFh
		jz	short loc_6101
		cmp	si, 0Ah
		jnz	short loc_60D3

loc_6101:
		mov	ax, 1
		pop	si
		pop	bp
		retn	2
sub_60A9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_6109	proc near

var_C		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	0Ch, 0
		push	si
		push	di
		mov	si, [bp+arg_4]
		mov	di, [bp+arg_2]
		les	bx, dword_102E8
		mov	dx, es:[bx+16h]
		mov	ax, es:[bx+14h]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		cmp	[bp+arg_0], 0
		jz	short loc_618D
		mov	ax, es:[bx+1Eh]
		or	ax, es:[bx+20h]
		jnz	short loc_617B
		mov	ax, es:[bx+1Eh]
		or	ax, es:[bx+20h]
		jz	short loc_614B
		mov	dx, es:[bx+20h]
		mov	ax, es:[bx+1Eh]
		jmp	short loc_6159
; ---------------------------------------------------------------------------

loc_614B:
		les	bx, dword_102E8
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; path
		call	mtime_get

loc_6159:
		les	bx, dword_102E8
		mov	es:[bx+20h], dx
		mov	es:[bx+1Eh], ax
		mov	ax, es:[bx+1Eh]
		or	ax, es:[bx+20h]
		jnz	short loc_617B
		mov	word ptr es:[bx+20h], 0
		mov	word ptr es:[bx+1Eh], 1

loc_617B:
		les	bx, dword_102E8
		mov	dx, es:[bx+20h]
		mov	ax, es:[bx+1Eh]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax

loc_618D:
		or	di, di
		jnz	short loc_619D
		cmp	word_102EE, 0
		jnz	short loc_619D
		push	1
		call	sub_743F

loc_619D:
		les	bx, dword_102E8
		mov	dx, es:[bx+16h]
		mov	ax, es:[bx+14h]
		jmp	loc_6297
; ---------------------------------------------------------------------------

loc_61AC:
		cmp	word_F50A, 0
		jnz	short loc_61DA
		cmp	[bp+arg_0], 0
		jz	short loc_61DA
		les	bx, [bp+var_4]
		les	bx, es:[bx+4]
		mov	dx, es:[bx+20h]
		mov	ax, es:[bx+1Eh]
		cmp	dx, [bp+var_6]
		jnb	short loc_61D0
		jmp	loc_628D
; ---------------------------------------------------------------------------

loc_61D0:
		ja	short loc_61DA
		cmp	ax, [bp+var_8]
		ja	short loc_61DA
		jmp	loc_628D
; ---------------------------------------------------------------------------

loc_61DA:
		push	ds
		push	offset DGROUP:byte_14106 ; __int32
		push	ds
		push	offset DGROUP:byte_140F4 ; __int32
		push	ds
		push	offset DGROUP:byte_14070 ; __int32
		push	ds
		push	offset DGROUP:byte_1406A ; __int32
		les	bx, [bp+var_4]
		les	bx, es:[bx+4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src
		call	sub_90B3
		add	sp, 14h
		mov	byte_1385A, 0
		test	si, 1
		jz	short loc_6217
		push	ds
		push	offset DGROUP:byte_1406A ; src
		push	ds
		push	offset DGROUP:byte_1385A ; dest
		call	_strcat
		add	sp, 8

loc_6217:
		test	si, 2
		jz	short loc_622B
		push	ds
		push	offset DGROUP:byte_14070 ; src
		push	ds
		push	offset DGROUP:byte_1385A ; dest
		call	_strcat
		add	sp, 8

loc_622B:
		test	si, 4
		jz	short loc_623F
		push	ds
		push	offset DGROUP:byte_140F4 ; src
		push	ds
		push	offset DGROUP:byte_1385A ; dest
		call	_strcat
		add	sp, 8

loc_623F:
		test	si, 8
		jz	short loc_6253
		push	ds
		push	offset DGROUP:byte_14106 ; src
		push	ds
		push	offset DGROUP:byte_1385A ; dest
		call	_strcat
		add	sp, 8

loc_6253:
		cmp	word_F50E, 0
		jz	short loc_627B
		push	ds
		push	offset DGROUP:byte_1385A ; s
		call	_strlen
		add	sp, 4
		dec	ax
		add	ax, 575Ah
		mov	word ptr [bp+var_C+2], ds
		mov	word ptr [bp+var_C], ax
		les	bx, [bp+var_C]
		cmp	byte ptr es:[bx], 5Ch ;	'\'
		jnz	short loc_627B
		mov	byte ptr es:[bx], 0

loc_627B:
		push	ds
		push	offset asc_E4EC	; " "
		push	ds
		push	offset DGROUP:byte_1385A ; dest
		call	_strcat
		add	sp, 8
		push	di
		call	sub_72E3

loc_628D:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]

loc_6297:
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jz	short loc_62A8
		jmp	loc_61AC
; ---------------------------------------------------------------------------

loc_62A8:
		or	di, di
		jnz	short loc_62B8
		cmp	word_102EE, 0
		jnz	short loc_62B8
		push	2
		call	sub_743F

loc_62B8:
		pop	di
		pop	si
		leave
		retn	6
sub_6109	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_62BE	proc near

var_4		= dword	ptr -4
arg_0		= word ptr  4

		enter	4, 0
		push	si
		mov	si, [bp+arg_0]
		cmp	si, 3Ah	; ':'
		jnz	short loc_631E
		push	0		; int
		push	0		; int
		push	0		; int
		push	0		; int
		push	word_14116
		push	off_14114	; src
		push	word_14112
		push	word_14110	; __int32
		push	ds
		push	offset DGROUP:byte_1385A ; dest
		call	sub_9247
		add	sp, 14h
		cmp	word_F50E, 0
		jnz	short loc_62F7
		jmp	loc_6404
; ---------------------------------------------------------------------------

loc_62F7:
		push	ds
		push	offset DGROUP:byte_1385A ; s
		call	_strlen
		add	sp, 4
		dec	ax
		add	ax, 575Ah
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 5Ch ;	'\'
		jz	short loc_6317
		jmp	loc_6404
; ---------------------------------------------------------------------------

loc_6317:
		mov	byte ptr es:[bx], 0
		jmp	loc_6404
; ---------------------------------------------------------------------------

loc_631E:
		cmp	si, 2Eh	; '.'
		jnz	short loc_633D
		push	word_1411E
		push	word_1411C
		push	word_1411A
		push	word_14118
		push	0
		push	0
		push	0
		push	0
		jmp	short loc_63B9
; ---------------------------------------------------------------------------

loc_633D:
		cmp	si, 40h	; '@'
		jz	short loc_6367
		cmp	si, 26h	; '&'
		jnz	short loc_6351
		push	word_1411A
		push	word_14118
		jmp	short loc_6372
; ---------------------------------------------------------------------------

loc_6351:
		cmp	si, 3Ch	; '<'
		jz	short loc_635B
		cmp	si, 3Fh	; '?'
		jnz	short loc_638F

loc_635B:
		cmp	word_102EC, 1
		jz	short loc_63DD
		cmp	si, 3Ch	; '<'
		jnz	short loc_637F

loc_6367:
		les	bx, dword_102E8
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src

loc_6372:
		push	ds
		push	offset DGROUP:byte_1385A ; dest
		call	_strcpy
		add	sp, 8
		jmp	loc_6404
; ---------------------------------------------------------------------------

loc_637F:
		cmp	si, 3Fh	; '?'
		jnz	short loc_63FF
		push	0Fh
		push	0
		push	1
		call	sub_6109
		jmp	short loc_6409
; ---------------------------------------------------------------------------

loc_638F:
		cmp	si, 2Ah	; '*'
		jnz	short loc_63FF
		call	sub_74B7
		mov	si, ax
		cmp	si, 2Ah	; '*'
		jz	short loc_63CB
		push	ax
		call	sub_74D3
		cmp	word_F50E, 0
		jz	short loc_63C5
		push	0		; int
		push	0		; int
		push	ds		; int
		push	offset DGROUP:byte_140FD ; int
		push	ds
		push	offset DGROUP:byte_140B2 ; src
		push	ds
		push	offset DGROUP:byte_1406D ; __int32

loc_63B9:
		push	ds
		push	offset DGROUP:byte_1385A ; dest
		call	sub_9247
		add	sp, 14h
		jmp	short loc_6404
; ---------------------------------------------------------------------------

loc_63C5:
		push	0
		push	0
		jmp	short loc_63E5
; ---------------------------------------------------------------------------

loc_63CB:
		cmp	word_102EC, 1
		jz	short loc_63DD
		push	0Fh
		push	0
		push	0
		call	sub_6109
		jmp	short loc_6409
; ---------------------------------------------------------------------------

loc_63DD:
		push	word_1411E
		push	word_1411C

loc_63E5:
		push	word_1411A
		push	word_14118
		push	word_14116
		push	off_14114
		push	word_14112
		push	word_14110
		jmp	short loc_63B9
; ---------------------------------------------------------------------------

loc_63FF:
		mov	ax, 1
		jmp	short loc_640B
; ---------------------------------------------------------------------------

loc_6404:
		push	0
		call	sub_72E3

loc_6409:
		xor	ax, ax

loc_640B:
		pop	si
		leave
		retn	2
sub_62BE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_6410	proc near

var_2		= word ptr -2
arg_0		= byte ptr  4

		enter	2, 0
		mov	al, [bp+arg_0]
		cbw
		mov	[bp+var_2], ax
		mov	cx, 4		; switch 4 cases
		mov	bx, offset word_6457

loc_6421:
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_2]
		jz	short loc_6430
		add	bx, 2
		loop	loc_6421
		jmp	short loc_6450	; default
; ---------------------------------------------------------------------------

loc_6430:
		jmp	word ptr cs:[bx+8] ; switch jump

loc_6434:
		mov	ax, 4		; jumptable 00006430 case 66
		leave
		retn	2
; ---------------------------------------------------------------------------

loc_643B:

		mov	ax, 3		; jumptable 00006430 case 68
		leave
		retn	2
; ---------------------------------------------------------------------------

loc_6442:

		mov	ax, 0Ch		; jumptable 00006430 case 70
		leave
		retn	2
; ---------------------------------------------------------------------------

loc_6449:

		mov	ax, 7		; jumptable 00006430 case 82
		leave
		retn	2
; ---------------------------------------------------------------------------

loc_6450:
		mov	ax, 0Fh		; default
		leave
		retn	2
sub_6410	endp

; ---------------------------------------------------------------------------
word_6457	dw    42h,   44h,   46h,   52h
					; value	table for switch statement
		dw offset loc_6434	; jump table for switch	statement
		dw offset loc_643B
		dw offset loc_6442
		dw offset loc_6449

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_6467	proc near

arg_0		= word ptr  4
arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+arg_0]
		cmp	[bp+arg_2], 0
		jnz	short loc_647B
		cmp	word_102EC, 0
		jnz	short loc_64C1

loc_647B:
		test	si, 8
		jz	short loc_6488
		mov	dx, ds
		mov	ax, 600Bh
		jmp	short loc_648C
; ---------------------------------------------------------------------------

loc_6488:
		xor	dx, dx
		xor	ax, ax

loc_648C:
		push	dx
		push	ax
		test	si, 4
		jz	short loc_649B
		mov	dx, ds
		mov	ax, 5FFDh
		jmp	short loc_649F
; ---------------------------------------------------------------------------

loc_649B:
		xor	dx, dx
		xor	ax, ax

loc_649F:
		push	dx
		push	ax
		test	si, 2
		jz	short loc_64AE
		mov	dx, ds
		mov	ax, 5FB2h
		jmp	short loc_64B2
; ---------------------------------------------------------------------------

loc_64AE:
		xor	dx, dx
		xor	ax, ax

loc_64B2:
		push	dx
		push	ax
		test	si, 1
		jz	short loc_650F
		mov	dx, ds
		mov	ax, 5F6Dh
		jmp	short loc_6513
; ---------------------------------------------------------------------------

loc_64C1:
		test	si, 8
		jz	short loc_64D0
		mov	dx, word_1411E
		mov	ax, word_1411C
		jmp	short loc_64D4
; ---------------------------------------------------------------------------

loc_64D0:
		xor	dx, dx
		xor	ax, ax

loc_64D4:
		push	dx		; int
		push	ax		; int
		test	si, 4
		jz	short loc_64E5
		mov	dx, word_1411A
		mov	ax, word_14118
		jmp	short loc_64E9
; ---------------------------------------------------------------------------

loc_64E5:
		xor	dx, dx
		xor	ax, ax

loc_64E9:
		push	dx		; int
		push	ax		; int
		test	si, 2
		jz	short loc_64FA
		mov	dx, word_14116
		mov	ax, off_14114
		jmp	short loc_64FE
; ---------------------------------------------------------------------------

loc_64FA:
		xor	dx, dx
		xor	ax, ax

loc_64FE:
		push	dx
		push	ax		; src
		test	si, 1
		jz	short loc_650F
		mov	dx, word_14112
		mov	ax, word_14110
		jmp	short loc_6513
; ---------------------------------------------------------------------------

loc_650F:
		xor	dx, dx
		xor	ax, ax

loc_6513:
		push	dx
		push	ax		; __int32
		push	ds
		push	offset DGROUP:byte_1385A ; dest
		call	sub_9247
		add	sp, 14h
		pop	si
		pop	bp
		retn	4
sub_6467	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_6524	proc near

var_4		= dword	ptr -4
arg_0		= word ptr  4

		enter	4, 0
		push	si
		push	di
		mov	si, 0Fh
		xor	di, di
		push	2		; maxlen
		push	ds
		push	offset asc_E4EE	; "**"
		push	ds
		push	offset DGROUP:byte_1385A ; s1
		call	_strncmp
		add	sp, 0Ah
		or	ax, ax
		jnz	short loc_659B
		cmp	word_102EC, 0
		jnz	short loc_655D
		mov	al, byte_1385C
		push	ax
		call	sub_6410
		push	ax
		push	[bp+arg_0]
		push	0
		call	sub_6109
		jmp	loc_6663
; ---------------------------------------------------------------------------

loc_655D:
		push	0
		mov	al, byte_1385C
		push	ax
		call	sub_6410
		push	ax
		call	sub_6467
		cmp	word_F50E, 0
		jnz	short loc_6574
		jmp	loc_665D
; ---------------------------------------------------------------------------

loc_6574:
		push	ds
		push	offset DGROUP:byte_1385A ; s
		call	_strlen
		add	sp, 4
		dec	ax
		add	ax, 575Ah
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 5Ch ;	'\'
		jz	short loc_6594
		jmp	loc_665D
; ---------------------------------------------------------------------------

loc_6594:
		mov	byte ptr es:[bx], 0
		jmp	loc_665D
; ---------------------------------------------------------------------------

loc_659B:
		cmp	byte_1385C, 0
		jz	short loc_65AC
		cmp	byte_1385B, 0
		jz	short loc_65AC
		jmp	loc_6658
; ---------------------------------------------------------------------------

loc_65AC:
		cmp	byte_1385A, 40h	; '@'
		jnz	short loc_65B8
		mov	di, 1
		jmp	short loc_6619
; ---------------------------------------------------------------------------

loc_65B8:
		cmp	byte_1385A, 3Ah	; ':'
		jnz	short loc_65C4
		and	si, 0FFF3h
		jmp	short loc_6619
; ---------------------------------------------------------------------------

loc_65C4:
		cmp	byte_1385A, 2Ah	; '*'
		jnz	short loc_65D4
		and	si, 0FFF7h
		mov	di, word_F50E
		jmp	short loc_6619
; ---------------------------------------------------------------------------

loc_65D4:
		cmp	byte_1385A, 3Ch	; '<'
		jnz	short loc_65DF
		xor	di, di
		jmp	short loc_6619
; ---------------------------------------------------------------------------

loc_65DF:
		cmp	byte_1385A, 2Eh	; '.'
		jnz	short loc_65EB
		and	si, 0FFFCh
		jmp	short loc_6619
; ---------------------------------------------------------------------------

loc_65EB:
		cmp	byte_1385A, 26h	; '&'
		jnz	short loc_65F7
		and	si, 0FFF4h
		jmp	short loc_6619
; ---------------------------------------------------------------------------

loc_65F7:
		cmp	byte_1385A, 3Fh	; '?'
		jnz	short loc_6658
		cmp	word_102EC, 1
		jnz	short loc_6607
		xor	di, di

loc_6607:
		mov	al, byte_1385B
		push	ax
		call	sub_6410
		push	ax
		push	[bp+arg_0]
		push	1
		call	sub_6109
		jmp	short loc_6663
; ---------------------------------------------------------------------------

loc_6619:
		cmp	byte_1385B, 0
		jz	short loc_6629
		mov	al, byte_1385B
		push	ax
		call	sub_6410
		and	si, ax

loc_6629:
		push	di
		push	si
		call	sub_6467
		cmp	word_F50E, 0
		jz	short loc_665D
		push	ds
		push	offset DGROUP:byte_1385A ; s
		call	_strlen
		add	sp, 4
		dec	ax
		add	ax, 575Ah
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 5Ch ;	'\'
		jnz	short loc_665D
		mov	byte ptr es:[bx], 0
		jmp	short loc_665D
; ---------------------------------------------------------------------------

loc_6658:
		mov	ax, 1
		jmp	short loc_6665
; ---------------------------------------------------------------------------

loc_665D:
		push	[bp+arg_0]
		call	sub_72E3

loc_6663:
		xor	ax, ax

loc_6665:
		pop	di
		pop	si
		leave
		retn	2
sub_6524	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_666B	proc near

block		= dword	ptr -26h
@@s		= dword	ptr -22h
var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= dword	ptr -16h
var_12		= dword	ptr -12h
var_E		= word ptr -0Eh
@@dest		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h

		enter	26h, 0
		push	si
		push	di
		mov	di, [bp+arg_8]
		mov	word ptr [bp+@@dest+2], 0
		mov	word ptr [bp+@@dest], 0
		mov	[bp+var_E], 0
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax
		mov	ax, word_13A5E
		or	ax, word_13A60
		jnz	short loc_66A7
		jmp	loc_6939
; ---------------------------------------------------------------------------

loc_66A7:
		mov	dx, word_13A60
		mov	ax, word_13A5E
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	dx, word ptr off_14066+2
		mov	ax, word ptr off_14066
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	ax, word ptr [bp+var_4]
		add	ax, 0Ah
		push	word ptr [bp+var_4+2]
		push	ax		; s
		call	_strlen
		add	sp, 4
		mov	dx, word ptr [bp+var_4+2]
		add	ax, word ptr [bp+var_4]
		add	ax, 0Bh
		mov	word ptr off_14066+2, dx
		mov	word ptr off_14066, ax
		les	bx, [bp+var_4]
		or	byte ptr es:[bx], 2
		jmp	loc_68D8
; ---------------------------------------------------------------------------

loc_66EB:
		cmp	si, 24h	; '$'
		jz	short loc_66F3
		jmp	loc_6858
; ---------------------------------------------------------------------------

loc_66F3:
		call	sub_74B7
		mov	si, ax
		cmp	si, 28h	; '('
		jz	short loc_6714
		cmp	si, 7Bh	; '{'
		jz	short loc_6714
		test	byte ptr [si+1D69h], 0Ch
		jnz	short loc_670C
		jmp	loc_6801
; ---------------------------------------------------------------------------

loc_670C:
		cmp	si, 64h	; 'd'
		jnz	short loc_6714
		jmp	loc_6801
; ---------------------------------------------------------------------------

loc_6714:
		or	di, di
		jz	short loc_6725
		mov	dx, word ptr dword_13A62+2
		mov	ax, word ptr dword_13A62
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax

loc_6725:
		push	si
		push	74B7h
		push	ss
		lea	ax, [bp+var_E]
		push	ax
		push	ss
		lea	ax, [bp+var_1A]
		push	ax
		push	ss
		lea	ax, [bp+var_1E]
		push	ax
		call	sub_6DDC
		mov	si, ax
		cmp	si, 0FFFFh
		jnz	short loc_6745
		jmp	loc_68E5
; ---------------------------------------------------------------------------

loc_6745:
		push	[bp+arg_C]
		push	[bp+arg_A]
		push	[bp+var_E]
		push	[bp+var_18]
		push	[bp+var_1A]
		push	[bp+var_1C]
		push	[bp+var_1E]
		call	sub_666B
		or	di, di
		jnz	short loc_6764
		jmp	loc_68D8
; ---------------------------------------------------------------------------

loc_6764:
		mov	word ptr [bp+block+2], 0
		mov	word ptr [bp+block], 0
		mov	ax, word ptr [bp+@@dest]
		or	ax, word ptr [bp+@@dest+2]
		jz	short loc_6782
		mov	dx, word ptr [bp+@@dest+2]
		mov	ax, word ptr [bp+@@dest]
		mov	word ptr [bp+block+2], dx
		mov	word ptr [bp+block], ax

loc_6782:
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	_strlen
		add	sp, 4
		push	ax
		push	word ptr off_14066+2
		push	word ptr off_14066 ; s
		call	_strlen
		add	sp, 4
		pop	dx
		add	dx, ax
		inc	dx
		push	dx		; size
		call	sub_5296
		mov	word ptr [bp+@@dest+2], dx
		mov	word ptr [bp+@@dest], ax
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; src
		push	dx
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		push	word ptr off_14066+2
		push	word ptr off_14066 ; src
		push	word ptr [bp+@@dest+2]
		push	word ptr [bp+@@dest] ; dest
		call	_strcat
		add	sp, 8
		mov	dx, word ptr [bp+@@dest+2]
		mov	ax, word ptr [bp+@@dest]
		mov	word ptr off_14066+2, dx
		mov	word ptr off_14066, ax
		mov	dx, word ptr [bp+@@s+2]
		mov	ax, word ptr [bp+@@s]
		mov	word ptr dword_13A62+2,	dx
		mov	word ptr dword_13A62, ax
		mov	ax, word ptr [bp+block]
		or	ax, word ptr [bp+block+2]
		jnz	short loc_67F2
		jmp	loc_68D8
; ---------------------------------------------------------------------------

loc_67F2:
		push	word ptr [bp+block+2]
		push	word ptr [bp+block] ; block
		call	_farfree
		add	sp, 4
		jmp	loc_68D8
; ---------------------------------------------------------------------------

loc_6801:
		cmp	si, 24h	; '$'
		jnz	short loc_680B
		push	24h ; '$'
		jmp	loc_68D5
; ---------------------------------------------------------------------------

loc_680B:
		cmp	[bp+arg_C], 0
		jz	short loc_6843
		cmp	si, 64h	; 'd'
		jnz	short loc_6843
		call	sub_74B7
		mov	si, ax
		cmp	si, 28h	; '('
		jz	short loc_6832
		cmp	si, 7Bh	; '{'
		jz	short loc_6832
		push	24h ; '$'
		call	sub_743F
		push	64h ; 'd'

loc_682C:
		call	sub_743F
		jmp	loc_68DD
; ---------------------------------------------------------------------------

loc_6832:
		push	74B7h
		call	sub_73B5
		cmp	ax, 0FFFFh
		jz	short loc_6840
		jmp	loc_68D8
; ---------------------------------------------------------------------------

loc_6840:
		jmp	loc_68E5
; ---------------------------------------------------------------------------

loc_6843:
		cmp	[bp+arg_A], 0
		jz	short loc_6854
		push	si
		call	sub_62BE
		or	ax, ax
		jnz	short loc_6854
		jmp	loc_68D8
; ---------------------------------------------------------------------------

loc_6854:
		push	24h ; '$'
		jmp	short loc_682C
; ---------------------------------------------------------------------------

loc_6858:
		or	di, di
		jz	short loc_68D4
		les	bx, [bp+var_12]
		inc	word ptr [bp+var_12]
		mov	al, es:[bx]
		cbw
		cmp	ax, si
		jz	short loc_6876
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax

loc_6876:
		les	bx, [bp+var_12]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_68D4
		les	bx, [bp+arg_4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_68D4
		jmp	short loc_6890
; ---------------------------------------------------------------------------

loc_688A:
		call	sub_7484
		dec	word ptr [bp+var_12]

loc_6890:
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		inc	ax
		cmp	dx, word ptr [bp+var_12+2]
		jnz	short loc_688A
		cmp	ax, word ptr [bp+var_12]
		jnz	short loc_688A
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax
		jmp	short loc_68BD
; ---------------------------------------------------------------------------

loc_68AF:
		les	bx, [bp+var_16]
		mov	al, es:[bx]
		cbw
		push	ax
		call	sub_743F
		inc	word ptr [bp+var_16]

loc_68BD:
		les	bx, [bp+var_16]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_68AF
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		jmp	short loc_68D8
; ---------------------------------------------------------------------------

loc_68D4:
		push	si

loc_68D5:
		call	sub_743F

loc_68D8:
		call	sub_74B7
		mov	si, ax

loc_68DD:
		cmp	si, 0FFFFh
		jz	short loc_68E5
		jmp	loc_66EB
; ---------------------------------------------------------------------------

loc_68E5:
		les	bx, [bp+var_4]
		and	byte ptr es:[bx], 0FDh
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	word ptr off_14066+2, dx
		mov	word ptr off_14066, ax
		or	di, di
		jz	short loc_6925
		mov	ax, word ptr [bp+arg_4]
		or	ax, word ptr [bp+arg_4+2]
		jz	short loc_6911
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4] ; block
		call	_farfree
		add	sp, 4

loc_6911:
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jz	short loc_6925
		push	[bp+arg_2]
		push	[bp+arg_0]	; block
		call	_farfree
		add	sp, 4

loc_6925:
		mov	ax, word ptr [bp+@@dest]
		or	ax, word ptr [bp+@@dest+2]
		jz	short loc_6939
		push	word ptr [bp+@@dest+2]
		push	word ptr [bp+@@dest] ; block
		call	_farfree
		add	sp, 4

loc_6939:
		pop	di
		pop	si
		leave
		retn	0Eh
sub_666B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_693F	proc near

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	0Ch, 0
		push	si
		push	di
		mov	si, [bp+arg_2]
		xor	di, di
		mov	word_13A5C, ds
		mov	word_13A5A, 76Bh
		mov	word ptr dword_13A62+2,	ds
		mov	word ptr dword_13A62, 475Ah
		mov	byte_1285A, 0
		jmp	loc_6A0E
; ---------------------------------------------------------------------------

loc_6966:
		cmp	[bp+arg_0], 0
		jz	short loc_697B
		cmp	si, 3Dh	; '='
		jnz	short loc_697B
		cmp	byte_1285A, 2Eh	; '.'
		jz	short loc_697B
		mov	di, 1

loc_697B:
		cmp	si, 24h	; '$'
		jz	short loc_6983
		jmp	loc_6A05
; ---------------------------------------------------------------------------

loc_6983:
		or	di, di
		jnz	short loc_6A05
		call	sub_1D9C
		mov	si, ax
		cmp	si, 28h	; '('
		jz	short loc_69A2
		cmp	si, 7Bh	; '{'
		jz	short loc_69A2
		test	byte ptr [si+1D69h], 0Ch
		jz	short loc_69F8
		cmp	si, 64h	; 'd'
		jz	short loc_69F8

loc_69A2:
		mov	[bp+var_4], si
		call	sub_1D9C
		mov	si, ax
		cmp	si, 40h	; '@'
		jnz	short loc_69BC
		push	24h ; '$'
		call	sub_743F
		push	[bp+var_4]

loc_69B7:
		call	sub_743F
		jmp	short loc_6A0E
; ---------------------------------------------------------------------------

loc_69BC:
		push	si
		call	sub_1C97
		mov	si, [bp+var_4]
		push	si
		push	1D9Ch
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		push	ss
		lea	ax, [bp+var_8]
		push	ax
		push	ss
		lea	ax, [bp+var_C]
		push	ax
		call	sub_6DDC
		mov	si, ax
		cmp	si, 0FFFFh
		jz	short loc_6A1B
		push	0
		push	0
		push	[bp+var_2]
		push	[bp+var_6]
		push	[bp+var_8]
		push	[bp+var_A]
		push	[bp+var_C]
		call	sub_666B
		jmp	short loc_6A09
; ---------------------------------------------------------------------------

loc_69F8:
		cmp	si, 24h	; '$'
		jnz	short loc_6A01
		push	24h ; '$'
		jmp	short loc_6A06
; ---------------------------------------------------------------------------

loc_6A01:
		push	24h ; '$'
		jmp	short loc_69B7
; ---------------------------------------------------------------------------

loc_6A05:
		push	si

loc_6A06:
		call	sub_743F

loc_6A09:
		call	sub_1D9C
		mov	si, ax

loc_6A0E:
		cmp	si, 0FFFFh
		jz	short loc_6A1B
		cmp	si, 0Ah
		jz	short loc_6A1B
		jmp	loc_6966
; ---------------------------------------------------------------------------

loc_6A1B:
		mov	ax, di
		pop	di
		pop	si
		leave
		retn	4
sub_693F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_6A23(char *s, char *s1)
sub_6A23	proc near

var_20		= dword	ptr -20h
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
block		= dword	ptr -18h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
@@s		= dword	ptr  4
@@s1		= dword	ptr  8

		enter	20h, 0
		push	si
		push	di
		mov	dx, word ptr dword_13A62+2
		mov	ax, word ptr dword_13A62
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	dx, word ptr off_14066+2
		mov	ax, word ptr off_14066
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	_strlen
		add	sp, 4
		inc	ax
		push	ax		; size
		call	_malloc
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; src
		push	dx
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		mov	dx, word ptr [bp+@@s+2]
		mov	ax, word ptr [bp+@@s]
		mov	word ptr dword_13A62+2,	dx
		mov	word ptr dword_13A62, ax
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		mov	word ptr off_14066+2, dx
		mov	word ptr off_14066, ax
		jmp	loc_6C14
; ---------------------------------------------------------------------------

loc_6A86:
		cmp	si, 24h	; '$'
		jz	short loc_6A8E
		jmp	loc_6C10
; ---------------------------------------------------------------------------

loc_6A8E:
		call	sub_74B7
		mov	si, ax
		cmp	si, 28h	; '('
		jz	short loc_6AAF
		cmp	si, 7Bh	; '{'
		jz	short loc_6AAF
		test	byte ptr [si+1D69h], 0Ch
		jnz	short loc_6AA7
		jmp	loc_6C09
; ---------------------------------------------------------------------------

loc_6AA7:
		cmp	si, 64h	; 'd'
		jnz	short loc_6AAF
		jmp	loc_6C09
; ---------------------------------------------------------------------------

loc_6AAF:
		cmp	si, 28h	; '('
		jnz	short loc_6AB9
		mov	ax, 29h	; ')'
		jmp	short loc_6ABC
; ---------------------------------------------------------------------------

loc_6AB9:
		mov	ax, 7Dh	; '}'

loc_6ABC:
		mov	di, ax
		mov	[bp+var_14], si
		mov	dx, word ptr off_14066+2
		mov	ax, word ptr off_14066
		mov	[bp+var_10], dx
		mov	[bp+var_12], ax
		push	si
		push	74B7h
		push	ss
		lea	ax, [bp+var_E]
		push	ax
		push	ss
		lea	ax, [bp+block]
		push	ax
		push	ss
		lea	ax, [bp+var_1C]
		push	ax
		call	sub_6DDC
		mov	si, ax
		cmp	si, 0FFFFh
		jnz	short loc_6AEE
		jmp	loc_6C21
; ---------------------------------------------------------------------------

loc_6AEE:
		mov	ax, word_13A5E
		or	ax, word_13A60
		jnz	short loc_6AFA
		jmp	loc_6BEF
; ---------------------------------------------------------------------------

loc_6AFA:
		mov	ax, word_13A5E
		add	ax, 0Ah
		push	word_13A60
		push	ax		; s2
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jz	short loc_6B18
		jmp	loc_6BEF
; ---------------------------------------------------------------------------

loc_6B18:
		mov	ax, word_13A5E
		add	ax, 0Ah
		push	word_13A60
		push	ax		; s
		call	_strlen
		add	sp, 4
		mov	dx, word_13A60
		add	ax, word_13A5E
		add	ax, 0Bh
		mov	word ptr [bp+var_20+2],	dx
		mov	word ptr [bp+var_20], ax
		cmp	[bp+var_E], 0
		jnz	short loc_6B43
		jmp	loc_6BE4
; ---------------------------------------------------------------------------

loc_6B43:
		jmp	short loc_6B53
; ---------------------------------------------------------------------------

loc_6B45:
		les	bx, [bp+var_20]
		inc	word ptr [bp+var_20]
		mov	al, es:[bx]
		cbw
		push	ax
		call	sub_743F

loc_6B53:
		les	bx, [bp+var_20]
		cmp	byte ptr es:[bx], 0
		jz	short loc_6B64
		mov	al, es:[bx]
		cbw
		cmp	ax, di
		jnz	short loc_6B45

loc_6B64:
		push	3Ah ; ':'
		call	sub_743F
		mov	dx, word ptr [bp+block+2]
		mov	ax, word ptr [bp+block]
		mov	word ptr [bp+var_20+2],	dx
		mov	word ptr [bp+var_20], ax
		jmp	short loc_6B85
; ---------------------------------------------------------------------------

loc_6B77:
		les	bx, [bp+var_20]
		inc	word ptr [bp+var_20]
		mov	al, es:[bx]
		cbw
		push	ax
		call	sub_743F

loc_6B85:
		les	bx, [bp+var_20]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_6B77
		push	3Dh ; '='
		call	sub_743F
		mov	dx, [bp+var_1A]
		mov	ax, [bp+var_1C]
		mov	word ptr [bp+var_20+2],	dx
		mov	word ptr [bp+var_20], ax
		jmp	short loc_6BAF
; ---------------------------------------------------------------------------

loc_6BA1:
		les	bx, [bp+var_20]
		inc	word ptr [bp+var_20]
		mov	al, es:[bx]
		cbw
		push	ax
		call	sub_743F

loc_6BAF:
		les	bx, [bp+var_20]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_6BA1
		push	di
		call	sub_743F
		push	word ptr [bp+block+2]
		push	word ptr [bp+block] ; block
		call	_farfree
		add	sp, 4
		push	[bp+var_1A]
		push	[bp+var_1C]	; block
		call	_farfree
		add	sp, 4
		jmp	short loc_6C14
; ---------------------------------------------------------------------------

loc_6BD6:
		les	bx, [bp+var_20]
		inc	word ptr [bp+var_20]
		mov	al, es:[bx]
		cbw
		push	ax
		call	sub_743F

loc_6BE4:
		les	bx, [bp+var_20]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_6BD6
		jmp	short loc_6C14
; ---------------------------------------------------------------------------

loc_6BEF:
		push	24h ; '$'
		call	sub_743F
		push	[bp+var_14]
		call	sub_743F
		mov	dx, [bp+var_10]
		mov	ax, [bp+var_12]
		mov	word ptr off_14066+2, dx
		mov	word ptr off_14066, ax
		jmp	short loc_6C14
; ---------------------------------------------------------------------------

loc_6C09:
		push	24h ; '$'
		call	sub_743F
		jmp	short loc_6C19
; ---------------------------------------------------------------------------

loc_6C10:
		push	si
		call	sub_743F

loc_6C14:
		call	sub_74B7
		mov	si, ax

loc_6C19:
		cmp	si, 0FFFFh
		jz	short loc_6C21
		jmp	loc_6A86
; ---------------------------------------------------------------------------

loc_6C21:
		push	[bp+var_2]
		push	[bp+var_4]	; block
		call	_farfree
		add	sp, 4
		mov	dx, [bp+var_A]
		mov	ax, [bp+var_C]
		mov	word ptr off_14066+2, dx
		mov	word ptr off_14066, ax
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	word ptr dword_13A62+2,	dx
		mov	word ptr dword_13A62, ax
		pop	di
		pop	si
		leave
		retn	8
sub_6A23	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_6C4D(char *src, int, int)
sub_6C4D	proc near

var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
@@src		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	0Ah, 0
		push	si
		cmp	word_102EC, 1
		jnz	short loc_6C60
		mov	dx, ds
		mov	ax, 5F6Ah
		jmp	short loc_6C65
; ---------------------------------------------------------------------------

loc_6C60:
		mov	dx, ds
		mov	ax, 5F6Dh

loc_6C65:
		mov	word_14112, dx
		mov	word_14110, ax
		cmp	word_102EC, 1
		jnz	short loc_6C7A
		mov	dx, ds
		mov	ax, 5F70h
		jmp	short loc_6C7F
; ---------------------------------------------------------------------------

loc_6C7A:
		mov	dx, ds
		mov	ax, 5FB2h

loc_6C7F:
		mov	word_14116, dx
		mov	off_14114, ax
		cmp	word_102EC, 1
		jnz	short loc_6C94
		mov	dx, ds
		mov	ax, 5FF4h
		jmp	short loc_6C99
; ---------------------------------------------------------------------------

loc_6C94:
		mov	dx, ds
		mov	ax, 5FFDh

loc_6C99:
		mov	word_1411A, dx
		mov	word_14118, ax
		cmp	word_102EC, 1
		jnz	short loc_6CAE
		mov	dx, ds
		mov	ax, 6006h
		jmp	short loc_6CB3
; ---------------------------------------------------------------------------

loc_6CAE:
		mov	dx, ds
		mov	ax, 600Bh

loc_6CB3:
		mov	word_1411E, dx
		mov	word_1411C, ax
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	word_14122, dx
		mov	word_14120, ax
		mov	word_13A5C, ds
		mov	word_13A5A, 75Ah
		push	ds
		push	offset DGROUP:byte_14106 ; __int32
		push	ds
		push	offset DGROUP:byte_140F4 ; __int32
		push	ds
		push	offset DGROUP:byte_14070 ; __int32
		push	ds
		push	offset DGROUP:byte_1406A ; __int32
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		call	sub_90B3
		add	sp, 14h
		push	ds
		push	offset DGROUP:byte_1410B ; __int32
		push	ds
		push	offset DGROUP:byte_140FD ; __int32
		push	ds
		push	offset DGROUP:byte_140B2 ; __int32
		push	ds
		push	offset DGROUP:byte_1406D ; __int32
		les	bx, dword_102E8
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src
		call	sub_90B3
		add	sp, 14h
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	word ptr off_14066+2, dx
		mov	word ptr off_14066, ax
		mov	word ptr dword_13A62+2,	ds
		mov	word ptr dword_13A62, 475Ah
		mov	byte_1285A, 0
		jmp	loc_6DAD
; ---------------------------------------------------------------------------

loc_6D2D:
		cmp	si, 24h	; '$'
		jnz	short loc_6DA9
		call	sub_74B7
		mov	si, ax
		cmp	si, 28h	; '('
		jz	short loc_6D4D
		cmp	si, 7Bh	; '{'
		jz	short loc_6D4D
		test	byte ptr [si+1D69h], 0Ch
		jz	short loc_6D91
		cmp	si, 64h	; 'd'
		jz	short loc_6D91

loc_6D4D:
		push	si
		push	74B7h
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		push	ss
		lea	ax, [bp+var_6]
		push	ax
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		call	sub_6DDC
		mov	si, ax
		cmp	si, 0FFFFh
		jz	short loc_6DBA
		push	0
		push	1
		push	[bp+var_2]
		push	[bp+var_4]
		push	[bp+var_6]
		push	[bp+var_8]
		push	[bp+var_A]
		call	sub_666B
		mov	ax, word_13A5E
		or	ax, word_13A60
		jnz	short loc_6DAD
		push	[bp+var_2]
		call	sub_6524
		jmp	short loc_6DAD
; ---------------------------------------------------------------------------

loc_6D91:
		cmp	si, 24h	; '$'
		jnz	short loc_6D9A
		push	24h ; '$'
		jmp	short loc_6DAA
; ---------------------------------------------------------------------------

loc_6D9A:
		push	si
		call	sub_62BE
		or	ax, ax
		jz	short loc_6DAD
		push	24h ; '$'
		call	sub_743F
		jmp	short loc_6DB2
; ---------------------------------------------------------------------------

loc_6DA9:
		push	si

loc_6DAA:
		call	sub_743F

loc_6DAD:
		call	sub_74B7
		mov	si, ax

loc_6DB2:
		cmp	si, 0FFFFh
		jz	short loc_6DBA
		jmp	loc_6D2D
; ---------------------------------------------------------------------------

loc_6DBA:
		pop	si
		leave
		retn	8
sub_6C4D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_6DBF	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+arg_0]
		jmp	short loc_6DCD
; ---------------------------------------------------------------------------

loc_6DC8:
		call	sub_1D9C
		mov	si, ax

loc_6DCD:
		cmp	si, 0FFFFh
		jz	short loc_6DD7
		cmp	si, 0Ah
		jnz	short loc_6DC8

loc_6DD7:
		pop	si
		pop	bp
		retn	2
sub_6DBF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_6DDC	proc near

var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= dword	ptr -12h
var_E		= word ptr -0Eh
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= dword	ptr  0Ch
arg_C		= word ptr  10h
arg_E		= word ptr  12h

		enter	16h, 0
		push	si
		push	di
		mov	si, [bp+arg_C]
		mov	ax, [bp+arg_E]
		mov	[bp+var_E], ax
		cmp	[bp+var_E], 28h	; '('
		jnz	short loc_6DF6
		mov	ax, 29h	; ')'
		jmp	short loc_6DF9
; ---------------------------------------------------------------------------

loc_6DF6:
		mov	ax, 7Dh	; '}'

loc_6DF9:
		mov	di, ax
		les	bx, [bp+arg_8]
		mov	word ptr es:[bx], 0
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 575Ah
		les	bx, [bp+arg_4]
		mov	word ptr es:[bx+2], 0
		mov	word ptr es:[bx], 0
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx+2], 0
		mov	word ptr es:[bx], 0
		cmp	[bp+var_E], 28h	; '('
		jz	short loc_6E3F
		cmp	[bp+var_E], 7Bh	; '{'
		jz	short loc_6E3F
		les	bx, [bp+var_4]
		mov	al, byte ptr [bp+var_E]
		mov	es:[bx], al
		jmp	loc_711A
; ---------------------------------------------------------------------------

loc_6E3F:
		call	si
		mov	[bp+var_E], ax
		cmp	[bp+var_E], 20h	; ' '
		jz	short loc_6E3F

loc_6E4A:
		cmp	[bp+var_E], 0FFFFh
		jz	short loc_6E56
		cmp	[bp+var_E], 0Ah
		jnz	short loc_6E74

loc_6E56:
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		push	0
		call	sub_72E3
		push	word_14122
		push	word_14120
		push	ds
		push	offset aSMissingInMacr ; "%s - ')' missing in macro invocation"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 8

loc_6E74:
		cmp	[bp+var_E], di
		jz	short loc_6E92
		cmp	[bp+var_E], 3Ah	; ':'
		jz	short loc_6E92
		les	bx, [bp+var_4]
		mov	al, byte ptr [bp+var_E]
		mov	es:[bx], al
		inc	word ptr [bp+var_4]
		call	si
		mov	[bp+var_E], ax
		jmp	short loc_6E4A
; ---------------------------------------------------------------------------

loc_6E92:
		cmp	[bp+var_E], 3Ah	; ':'
		jz	short loc_6E9B
		jmp	loc_7107
; ---------------------------------------------------------------------------

loc_6E9B:
		mov	[bp+var_14], 0
		mov	word ptr [bp+var_12+2],	ds
		mov	word ptr [bp+var_12], 575Ah
		jmp	short loc_6EAD
; ---------------------------------------------------------------------------

loc_6EAA:
		inc	word ptr [bp+var_12]

loc_6EAD:
		les	bx, [bp+var_12]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_6EBC
		cmp	byte ptr es:[bx], 9
		jnz	short loc_6ECC

loc_6EBC:
		mov	dx, word ptr [bp+var_12+2]
		mov	ax, word ptr [bp+var_12]
		cmp	dx, word ptr [bp+var_4+2]
		jnz	short loc_6EAA
		cmp	ax, word ptr [bp+var_4]
		jnz	short loc_6EAA

loc_6ECC:
		call	si
		mov	[bp+var_E], ax
		mov	dx, word ptr [bp+var_12+2]
		mov	ax, word ptr [bp+var_12]
		cmp	dx, word ptr [bp+var_4+2]
		jnz	short loc_6F36
		cmp	ax, word ptr [bp+var_4]
		jnz	short loc_6F36
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 3Ah ;	':'
		inc	word ptr [bp+var_4]

loc_6EEB:
		cmp	[bp+var_E], 0FFFFh
		jz	short loc_6EF7
		cmp	[bp+var_E], 0Ah
		jnz	short loc_6F06

loc_6EF7:
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		push	0
		call	sub_72E3
		jmp	loc_705C
; ---------------------------------------------------------------------------

loc_6F06:
		cmp	[bp+var_E], di
		jz	short loc_6F24
		cmp	[bp+var_E], 3Ah	; ':'
		jz	short loc_6F24
		les	bx, [bp+var_4]
		mov	al, byte ptr [bp+var_E]
		mov	es:[bx], al
		inc	word ptr [bp+var_4]
		call	si
		mov	[bp+var_E], ax
		jmp	short loc_6EEB
; ---------------------------------------------------------------------------

loc_6F24:
		cmp	[bp+var_E], 3Ah	; ':'
		jz	short loc_6F31
		mov	[bp+var_14], 1
		jmp	short loc_6F36
; ---------------------------------------------------------------------------

loc_6F31:
		call	si
		mov	[bp+var_E], ax

loc_6F36:
		cmp	[bp+var_14], 0
		jz	short loc_6F3F
		jmp	loc_7107
; ---------------------------------------------------------------------------

loc_6F3F:
		cmp	[bp+var_E], 0FFFFh
		jz	short loc_6F4B
		cmp	[bp+var_E], 0Ah
		jnz	short loc_6F5A

loc_6F4B:
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		push	0
		call	sub_72E3
		jmp	loc_705C
; ---------------------------------------------------------------------------

loc_6F5A:
		les	bx, [bp+arg_8]
		mov	word ptr es:[bx], 1
		push	201h		; size
		call	sub_5296
		les	bx, [bp+arg_4]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		push	201h		; size
		call	sub_5296
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		cmp	[bp+var_E], di
		jz	short loc_6F8D
		cmp	[bp+var_E], 3Dh	; '='
		jnz	short loc_6F97

loc_6F8D:
		push	ds
		push	offset aBadMacroOutput ; "Bad macro output translator"
		call	sub_8D8E
		add	sp, 4

loc_6F97:
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		jmp	short loc_700F
; ---------------------------------------------------------------------------

loc_6FB9:
		cmp	[bp+var_E], 0FFFFh
		jnz	short loc_6FCE
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		push	0
		call	sub_72E3
		jmp	loc_705C
; ---------------------------------------------------------------------------

loc_6FCE:
		les	bx, [bp+arg_4]
		mov	ax, word ptr [bp+var_8]
		xor	dx, dx
		sub	ax, es:[bx]
		sbb	dx, 0
		cmp	ax, 200h
		jge	short loc_6FEF
		les	bx, [bp+var_8]
		mov	al, byte ptr [bp+var_E]
		mov	es:[bx], al
		inc	word ptr [bp+var_8]
		jmp	short loc_700A
; ---------------------------------------------------------------------------

loc_6FEF:
		les	bx, [bp+var_8]
		mov	byte ptr es:[bx], 0
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	ds
		push	offset aMacroSubstitut ; "Macro	substitute text	%s is too long"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 8

loc_700A:
		call	si
		mov	[bp+var_E], ax

loc_700F:
		cmp	[bp+var_E], di
		jz	short loc_701A
		cmp	[bp+var_E], 3Dh	; '='
		jnz	short loc_6FB9

loc_701A:
		cmp	[bp+var_E], di
		jnz	short loc_7040
		les	bx, [bp+var_8]
		mov	al, byte ptr [bp+var_E]
		mov	es:[bx], al
		inc	word ptr [bp+var_8]
		call	si
		mov	[bp+var_E], ax
		cmp	[bp+var_E], 3Dh	; '='
		jz	short loc_7040
		push	ds
		push	offset aBadMacroOutput ; "Bad macro output translator"
		call	sub_8D8E
		add	sp, 4

loc_7040:
		les	bx, [bp+var_8]
		mov	byte ptr es:[bx], 0
		jmp	loc_70F3
; ---------------------------------------------------------------------------

loc_704A:
		cmp	[bp+var_E], 0FFFFh
		jnz	short loc_7062

loc_7050:
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		push	0
		call	sub_72E3

loc_705C:
		mov	ax, 0FFFFh
		jmp	loc_719E
; ---------------------------------------------------------------------------

loc_7062:
		cmp	[bp+var_E], 24h	; '$'
		jnz	short loc_70B7
		les	bx, [bp+var_C]
		mov	al, byte ptr [bp+var_E]
		mov	es:[bx], al
		inc	word ptr [bp+var_C]
		call	si
		mov	[bp+var_E], ax
		cmp	[bp+var_E], 28h	; '('
		jz	short loc_7085
		cmp	[bp+var_E], 7Bh	; '{'
		jnz	short loc_70B7

loc_7085:
		cmp	[bp+var_E], 28h	; '('
		jnz	short loc_7090
		mov	ax, 29h	; ')'
		jmp	short loc_7093
; ---------------------------------------------------------------------------

loc_7090:
		mov	ax, 7Dh	; '}'

loc_7093:
		mov	[bp+var_16], ax
		jmp	short loc_70AF
; ---------------------------------------------------------------------------

loc_7098:
		cmp	[bp+var_E], 0FFFFh
		jz	short loc_7050
		les	bx, [bp+var_C]
		mov	al, byte ptr [bp+var_E]
		mov	es:[bx], al
		inc	word ptr [bp+var_C]
		call	si
		mov	[bp+var_E], ax

loc_70AF:
		mov	ax, [bp+var_E]
		cmp	ax, [bp+var_16]
		jnz	short loc_7098

loc_70B7:
		les	bx, [bp+arg_0]
		mov	ax, word ptr [bp+var_C]
		xor	dx, dx
		sub	ax, es:[bx]
		sbb	dx, 0
		cmp	ax, 200h
		jge	short loc_70D8
		les	bx, [bp+var_C]
		mov	al, byte ptr [bp+var_E]
		mov	es:[bx], al
		inc	word ptr [bp+var_C]
		jmp	short loc_70F3
; ---------------------------------------------------------------------------

loc_70D8:
		les	bx, [bp+var_C]
		mov	byte ptr es:[bx], 0
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	ds
		push	offset aMacroReplaceTe ; "Macro	replace	text %s	is too long"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 8

loc_70F3:
		call	si
		mov	[bp+var_E], ax
		cmp	[bp+var_E], di
		jz	short loc_7100
		jmp	loc_704A
; ---------------------------------------------------------------------------

loc_7100:
		les	bx, [bp+var_C]
		mov	byte ptr es:[bx], 0

loc_7107:
		dec	word ptr [bp+var_4]
		cmp	word ptr [bp+var_4], 575Ah
		jb	short loc_711A
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_7107

loc_711A:
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		les	bx, [bp+arg_4]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jz	short loc_7142
		les	bx, es:[bx]
		cmp	byte ptr es:[bx], 24h ;	'$'
		jnz	short loc_7142
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4]
		call	sub_71A4

loc_7142:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jz	short loc_7160
		les	bx, es:[bx]
		cmp	byte ptr es:[bx], 24h ;	'$'
		jnz	short loc_7160
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	sub_71A4

loc_7160:
		call	sub_2AA0
		mov	word_13A60, dx
		mov	word_13A5E, ax
		les	bx, [bp+arg_8]
		cmp	word ptr es:[bx], 0
		jz	short loc_719B
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src
		push	ds
		push	offset DGROUP:byte_13C66 ; dest
		call	_strcpy
		add	sp, 8
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src
		push	ds
		push	offset DGROUP:byte_13E66 ; dest
		call	_strcpy
		add	sp, 8

loc_719B:
		mov	ax, [bp+var_E]

loc_719E:
		pop	di
		pop	si
		leave
		retn	10h
sub_6DDC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_71A4	proc near

var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
block		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  4

		enter	1Eh, 0
		push	si
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		inc	ax
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		cbw
		mov	si, ax
		inc	word ptr [bp+var_4]
		cmp	si, 28h	; '('
		jz	short loc_71E2
		cmp	si, 7Bh	; '{'
		jz	short loc_71E2
		test	byte ptr [si+1D69h], 0Ch
		jnz	short loc_71DA
		jmp	loc_72DE
; ---------------------------------------------------------------------------

loc_71DA:
		cmp	si, 64h	; 'd'
		jnz	short loc_71E2
		jmp	loc_72DE
; ---------------------------------------------------------------------------

loc_71E2:
		push	ds
		push	offset DGROUP:byte_1385A ; s
		call	sub_894C
		mov	word ptr [bp+block+2], dx
		mov	word ptr [bp+block], ax
		push	ds
		push	offset DGROUP:byte_1285A ; s
		call	sub_894C
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	dx, word ptr off_14066+2
		mov	ax, word ptr off_14066
		mov	[bp+var_E], dx
		mov	[bp+var_10], ax
		mov	dx, word ptr dword_13A62+2
		mov	ax, word ptr dword_13A62
		mov	[bp+var_12], dx
		mov	[bp+var_14], ax
		mov	[bp+var_1E], 0
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr off_14066+2, dx
		mov	word ptr off_14066, ax
		mov	word ptr dword_13A62+2,	ds
		mov	word ptr dword_13A62, 475Ah
		mov	byte_1285A, 0
		push	si
		push	74B7h
		push	ss
		lea	ax, [bp+var_1E]
		push	ax
		push	ss
		lea	ax, [bp+var_18]
		push	ax
		push	ss
		lea	ax, [bp+var_1C]
		push	ax
		call	sub_6DDC
		mov	ax, word_13A5E
		or	ax, word_13A60
		jz	short loc_7282
		push	0
		push	0
		push	[bp+var_1E]
		push	[bp+var_16]
		push	[bp+var_18]
		push	[bp+var_1A]
		push	[bp+var_1C]
		call	sub_666B
		push	ds
		push	offset DGROUP:byte_1285A ; src
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; dest
		call	_strcpy
		add	sp, 8
		jmp	short loc_728C
; ---------------------------------------------------------------------------

loc_7282:
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		mov	byte ptr es:[bx], 0

loc_728C:
		push	word ptr [bp+block+2]
		push	word ptr [bp+block] ; src
		push	ds
		push	offset DGROUP:byte_1385A ; dest
		call	_strcpy
		add	sp, 8
		push	[bp+var_A]
		push	[bp+var_C]	; src
		push	ds
		push	offset DGROUP:byte_1285A ; dest
		call	_strcpy
		add	sp, 8
		mov	dx, [bp+var_E]
		mov	ax, [bp+var_10]
		mov	word ptr off_14066+2, dx
		mov	word ptr off_14066, ax
		mov	dx, [bp+var_12]
		mov	ax, [bp+var_14]
		mov	word ptr dword_13A62+2,	dx
		mov	word ptr dword_13A62, ax
		push	word ptr [bp+block+2]
		push	word ptr [bp+block] ; block
		call	_farfree
		add	sp, 4
		push	[bp+var_A]
		push	[bp+var_C]	; block
		call	_farfree
		add	sp, 4

loc_72DE:
		pop	si
		leave
		retn	4
sub_71A4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_72E3	proc near

var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  4

		enter	10h, 0
		cmp	[bp+arg_0], 0
		jnz	short loc_72F0
		jmp	loc_7390
; ---------------------------------------------------------------------------

loc_72F0:
		mov	word ptr [bp+var_8+2], ds
		mov	word ptr [bp+var_8], 5B66h
		push	ds
		push	offset DGROUP:byte_13C66 ; s
		call	_strlen
		add	sp, 4
		add	ax, 5B66h
		mov	[bp+var_E], ds
		mov	[bp+var_10], ax
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 575Ah
		jmp	short loc_7383
; ---------------------------------------------------------------------------

loc_7315:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		cbw
		push	ax
		call	sub_743F
		les	bx, [bp+var_8]
		inc	word ptr [bp+var_8]
		mov	al, es:[bx]
		les	bx, [bp+var_4]
		cmp	al, es:[bx]
		jz	short loc_7339
		mov	word ptr [bp+var_8+2], ds
		mov	word ptr [bp+var_8], 5B66h

loc_7339:
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		cmp	dx, [bp+var_E]
		jnz	short loc_7380
		cmp	ax, [bp+var_10]
		jnz	short loc_7380
		jmp	short loc_7351
; ---------------------------------------------------------------------------

loc_734B:
		call	sub_7484
		dec	word ptr [bp+var_8]

loc_7351:
		mov	ax, ds
		cmp	word ptr [bp+var_8+2], ax
		jnz	short loc_734B
		cmp	word ptr [bp+var_8], 5B66h
		jnz	short loc_734B
		mov	word ptr [bp+var_C+2], ds
		mov	word ptr [bp+var_C], 5D66h
		jmp	short loc_7377
; ---------------------------------------------------------------------------

loc_7369:
		les	bx, [bp+var_C]
		mov	al, es:[bx]
		cbw
		push	ax
		call	sub_743F
		inc	word ptr [bp+var_C]

loc_7377:
		les	bx, [bp+var_C]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_7369

loc_7380:
		inc	word ptr [bp+var_4]

loc_7383:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_7315
		leave
		retn	2
; ---------------------------------------------------------------------------

loc_7390:
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 575Ah
		jmp	short loc_73A8
; ---------------------------------------------------------------------------

loc_739A:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		cbw
		push	ax
		call	sub_743F
		inc	word ptr [bp+var_4]

loc_73A8:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_739A
		leave
		retn	2
sub_72E3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_73B5	proc near

var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  4

		enter	6, 0
		push	si
		mov	si, [bp+arg_0]
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 575Ah

loc_73C5:
		call	si
		mov	[bp+var_6], ax
		cmp	[bp+var_6], 20h	; ' '
		jz	short loc_73C5

loc_73D0:
		cmp	[bp+var_6], 0FFFFh
		jnz	short loc_73E7
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		push	0
		call	sub_72E3
		mov	ax, 0FFFFh
		jmp	short loc_743A
; ---------------------------------------------------------------------------

loc_73E7:
		cmp	[bp+var_6], 29h	; ')'
		jz	short loc_7406
		cmp	[bp+var_6], 0Ah
		jz	short loc_7406
		les	bx, [bp+var_4]
		mov	al, byte ptr [bp+var_6]
		mov	es:[bx], al
		inc	word ptr [bp+var_4]
		call	si
		mov	[bp+var_6], ax
		jmp	short loc_73D0
; ---------------------------------------------------------------------------

loc_7406:
		dec	word ptr [bp+var_4]
		cmp	word ptr [bp+var_4], 575Ah
		jb	short loc_7419
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_7406

loc_7419:
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		push	ds
		push	offset DGROUP:byte_1385A
		call	sub_2A47
		or	ax, ax
		jz	short loc_7432
		push	31h ; '1'
		jmp	short loc_7434
; ---------------------------------------------------------------------------

loc_7432:
		push	30h ; '0'

loc_7434:
		call	sub_743F
		mov	ax, 29h	; ')'

loc_743A:
		pop	si
		leave
		retn	2
sub_73B5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_743F	proc near

arg_0		= byte ptr  4

		push	bp
		mov	bp, sp
		cmp	word ptr dword_13A62, 575Ah
		jnb	short loc_745A
		les	bx, dword_13A62
		mov	al, [bp+arg_0]
		mov	es:[bx], al
		inc	word ptr dword_13A62
		jmp	short loc_7478
; ---------------------------------------------------------------------------

loc_745A:
		mov	ax, ds
		cmp	word ptr dword_13A62+2,	ax
		jnz	short loc_7478
		cmp	word ptr dword_13A62, 575Ah
		jnz	short loc_7478
		push	word_13A5C
		push	word_13A5A
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 4

loc_7478:
		les	bx, dword_13A62
		mov	byte ptr es:[bx], 0
		pop	bp
		retn	2
sub_743F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_7484	proc near

var_1		= byte ptr -1

		enter	2, 0
		cmp	word ptr dword_13A62, 475Ah
		jbe	short loc_74A5
		dec	word ptr dword_13A62
		les	bx, dword_13A62
		mov	al, es:[bx]
		mov	[bp+var_1], al
		mov	byte ptr es:[bx], 0
		cbw
		leave
		retn
; ---------------------------------------------------------------------------

loc_74A5:
		push	word_13A5C
		push	word_13A5A
		call	sub_8D8E
		add	sp, 4
		xor	ax, ax
		leave
		retn
sub_7484	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_74B7	proc near
		push	bp
		mov	bp, sp
		les	bx, off_14066
		mov	dl, es:[bx]
		or	dl, dl
		jz	short loc_74CE
		inc	word ptr off_14066
		mov	al, dl
		cbw
		pop	bp
		retn
; ---------------------------------------------------------------------------

loc_74CE:
		mov	ax, 0FFFFh
		pop	bp
		retn
sub_74B7	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_74D3	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		les	bx, off_14066
		cmp	byte ptr es:[bx], 0
		jnz	short loc_74E6
		cmp	[bp+arg_0], 0FFFFh
		jz	short loc_74EA

loc_74E6:
		dec	word ptr off_14066

loc_74EA:
		pop	bp
		retn	2
sub_74D3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_74EE	proc near

var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
@@s		= dword	ptr -0Eh
var_A		= word ptr -0Ah
var_8		= dword	ptr -8
block		= dword	ptr -4

		enter	18h, 0
		push	si
		mov	dx, word ptr dword_13A62+2
		mov	ax, word ptr dword_13A62
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		mov	word_13A5C, ds
		mov	word_13A5A, 76Bh
		jmp	short loc_7575
; ---------------------------------------------------------------------------

loc_750C:
		cmp	si, 24h	; '$'
		jnz	short loc_7571
		call	sub_1D9C
		mov	si, ax
		cmp	si, 28h	; '('
		jz	short loc_752C
		cmp	si, 7Bh	; '{'
		jz	short loc_752C
		test	byte ptr [si+1D69h], 0Ch
		jz	short loc_7561
		cmp	si, 64h	; 'd'
		jz	short loc_7561

loc_752C:
		push	si
		push	1D9Ch
		push	ss
		lea	ax, [bp+var_10]
		push	ax
		push	ss
		lea	ax, [bp+var_14]
		push	ax
		push	ss
		lea	ax, [bp+var_18]
		push	ax
		call	sub_6DDC
		mov	si, ax
		cmp	si, 0FFFFh
		jz	short loc_7591
		push	0
		push	0
		push	[bp+var_10]
		push	[bp+var_12]
		push	[bp+var_14]
		push	[bp+var_16]
		push	[bp+var_18]
		call	sub_666B
		jmp	short loc_7575
; ---------------------------------------------------------------------------

loc_7561:
		cmp	si, 24h	; '$'
		jnz	short loc_756A
		push	24h ; '$'
		jmp	short loc_7572
; ---------------------------------------------------------------------------

loc_756A:
		push	24h ; '$'
		call	sub_743F
		jmp	short loc_757A
; ---------------------------------------------------------------------------

loc_7571:
		push	si

loc_7572:
		call	sub_743F

loc_7575:
		call	sub_1D9C
		mov	si, ax

loc_757A:
		cmp	si, 3Ch	; '<'
		jz	short loc_7591
		cmp	si, 20h	; ' '
		jz	short loc_7591
		cmp	si, 0FFFFh
		jz	short loc_7591
		cmp	si, 0Ah
		jz	short loc_7591
		jmp	loc_750C
; ---------------------------------------------------------------------------

loc_7591:
		push	si
		call	sub_1C97
		les	bx, [bp+@@s]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_75B3
		cmp	byte ptr es:[bx], 9
		jz	short loc_75B3
		cmp	byte ptr es:[bx], 0Ah
		jz	short loc_75B3
		cmp	byte ptr es:[bx], 0
		jz	short loc_75B3
		jmp	loc_7635
; ---------------------------------------------------------------------------

loc_75B3:
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	_strlen
		add	sp, 4
		inc	ax
		push	ax		; size
		call	_malloc
		pop	cx
		mov	word ptr [bp+block+2], dx
		mov	word ptr [bp+block], ax
		or	ax, word ptr [bp+block+2]
		jnz	short loc_75DA
		push	ds
		push	offset aNotEnoughMemor ; "Not enough memory"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 4

loc_75DA:
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; src
		push	word ptr [bp+block+2]
		push	word ptr [bp+block] ; dest
		call	_strcpy
		add	sp, 8
		mov	dx, word ptr [bp+block+2]
		mov	ax, word ptr [bp+block]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		mov	dx, word ptr [bp+@@s+2]
		mov	ax, word ptr [bp+@@s]
		mov	word ptr dword_13A62+2,	dx
		mov	word ptr dword_13A62, ax
		call	sub_550A
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		jmp	short loc_761E
; ---------------------------------------------------------------------------

loc_7610:
		les	bx, [bp+var_8]
		inc	word ptr [bp+var_8]
		mov	al, es:[bx]
		cbw
		push	ax
		call	sub_743F

loc_761E:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_7610
		push	word ptr [bp+block+2]
		push	word ptr [bp+block] ; block
		call	_farfree
		add	sp, 4
		jmp	short loc_7687
; ---------------------------------------------------------------------------

loc_7635:
		mov	dx, word ptr [bp+@@s+2]
		mov	ax, word ptr [bp+@@s]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		jmp	short loc_7646
; ---------------------------------------------------------------------------

loc_7643:
		inc	word ptr [bp+var_8]

loc_7646:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_7661
		cmp	byte ptr es:[bx], 9
		jz	short loc_7661
		cmp	byte ptr es:[bx], 0Ah
		jz	short loc_7661
		cmp	byte ptr es:[bx], 0
		jnz	short loc_7643

loc_7661:
		les	bx, [bp+var_8]
		mov	al, es:[bx]
		cbw
		mov	[bp+var_A], ax
		mov	byte ptr es:[bx], 0
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	sub_894C
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		les	bx, [bp+var_8]
		mov	al, byte ptr [bp+var_A]
		mov	es:[bx], al

loc_7687:
		mov	dx, word ptr [bp+@@s+2]
		mov	ax, word ptr [bp+@@s]
		pop	si
		leave
		retn
sub_74EE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_7690	proc near

var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
@@s		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8

		enter	14h, 0
		push	si
		push	di
		xor	di, di
		mov	dx, word ptr off_14066+2
		mov	ax, word ptr off_14066
		mov	[bp+var_E], dx
		mov	[bp+var_10], ax
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr off_14066+2, dx
		mov	word ptr off_14066, ax
		push	1000h		; size
		call	_malloc
		pop	cx
		mov	word ptr [bp+@@s+2], dx
		mov	word ptr [bp+@@s], ax
		or	ax, word ptr [bp+@@s+2]
		jnz	short loc_76CE
		push	ds
		push	offset aNotEnoughMemor ; "Not enough memory"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 4

loc_76CE:
		push	ds
		push	offset DGROUP:byte_1410B ; __int32
		push	ds
		push	offset DGROUP:byte_140FD ; __int32
		push	ds
		push	offset DGROUP:byte_140B2 ; __int32
		push	ds
		push	offset DGROUP:byte_1406D ; __int32
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src
		call	sub_90B3
		add	sp, 14h
		mov	dx, word ptr dword_13A62+2
		mov	ax, word ptr dword_13A62
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	dx, word ptr [bp+@@s+2]
		mov	ax, word ptr [bp+@@s]
		mov	word ptr dword_13A62+2,	dx
		mov	word ptr dword_13A62, ax
		jmp	loc_7860
; ---------------------------------------------------------------------------

loc_770B:
		cmp	[bp+var_2], 24h	; '$'
		jz	short loc_7714
		jmp	loc_7852
; ---------------------------------------------------------------------------

loc_7714:
		call	sub_74B7
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 28h	; '('
		jz	short loc_7729
		cmp	[bp+var_2], 7Bh	; '{'
		jz	short loc_7729
		jmp	loc_780B
; ---------------------------------------------------------------------------

loc_7729:
		mov	ax, [bp+var_2]
		mov	[bp+var_14], ax
		call	sub_74B7
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 40h	; '@'
		jz	short loc_773E
		jmp	loc_77F3
; ---------------------------------------------------------------------------

loc_773E:
		call	sub_74B7
		mov	[bp+var_2], ax
		mov	[bp+var_12], ax
		mov	cx, 4		; switch 4 cases
		mov	bx, offset word_78C1

loc_774D:
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_12]
		jz	short loc_775C
		add	bx, 2
		loop	loc_774D
		jmp	short loc_7774	; default
; ---------------------------------------------------------------------------

loc_775C:
		jmp	word ptr cs:[bx+8] ; switch jump

loc_7760:
		or	di, 3		; jumptable 0000775C case 68
		jmp	short loc_779D
; ---------------------------------------------------------------------------

loc_7765:

		or	di, 0Ch		; jumptable 0000775C case 70
		jmp	short loc_779D
; ---------------------------------------------------------------------------

loc_776A:

		or	di, 4		; jumptable 0000775C case 66
		jmp	short loc_779D
; ---------------------------------------------------------------------------

loc_776F:

		or	di, 7		; jumptable 0000775C case 82
		jmp	short loc_779D
; ---------------------------------------------------------------------------

loc_7774:
		les	bx, dword_13A62	; default
		mov	byte ptr es:[bx], 24h ;	'$'
		inc	word ptr dword_13A62
		les	bx, dword_13A62
		mov	al, byte ptr [bp+var_14]
		mov	es:[bx], al
		inc	word ptr dword_13A62
		les	bx, dword_13A62
		mov	byte ptr es:[bx], 40h ;	'@'

loc_7796:
		inc	word ptr dword_13A62
		jmp	loc_7866
; ---------------------------------------------------------------------------

loc_779D:
		push	1
		push	di
		call	sub_6467
		push	ds
		push	offset DGROUP:byte_1385A ; s
		call	_strlen
		add	sp, 4
		mov	[bp+var_4], ax
		cmp	[bp+var_2], 44h	; 'D'
		jnz	short loc_77D2
		cmp	word_F50E, 0
		jz	short loc_77D2
		dec	[bp+var_4]
		mov	bx, [bp+var_4]
		cmp	byte ptr [bx+575Ah], 5Ch ; '\'
		jnz	short loc_77D2
		mov	bx, [bp+var_4]
		mov	byte ptr [bx+575Ah], 0

loc_77D2:
		xor	si, si
		jmp	short loc_77E6
; ---------------------------------------------------------------------------

loc_77D6:
		mov	al, [si+575Ah]
		les	bx, dword_13A62
		mov	es:[bx], al
		inc	word ptr dword_13A62
		inc	si

loc_77E6:
		cmp	si, [bp+var_4]
		jl	short loc_77D6
		call	sub_74B7
		mov	[bp+var_2], ax
		jmp	short loc_7860
; ---------------------------------------------------------------------------

loc_77F3:
		les	bx, dword_13A62
		mov	byte ptr es:[bx], 24h ;	'$'
		inc	word ptr dword_13A62
		les	bx, dword_13A62
		mov	al, byte ptr [bp+var_14]
		mov	es:[bx], al
		jmp	short loc_7796
; ---------------------------------------------------------------------------

loc_780B:
		cmp	[bp+var_2], 40h	; '@'
		jnz	short loc_7846
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s
		call	_strlen
		add	sp, 4
		mov	[bp+var_4], ax
		xor	si, si
		jmp	short loc_783F
; ---------------------------------------------------------------------------

loc_7828:
		les	bx, [bp+arg_4]
		les	bx, es:[bx]
		add	bx, si
		mov	al, es:[bx]
		les	bx, dword_13A62
		mov	es:[bx], al
		inc	word ptr dword_13A62
		inc	si

loc_783F:
		cmp	si, [bp+var_4]
		jl	short loc_7828
		jmp	short loc_7860
; ---------------------------------------------------------------------------

loc_7846:
		les	bx, dword_13A62
		mov	byte ptr es:[bx], 24h ;	'$'
		inc	word ptr dword_13A62

loc_7852:
		les	bx, dword_13A62
		mov	al, byte ptr [bp+var_2]
		mov	es:[bx], al
		inc	word ptr dword_13A62

loc_7860:
		call	sub_74B7
		mov	[bp+var_2], ax

loc_7866:
		cmp	[bp+var_2], 0FFFFh
		jz	short loc_786F
		jmp	loc_770B
; ---------------------------------------------------------------------------

loc_786F:
		les	bx, dword_13A62
		mov	byte ptr es:[bx], 0
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	sub_894C
		mov	[bp+arg_2], dx
		mov	[bp+arg_0], ax
		mov	ax, word ptr [bp+@@s]
		or	ax, word ptr [bp+@@s+2]
		jz	short loc_789A
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; block
		call	_farfree
		add	sp, 4

loc_789A:
		mov	dx, [bp+var_A]
		mov	ax, [bp+var_C]
		mov	word ptr dword_13A62+2,	dx
		mov	word ptr dword_13A62, ax
		mov	dx, [bp+var_E]
		mov	ax, [bp+var_10]
		mov	word ptr off_14066+2, dx
		mov	word ptr off_14066, ax
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		pop	di
		pop	si
		leave
		retn	8
sub_7690	endp

; ---------------------------------------------------------------------------
		db 0
word_78C1	dw    42h,   44h,   46h,   52h
					; value	table for switch statement
		dw offset loc_776A	; jump table for switch	statement
		dw offset loc_7760
		dw offset loc_7765
		dw offset loc_776F

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_78D1	proc near

var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	0Ah, 0
		push	si
		mov	word ptr dword_13A62+2,	ds
		mov	word ptr dword_13A62, 475Ah
		les	bx, dword_13A62
		mov	byte ptr es:[bx], 0
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr off_14066+2, dx
		mov	word ptr off_14066, ax
		jmp	short loc_794F
; ---------------------------------------------------------------------------

loc_78F7:
		cmp	si, 24h	; '$'
		jnz	short loc_794B
		call	sub_74B7
		mov	si, ax
		cmp	si, 28h	; '('
		jz	short loc_790B
		cmp	si, 7Bh	; '{'
		jnz	short loc_7944

loc_790B:
		push	si
		push	74B7h
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		push	ss
		lea	ax, [bp+var_6]
		push	ax
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		call	sub_6DDC
		mov	si, ax
		mov	ax, word_13A5E
		or	ax, word_13A60
		jz	short loc_794F
		push	1
		push	0
		push	[bp+var_2]
		push	[bp+var_4]
		push	[bp+var_6]
		push	[bp+var_8]
		push	[bp+var_A]
		call	sub_666B
		jmp	short loc_794F
; ---------------------------------------------------------------------------

loc_7944:
		push	24h ; '$'
		call	sub_743F
		jmp	short loc_7954
; ---------------------------------------------------------------------------

loc_794B:
		push	si
		call	sub_743F

loc_794F:
		call	sub_74B7
		mov	si, ax

loc_7954:
		cmp	si, 0FFFFh
		jnz	short loc_78F7
		mov	dx, ds
		mov	ax, 475Ah
		pop	si
		leave
		retn	4
sub_78D1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_7963	proc near

var_C		= byte ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	0Ch, 0
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr dword_14124+2,	dx
		mov	word ptr dword_14124, ax
		push	ss
		lea	ax, [bp+var_C]
		push	ax
		push	0
		call	sub_7C4E
		cmp	word_1413E, 0
		jle	short loc_798F
		push	ds
		push	offset aExpressionSynt ; "Expression syntax error in !if statemen"...
		call	sub_8D8E
		add	sp, 4

loc_798F:
		cmp	word_1413E, 0
		jg	short loc_799D
		cmp	word_14130, 0
		jz	short loc_79A3

loc_799D:
		xor	ax, ax
		leave
		retn	4
; ---------------------------------------------------------------------------

loc_79A3:
		mov	ax, [bp+var_A]
		or	ax, [bp+var_8]
		jz	short loc_79B0
		mov	ax, 1
		jmp	short locret_79B2
; ---------------------------------------------------------------------------

loc_79B0:
		xor	ax, ax

locret_79B2:
		leave
		retn	4
sub_7963	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_79B6	proc near

var_E		= byte ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	0Eh, 0
		mov	ax, word_1413E
		mov	[bp+var_2], ax
		mov	cx, 5		; switch 5 cases
		mov	bx, offset word_7A87

loc_79C6:
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_2]
		jz	short loc_79D6
		add	bx, 2
		loop	loc_79C6
		jmp	loc_7A5C	; default
; ---------------------------------------------------------------------------

loc_79D6:
		jmp	word ptr cs:[bx+0Ah] ; switch jump

loc_79DA:
		call	sub_813C	; jumptable 000079D6 case 2
		push	ss
		lea	ax, [bp+var_E]
		push	ax
		call	sub_79B6
		mov	dx, [bp+var_A]
		mov	ax, [bp+var_C]
		neg	dx
		neg	ax
		sbb	dx, 0
		jmp	short loc_7A0F
; ---------------------------------------------------------------------------

loc_79F4:

		call	sub_813C	; jumptable 000079D6 case 22
		push	ss
		lea	ax, [bp+var_E]
		push	ax
		call	sub_79B6
		mov	ax, [bp+var_C]
		or	ax, [bp+var_A]
		jnz	short loc_7A0C
		mov	ax, 1
		jmp	short loc_7A0E
; ---------------------------------------------------------------------------

loc_7A0C:
		xor	ax, ax

loc_7A0E:
		cwd

loc_7A0F:
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		jmp	short loc_7A6C
; ---------------------------------------------------------------------------

loc_7A17:

		call	sub_813C	; jumptable 000079D6 case 23
		push	ss
		lea	ax, [bp+var_E]
		push	ax
		call	sub_79B6
		mov	dx, [bp+var_A]
		mov	ax, [bp+var_C]
		not	ax
		not	dx
		jmp	short loc_7A0F
; ---------------------------------------------------------------------------

loc_7A2E:

		push	ss		; jumptable 000079D6 case 24
		lea	ax, [bp+var_E]
		push	ax
		push	0
		call	sub_7C4E
		cmp	word_14130, 0
		jnz	short loc_7A6C
		cmp	word_1413E, 19h
		jz	short loc_7A57
		jmp	short loc_7A5C	; default
; ---------------------------------------------------------------------------

loc_7A48:

		lea	ax, [bp+var_E]	; jumptable 000079D6 case 21
		push	ss
		push	ax
		push	ds
		push	offset DGROUP:word_14132
		mov	cx, 0Ch
		call	N_SCOPY@

loc_7A57:
		call	sub_813C
		jmp	short loc_7A6C
; ---------------------------------------------------------------------------

loc_7A5C:
		push	ds		; default
		push	offset aExpressionSynt ; "Expression syntax error in !if statemen"...
		call	sub_8D8E
		add	sp, 4
		mov	word_14130, 1

loc_7A6C:
		push	[bp+arg_2]
		push	[bp+arg_0]
		lea	ax, [bp+var_E]
		push	ss
		push	ax
		mov	cx, 0Ch
		call	N_SCOPY@
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		leave
		retn	4
sub_79B6	endp

; ---------------------------------------------------------------------------
word_7A87	dw	2,   15h,   16h,   17h
		dw    18h		; value	table for switch statement
		dw offset loc_79DA	; jump table for switch	statement
		dw offset loc_7A48
		dw offset loc_79F4
		dw offset loc_7A17
		dw offset loc_7A2E

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_7A9B	proc near

var_2		= byte ptr -2
var_1		= byte ptr -1
arg_0		= word ptr  4
arg_2		= dword	ptr  6
arg_6		= dword	ptr  0Ah

		enter	2, 0
		les	bx, [bp+arg_6]
		les	ax, es:[bx+6]
		push	es
		mov	es, word ptr [bp+arg_6+2]
		add	ax, es:[bx+0Ah]
		mov	bx, ax
		pop	es
		mov	al, es:[bx]
		mov	[bp+var_1], al
		les	bx, [bp+arg_2]
		les	ax, es:[bx+6]
		push	es
		mov	es, word ptr [bp+arg_2+2]
		add	ax, es:[bx+0Ah]
		mov	bx, ax
		pop	es
		mov	al, es:[bx]
		mov	[bp+var_2], al
		les	bx, [bp+arg_6]
		les	ax, es:[bx+6]
		push	es
		mov	es, word ptr [bp+arg_6+2]
		add	ax, es:[bx+0Ah]
		mov	bx, ax
		pop	es
		mov	byte ptr es:[bx], 0
		les	bx, [bp+arg_2]
		les	ax, es:[bx+6]
		push	es
		mov	es, word ptr [bp+arg_2+2]
		add	ax, es:[bx+0Ah]
		mov	bx, ax
		pop	es
		mov	byte ptr es:[bx], 0
		les	bx, [bp+arg_2]
		cmp	word ptr es:[bx], 1
		jz	short loc_7B0E
		push	ds
		push	offset aIntAndStringTy ; "Int and string types compared"
		call	sub_8D8E
		add	sp, 4

loc_7B0E:
		mov	bx, [bp+arg_0]
		sub	bx, 0Dh
		cmp	bx, 5
		jbe	short loc_7B1C
		jmp	loc_7C0D
; ---------------------------------------------------------------------------

loc_7B1C:
		add	bx, bx
		jmp	cs:off_7C42[bx]

loc_7B23:
		les	bx, [bp+arg_2]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6] ; s2
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6] ; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jz	short loc_7B46
		jmp	loc_7BFA
; ---------------------------------------------------------------------------

loc_7B46:
		jmp	loc_7BF5
; ---------------------------------------------------------------------------

loc_7B49:

		les	bx, [bp+arg_2]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6] ; s2
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6] ; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_7B6C
		jmp	loc_7BFA
; ---------------------------------------------------------------------------

loc_7B6C:
		jmp	loc_7BF5
; ---------------------------------------------------------------------------

loc_7B6F:

		les	bx, [bp+arg_2]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6] ; s2
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6] ; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jge	short loc_7BFA
		jmp	short loc_7BF5
; ---------------------------------------------------------------------------

loc_7B91:

		les	bx, [bp+arg_2]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6] ; s2
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6] ; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jle	short loc_7BFA
		jmp	short loc_7BF5
; ---------------------------------------------------------------------------

loc_7BB3:

		les	bx, [bp+arg_2]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6] ; s2
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6] ; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jle	short loc_7BFA
		jmp	short loc_7BF5
; ---------------------------------------------------------------------------

loc_7BD5:

		les	bx, [bp+arg_2]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6] ; s2
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6] ; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jle	short loc_7BFA

loc_7BF5:
		mov	ax, 1
		jmp	short loc_7BFC
; ---------------------------------------------------------------------------

loc_7BFA:
		xor	ax, ax

loc_7BFC:
		cwd
		les	bx, [bp+arg_6]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	word ptr es:[bx], 0

loc_7C0D:
		les	bx, [bp+arg_6]
		les	ax, es:[bx+6]
		push	es
		mov	es, word ptr [bp+arg_6+2]
		add	ax, es:[bx+0Ah]
		mov	dl, [bp+var_1]
		mov	bx, ax
		pop	es
		mov	es:[bx], dl
		les	bx, [bp+arg_2]
		les	ax, es:[bx+6]
		push	es
		mov	es, word ptr [bp+arg_2+2]
		add	ax, es:[bx+0Ah]
		mov	dl, [bp+var_2]
		mov	bx, ax
		pop	es
		mov	es:[bx], dl
		leave
		retn	0Ah
sub_7A9B	endp

; ---------------------------------------------------------------------------
		db  0
off_7C42	dw offset loc_7B23
		dw offset loc_7B49
		dw offset loc_7B6F
		dw offset loc_7B91
		dw offset loc_7BD5
		dw offset loc_7BB3

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_7C4E	proc near

var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	1Ch, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		mov	[bp+var_10], 0
		call	sub_813C
		cmp	word_14130, 0
		jz	short loc_7C73
		mov	[bp+var_C], 0
		mov	[bp+var_E], 0
		jmp	loc_80F7
; ---------------------------------------------------------------------------

loc_7C73:
		push	ss
		lea	ax, [bp+var_10]
		push	ax
		call	sub_79B6
		cmp	word_14130, 0
		jz	short loc_7C8F
		mov	[bp+var_C], 0
		mov	[bp+var_E], 0
		jmp	loc_80F7
; ---------------------------------------------------------------------------

loc_7C8F:
		mov	al, [si+0BF1h]
		cbw
		mov	[bp+var_2], ax

loc_7C97:
		cmp	word_1413E, 14h
		jle	short loc_7CA1
		jmp	loc_80F7
; ---------------------------------------------------------------------------

loc_7CA1:
		cmp	word_1413E, 0
		jg	short loc_7CAB
		jmp	loc_80F7
; ---------------------------------------------------------------------------

loc_7CAB:
		mov	bx, word_1413E
		mov	al, [bx+0BDCh]
		cbw
		mov	di, ax
		mov	ax, word_1413E
		mov	[bp+var_4], ax
		or	di, di
		jnz	short loc_7CC3
		jmp	loc_80F7
; ---------------------------------------------------------------------------

loc_7CC3:
		cmp	si, di
		jle	short loc_7CCA
		jmp	loc_80F7
; ---------------------------------------------------------------------------

loc_7CCA:
		cmp	si, di
		jnz	short loc_7CD7
		cmp	[bp+var_2], 1
		jnz	short loc_7CD7
		jmp	loc_80F7
; ---------------------------------------------------------------------------

loc_7CD7:
		push	ss
		lea	ax, [bp+var_1C]
		push	ax
		push	di
		call	sub_7C4E
		cmp	word_14130, 0
		jz	short loc_7CF4
		mov	[bp+var_C], 0
		mov	[bp+var_E], 0
		jmp	loc_80F7
; ---------------------------------------------------------------------------

loc_7CF4:
		mov	bx, [bp+var_4]
		dec	bx
		cmp	bx, 13h
		ja	short loc_7C97
		add	bx, bx
		jmp	cs:off_8114[bx]

loc_7D04:
		cmp	[bp+var_10], 0
		jnz	short loc_7D10
		cmp	[bp+var_1C], 0
		jz	short loc_7D1A

loc_7D10:
		push	ds
		push	offset aStringTypeNotA ; "String type not allowed with this opera"...
		call	sub_8D8E
		add	sp, 4

loc_7D1A:
		mov	dx, [bp+var_18]
		mov	ax, [bp+var_1A]
		add	[bp+var_E], ax
		adc	[bp+var_C], dx
		jmp	loc_7C97
; ---------------------------------------------------------------------------

loc_7D29:

		cmp	[bp+var_10], 0
		jnz	short loc_7D35
		cmp	[bp+var_1C], 0
		jz	short loc_7D3F

loc_7D35:
		push	ds
		push	offset aStringTypeNotA ; "String type not allowed with this opera"...
		call	sub_8D8E
		add	sp, 4

loc_7D3F:
		mov	dx, [bp+var_18]
		mov	ax, [bp+var_1A]
		sub	[bp+var_E], ax
		sbb	[bp+var_C], dx
		jmp	loc_7C97
; ---------------------------------------------------------------------------

loc_7D4E:

		cmp	[bp+var_10], 0
		jnz	short loc_7D5A
		cmp	[bp+var_1C], 0
		jz	short loc_7D64

loc_7D5A:
		push	ds
		push	offset aStringTypeNotA ; "String type not allowed with this opera"...
		call	sub_8D8E
		add	sp, 4

loc_7D64:
		mov	cx, [bp+var_18]
		mov	bx, [bp+var_1A]
		mov	dx, [bp+var_C]
		mov	ax, [bp+var_E]
		call	N_LXMUL@
		jmp	loc_80EE
; ---------------------------------------------------------------------------

loc_7D76:

		cmp	[bp+var_10], 0
		jnz	short loc_7D82
		cmp	[bp+var_1C], 0
		jz	short loc_7D8C

loc_7D82:
		push	ds
		push	offset aStringTypeNotA ; "String type not allowed with this opera"...
		call	sub_8D8E
		add	sp, 4

loc_7D8C:
		mov	dx, [bp+var_18]
		mov	ax, [bp+var_1A]
		and	[bp+var_E], ax
		and	[bp+var_C], dx
		jmp	loc_7C97
; ---------------------------------------------------------------------------

loc_7D9B:

		cmp	[bp+var_10], 0
		jnz	short loc_7DA7
		cmp	[bp+var_1C], 0
		jz	short loc_7DB1

loc_7DA7:
		push	ds
		push	offset aStringTypeNotA ; "String type not allowed with this opera"...
		call	sub_8D8E
		add	sp, 4

loc_7DB1:
		mov	dx, [bp+var_18]
		mov	ax, [bp+var_1A]
		or	[bp+var_E], ax
		or	[bp+var_C], dx
		jmp	loc_7C97
; ---------------------------------------------------------------------------

loc_7DC0:

		cmp	[bp+var_10], 0
		jnz	short loc_7DCC
		cmp	[bp+var_1C], 0
		jz	short loc_7DD6

loc_7DCC:
		push	ds
		push	offset aStringTypeNotA ; "String type not allowed with this opera"...
		call	sub_8D8E
		add	sp, 4

loc_7DD6:
		mov	dx, [bp+var_18]
		mov	ax, [bp+var_1A]
		xor	[bp+var_E], ax
		xor	[bp+var_C], dx
		jmp	loc_7C97
; ---------------------------------------------------------------------------

loc_7DE5:

		cmp	[bp+var_10], 0
		jnz	short loc_7E0A
		cmp	[bp+var_1C], 0
		jnz	short loc_7E0A
		mov	dx, [bp+var_C]
		mov	ax, [bp+var_E]
		cmp	dx, [bp+var_18]
		jz	short loc_7DFF
		jmp	loc_8006
; ---------------------------------------------------------------------------

loc_7DFF:
		cmp	ax, [bp+var_1A]
		jz	short loc_7E07
		jmp	loc_8006
; ---------------------------------------------------------------------------

loc_7E07:
		jmp	loc_8001
; ---------------------------------------------------------------------------

loc_7E0A:
		cmp	[bp+var_10], 1
		jz	short loc_7E13
		jmp	loc_7C97
; ---------------------------------------------------------------------------

loc_7E13:
		push	ss
		lea	ax, [bp+var_10]
		push	ax
		push	ss
		lea	ax, [bp+var_1C]
		push	ax
		push	0Dh
		jmp	loc_7F63
; ---------------------------------------------------------------------------

loc_7E22:

		cmp	[bp+var_10], 0
		jnz	short loc_7E47
		cmp	[bp+var_1C], 0
		jnz	short loc_7E47
		mov	dx, [bp+var_C]
		mov	ax, [bp+var_E]
		cmp	dx, [bp+var_18]
		jz	short loc_7E3C
		jmp	loc_8001
; ---------------------------------------------------------------------------

loc_7E3C:
		cmp	ax, [bp+var_1A]
		jnz	short loc_7E44
		jmp	loc_8006
; ---------------------------------------------------------------------------

loc_7E44:
		jmp	loc_8001
; ---------------------------------------------------------------------------

loc_7E47:
		cmp	[bp+var_10], 1
		jz	short loc_7E50
		jmp	loc_7C97
; ---------------------------------------------------------------------------

loc_7E50:
		push	ss
		lea	ax, [bp+var_10]
		push	ax
		push	ss
		lea	ax, [bp+var_1C]
		push	ax
		push	0Eh
		jmp	loc_7F63
; ---------------------------------------------------------------------------

loc_7E5F:

		cmp	[bp+var_10], 0
		jnz	short loc_7E89
		cmp	[bp+var_1C], 0
		jnz	short loc_7E89
		mov	dx, [bp+var_C]
		mov	ax, [bp+var_E]
		cmp	dx, [bp+var_18]
		jge	short loc_7E79
		jmp	loc_8006
; ---------------------------------------------------------------------------

loc_7E79:
		jle	short loc_7E7E
		jmp	loc_8001
; ---------------------------------------------------------------------------

loc_7E7E:
		cmp	ax, [bp+var_1A]
		ja	short loc_7E86
		jmp	loc_8006
; ---------------------------------------------------------------------------

loc_7E86:
		jmp	loc_8001
; ---------------------------------------------------------------------------

loc_7E89:
		cmp	[bp+var_10], 1
		jz	short loc_7E92
		jmp	loc_7C97
; ---------------------------------------------------------------------------

loc_7E92:
		push	ss
		lea	ax, [bp+var_10]
		push	ax
		push	ss
		lea	ax, [bp+var_1C]
		push	ax
		push	10h
		jmp	loc_7F63
; ---------------------------------------------------------------------------

loc_7EA1:

		cmp	[bp+var_10], 0
		jnz	short loc_7ECB
		cmp	[bp+var_1C], 0
		jnz	short loc_7ECB
		mov	dx, [bp+var_C]
		mov	ax, [bp+var_E]
		cmp	dx, [bp+var_18]
		jle	short loc_7EBB
		jmp	loc_8006
; ---------------------------------------------------------------------------

loc_7EBB:
		jge	short loc_7EC0
		jmp	loc_8001
; ---------------------------------------------------------------------------

loc_7EC0:
		cmp	ax, [bp+var_1A]
		jb	short loc_7EC8
		jmp	loc_8006
; ---------------------------------------------------------------------------

loc_7EC8:
		jmp	loc_8001
; ---------------------------------------------------------------------------

loc_7ECB:
		cmp	[bp+var_10], 1
		jz	short loc_7ED4
		jmp	loc_7C97
; ---------------------------------------------------------------------------

loc_7ED4:
		push	ss
		lea	ax, [bp+var_10]
		push	ax
		push	ss
		lea	ax, [bp+var_1C]
		push	ax
		push	0Fh
		jmp	loc_7F63
; ---------------------------------------------------------------------------

loc_7EE3:

		cmp	[bp+var_10], 0
		jnz	short loc_7F0D
		cmp	[bp+var_1C], 0
		jnz	short loc_7F0D
		mov	dx, [bp+var_C]
		mov	ax, [bp+var_E]
		cmp	dx, [bp+var_18]
		jge	short loc_7EFD
		jmp	loc_8006
; ---------------------------------------------------------------------------

loc_7EFD:
		jz	short loc_7F02
		jmp	loc_8001
; ---------------------------------------------------------------------------

loc_7F02:
		cmp	ax, [bp+var_1A]
		jnb	short loc_7F0A
		jmp	loc_8006
; ---------------------------------------------------------------------------

loc_7F0A:
		jmp	loc_8001
; ---------------------------------------------------------------------------

loc_7F0D:
		cmp	[bp+var_10], 1
		jz	short loc_7F16
		jmp	loc_7C97
; ---------------------------------------------------------------------------

loc_7F16:
		push	ss
		lea	ax, [bp+var_10]
		push	ax
		push	ss
		lea	ax, [bp+var_1C]
		push	ax
		push	12h
		jmp	short loc_7F63
; ---------------------------------------------------------------------------

loc_7F24:

		cmp	[bp+var_10], 0
		jnz	short loc_7F4E
		cmp	[bp+var_1C], 0
		jnz	short loc_7F4E
		mov	dx, [bp+var_C]
		mov	ax, [bp+var_E]
		cmp	dx, [bp+var_18]
		jle	short loc_7F3E
		jmp	loc_8006
; ---------------------------------------------------------------------------

loc_7F3E:
		jz	short loc_7F43
		jmp	loc_8001
; ---------------------------------------------------------------------------

loc_7F43:
		cmp	ax, [bp+var_1A]
		jbe	short loc_7F4B
		jmp	loc_8006
; ---------------------------------------------------------------------------

loc_7F4B:
		jmp	loc_8001
; ---------------------------------------------------------------------------

loc_7F4E:
		cmp	[bp+var_10], 1
		jz	short loc_7F57
		jmp	loc_7C97
; ---------------------------------------------------------------------------

loc_7F57:
		push	ss
		lea	ax, [bp+var_10]
		push	ax
		push	ss
		lea	ax, [bp+var_1C]
		push	ax
		push	11h

loc_7F63:
		call	sub_7A9B
		jmp	loc_7C97
; ---------------------------------------------------------------------------

loc_7F69:

		cmp	[bp+var_10], 0
		jnz	short loc_7F75
		cmp	[bp+var_1C], 0
		jz	short loc_7F7F

loc_7F75:
		push	ds
		push	offset aStringTypeNotA ; "String type not allowed with this opera"...
		call	sub_8D8E
		add	sp, 4

loc_7F7F:
		mov	cl, byte ptr [bp+var_1A]
		mov	dx, [bp+var_C]
		mov	ax, [bp+var_E]
		call	near ptr N_LXLSH@
		jmp	loc_80EE
; ---------------------------------------------------------------------------

loc_7F8E:

		cmp	[bp+var_10], 0
		jnz	short loc_7F9A
		cmp	[bp+var_1C], 0
		jz	short loc_7FA4

loc_7F9A:
		push	ds
		push	offset aStringTypeNotA ; "String type not allowed with this opera"...
		call	sub_8D8E
		add	sp, 4

loc_7FA4:
		mov	cl, byte ptr [bp+var_1A]
		mov	dx, [bp+var_C]
		mov	ax, [bp+var_E]
		call	near ptr N_LXRSH@
		jmp	loc_80EE
; ---------------------------------------------------------------------------

loc_7FB3:

		cmp	[bp+var_10], 0
		jnz	short loc_7FBF
		cmp	[bp+var_1C], 0
		jz	short loc_7FC9

loc_7FBF:
		push	ds
		push	offset aStringTypeNotA ; "String type not allowed with this opera"...
		call	sub_8D8E
		add	sp, 4

loc_7FC9:
		mov	ax, [bp+var_E]
		or	ax, [bp+var_C]
		jz	short loc_8006
		mov	ax, [bp+var_1A]
		or	ax, [bp+var_18]
		jz	short loc_8006
		jmp	short loc_8001
; ---------------------------------------------------------------------------

loc_7FDB:

		cmp	[bp+var_10], 0
		jnz	short loc_7FE7
		cmp	[bp+var_1C], 0
		jz	short loc_7FF1

loc_7FE7:
		push	ds
		push	offset aStringTypeNotA ; "String type not allowed with this opera"...
		call	sub_8D8E
		add	sp, 4

loc_7FF1:
		mov	ax, [bp+var_E]
		or	ax, [bp+var_C]
		jnz	short loc_8001
		mov	ax, [bp+var_1A]
		or	ax, [bp+var_18]
		jz	short loc_8006

loc_8001:
		mov	ax, 1
		jmp	short loc_8008
; ---------------------------------------------------------------------------

loc_8006:
		xor	ax, ax

loc_8008:
		cwd
		jmp	loc_80EE
; ---------------------------------------------------------------------------

loc_800C:

		cmp	[bp+var_10], 0
		jnz	short loc_8018
		cmp	[bp+var_1C], 0
		jz	short loc_8022

loc_8018:
		push	ds
		push	offset aStringTypeNotA ; "String type not allowed with this opera"...
		call	sub_8D8E
		add	sp, 4

loc_8022:
		mov	dx, [bp+var_C]
		mov	ax, [bp+var_E]
		mov	word_1412A, dx
		mov	word_14128, ax
		mov	dx, [bp+var_18]
		mov	ax, [bp+var_1A]
		mov	word_1412E, dx
		mov	word_1412C, ax
		jmp	loc_7C97
; ---------------------------------------------------------------------------

loc_803F:

		cmp	[bp+var_10], 0
		jnz	short loc_804B
		cmp	[bp+var_1C], 0
		jz	short loc_8055

loc_804B:
		push	ds
		push	offset aStringTypeNotA ; "String type not allowed with this opera"...
		call	sub_8D8E
		add	sp, 4

loc_8055:
		mov	ax, [bp+var_E]
		or	ax, [bp+var_C]
		jz	short loc_806D
		mov	dx, word_1412A
		mov	ax, word_14128
		mov	[bp+var_C], dx
		mov	[bp+var_E], ax
		jmp	loc_7C97
; ---------------------------------------------------------------------------

loc_806D:
		mov	dx, word_1412E
		mov	ax, word_1412C
		mov	[bp+var_C], dx
		mov	[bp+var_E], ax
		jmp	loc_7C97
; ---------------------------------------------------------------------------

loc_807D:

		cmp	[bp+var_10], 0
		jnz	short loc_8089
		cmp	[bp+var_1C], 0
		jz	short loc_8093

loc_8089:
		push	ds
		push	offset aStringTypeNotA ; "String type not allowed with this opera"...
		call	sub_8D8E
		add	sp, 4

loc_8093:
		mov	ax, [bp+var_1A]
		or	ax, [bp+var_18]
		jnz	short loc_809D
		jmp	short loc_80CC
; ---------------------------------------------------------------------------

loc_809D:
		push	[bp+var_18]
		push	[bp+var_1A]
		push	[bp+var_C]
		push	[bp+var_E]
		call	near ptr N_LDIV@
		jmp	short loc_80EE
; ---------------------------------------------------------------------------

loc_80AE:

		cmp	[bp+var_10], 0
		jnz	short loc_80BA
		cmp	[bp+var_1C], 0
		jz	short loc_80C4

loc_80BA:
		push	ds
		push	offset aStringTypeNotA ; "String type not allowed with this opera"...
		call	sub_8D8E
		add	sp, 4

loc_80C4:
		mov	ax, [bp+var_1A]
		or	ax, [bp+var_18]
		jnz	short loc_80DF

loc_80CC:
		push	ds
		push	offset aDivisionByZero ; "Division by zero"
		call	sub_8D8E
		add	sp, 4
		mov	word_14130, 1
		jmp	loc_7C97
; ---------------------------------------------------------------------------

loc_80DF:
		push	[bp+var_18]
		push	[bp+var_1A]
		push	[bp+var_C]
		push	[bp+var_E]
		call	near ptr N_LMOD@

loc_80EE:
		mov	[bp+var_C], dx
		mov	[bp+var_E], ax
		jmp	loc_7C97
; ---------------------------------------------------------------------------

loc_80F7:
		push	[bp+arg_4]
		push	[bp+arg_2]
		lea	ax, [bp+var_10]
		push	ss
		push	ax
		mov	cx, 0Ch
		call	N_SCOPY@
		mov	dx, [bp+arg_4]
		mov	ax, [bp+arg_2]
		pop	di
		pop	si
		leave
		retn	6
sub_7C4E	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
off_8114	dw offset loc_7D04
		dw offset loc_7D29
		dw offset loc_7D4E
		dw offset loc_807D
		dw offset loc_80AE
		dw offset loc_7D76
		dw offset loc_7D9B
		dw offset loc_7DC0
		dw offset loc_7F69
		dw offset loc_7F8E
		dw offset loc_803F
		dw offset loc_800C
		dw offset loc_7DE5
		dw offset loc_7E22
		dw offset loc_7EA1
		dw offset loc_7E5F
		dw offset loc_7F24
		dw offset loc_7EE3
		dw offset loc_7FB3
		dw offset loc_7FDB

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_813C	proc near
		push	bp
		mov	bp, sp
		push	si
		push	di

loc_8141:

		les	bx, dword_14124
		mov	al, es:[bx]
		cbw
		mov	si, ax
		inc	word ptr dword_14124
		or	si, si
		jnz	short loc_815C
		mov	word_1413E, 0
		jmp	loc_82AB
; ---------------------------------------------------------------------------

loc_815C:
		mov	bx, si
		add	bx, bx
		mov	di, [bx+0ADCh]
		mov	bx, di
		sub	bx, 0FFECh
		cmp	bx, 0Dh
		ja	short loc_8175
		add	bx, bx
		jmp	cs:off_82B0[bx]

loc_8175:

		mov	word_1413E, di
		jmp	loc_82AB
; ---------------------------------------------------------------------------

loc_817C:

		les	bx, dword_14124
		mov	al, es:[bx]
		cbw
		mov	si, ax
		inc	word ptr dword_14124
		cmp	si, 3Dh	; '='
		jnz	short loc_8198
		mov	word_1413E, 0Dh
		jmp	loc_82AB
; ---------------------------------------------------------------------------

loc_8198:

		push	32h ; '2'
		jmp	short loc_81E1
; ---------------------------------------------------------------------------

loc_819C:

		push	si
		push	ds
		push	offset aIllegalCharact ; "Illegal character in constant	expressio"...
		call	sub_8D8E
		add	sp, 6
		mov	word_14130, 1
		mov	word_1413E, 0FFFFh
		jmp	loc_82AB
; ---------------------------------------------------------------------------

loc_81B6:

		les	bx, dword_14124
		mov	al, es:[bx]
		cbw
		mov	si, ax
		inc	word ptr dword_14124
		cmp	si, 3Dh	; '='
		jnz	short loc_81D2
		mov	word_1413E, 0Eh
		jmp	loc_82AB
; ---------------------------------------------------------------------------

loc_81D2:
		dec	word ptr dword_14124
		mov	word_1413E, 16h
		jmp	loc_82AB
; ---------------------------------------------------------------------------

loc_81DF:

		push	0

loc_81E1:
		call	sub_82CC

loc_81E4:
		mov	word_1413E, ax
		jmp	loc_82AB
; ---------------------------------------------------------------------------

loc_81EA:

		call	sub_8385
		jmp	short loc_81E4
; ---------------------------------------------------------------------------

loc_81EF:

		call	sub_84C6
		jmp	short loc_81E4
; ---------------------------------------------------------------------------

loc_81F4:

		les	bx, dword_14124
		mov	al, es:[bx]
		cbw
		mov	si, ax
		inc	word ptr dword_14124
		cmp	si, 3Ch	; '<'
		jnz	short loc_8210
		mov	word_1413E, 9
		jmp	loc_82AB
; ---------------------------------------------------------------------------

loc_8210:
		cmp	si, 3Dh	; '='
		jnz	short loc_821E
		mov	word_1413E, 11h
		jmp	loc_82AB
; ---------------------------------------------------------------------------

loc_821E:
		dec	word ptr dword_14124
		mov	word_1413E, 0Fh
		jmp	loc_82AB
; ---------------------------------------------------------------------------

loc_822B:

		les	bx, dword_14124
		mov	al, es:[bx]
		cbw
		mov	si, ax
		inc	word ptr dword_14124
		cmp	si, 26h	; '&'
		jnz	short loc_8246
		mov	word_1413E, 13h
		jmp	short loc_82AB
; ---------------------------------------------------------------------------

loc_8246:
		dec	word ptr dword_14124
		mov	word_1413E, 6
		jmp	short loc_82AB
; ---------------------------------------------------------------------------

loc_8252:

		les	bx, dword_14124
		mov	al, es:[bx]
		cbw
		mov	si, ax
		inc	word ptr dword_14124
		cmp	si, 7Ch	; '|'
		jnz	short loc_826D
		mov	word_1413E, 14h
		jmp	short loc_82AB
; ---------------------------------------------------------------------------

loc_826D:
		dec	word ptr dword_14124
		mov	word_1413E, 7
		jmp	short loc_82AB
; ---------------------------------------------------------------------------

loc_8279:

		les	bx, dword_14124
		mov	al, es:[bx]
		cbw
		mov	si, ax
		inc	word ptr dword_14124
		cmp	si, 3Eh	; '>'
		jnz	short loc_8294
		mov	word_1413E, 0Ah
		jmp	short loc_82AB
; ---------------------------------------------------------------------------

loc_8294:
		cmp	si, 3Dh	; '='
		jnz	short loc_82A1
		mov	word_1413E, 12h
		jmp	short loc_82AB
; ---------------------------------------------------------------------------

loc_82A1:
		dec	word ptr dword_14124
		mov	word_1413E, 10h

loc_82AB:
		pop	di
		pop	si
		pop	bp
		retn
sub_813C	endp

; ---------------------------------------------------------------------------
		db  0
off_82B0	dw offset loc_81B6
		dw offset loc_8279
		dw offset loc_817C
		dw offset loc_81F4
		dw offset loc_8175
		dw offset loc_8175
		dw offset loc_81EF
		dw offset loc_81DF
		dw offset loc_822B
		dw offset loc_81EA
		dw offset loc_8252
		dw offset loc_8141
		dw offset loc_819C
		dw offset loc_8198

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_82CC	proc near

var_4		= dword	ptr -4
arg_0		= word ptr  4

		enter	4, 0
		push	si
		mov	si, 1
		mov	dx, word ptr dword_14124+2
		mov	ax, word ptr dword_14124
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		cmp	[bp+arg_0], 32h	; '2'
		jnz	short loc_831E
		jmp	short loc_82ED
; ---------------------------------------------------------------------------

loc_82E9:
		inc	word ptr [bp+var_4]
		inc	si

loc_82ED:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_8305
		mov	al, es:[bx]
		cbw
		add	ax, ax
		mov	bx, ax
		cmp	word ptr [bx+0ADCh], 0FFF9h
		jnz	short loc_82E9

loc_8305:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_8318
		push	ds
		push	offset aNoClosingQuote ; "No closing quote"
		call	sub_8D8E
		add	sp, 4

loc_8318:
		inc	word ptr [bp+var_4]
		inc	si
		jmp	short loc_834B
; ---------------------------------------------------------------------------

loc_831E:
		mov	si, 1
		jmp	short loc_8327
; ---------------------------------------------------------------------------

loc_8323:
		inc	word ptr [bp+var_4]
		inc	si

loc_8327:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		cbw
		add	ax, ax
		mov	bx, ax
		cmp	word ptr [bx+0ADCh], 0FFF3h
		jz	short loc_8323
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		cbw
		add	ax, ax
		mov	bx, ax
		cmp	word ptr [bx+0ADCh], 0FFF5h
		jz	short loc_8323

loc_834B:
		mov	dx, word ptr dword_14124+2
		mov	ax, word ptr dword_14124
		dec	ax
		mov	word_1413A, dx
		mov	word_14138, ax
		mov	word_1413C, si
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr dword_14124+2,	dx
		mov	word ptr dword_14124, ax
		mov	word_14132, 1
		mov	word_14136, 0
		mov	word_14134, 0
		mov	ax, 15h
		pop	si
		leave
		retn	2
sub_82CC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_8385	proc near

var_6		= dword	ptr -6
var_2		= word ptr -2

		enter	6, 0
		push	si
		dec	word ptr dword_14124
		les	bx, dword_14124
		cmp	byte ptr es:[bx], 30h ;	'0'
		jnz	short loc_83BA
		inc	word ptr dword_14124
		les	bx, dword_14124
		cmp	byte ptr es:[bx], 78h ;	'x'
		jz	short loc_83AC
		cmp	byte ptr es:[bx], 58h ;	'X'
		jnz	short loc_83B5

loc_83AC:
		inc	word ptr dword_14124
		mov	si, 10h
		jmp	short loc_83BD
; ---------------------------------------------------------------------------

loc_83B5:
		mov	si, 8
		jmp	short loc_83BD
; ---------------------------------------------------------------------------

loc_83BA:
		mov	si, 0Ah

loc_83BD:
		mov	dx, word ptr dword_14124+2
		mov	ax, word ptr dword_14124
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		jmp	short loc_8426
; ---------------------------------------------------------------------------

loc_83CC:
		les	bx, dword_14124
		mov	al, es:[bx]
		cbw
		push	ax
		call	_tolower
		pop	cx
		mov	[bp+var_2], ax
		les	bx, dword_14124
		mov	al, es:[bx]
		cbw
		add	ax, ax
		mov	bx, ax
		cmp	word ptr [bx+0ADCh], 0FFF5h
		jz	short loc_8422
		cmp	si, 10h
		jnz	short loc_840C
		cmp	[bp+var_2], 61h	; 'a'
		jl	short loc_840C
		cmp	[bp+var_2], 66h	; 'f'
		jg	short loc_840C
		les	bx, dword_14124
		mov	al, byte ptr [bp+var_2]
		mov	es:[bx], al
		jmp	short loc_8422
; ---------------------------------------------------------------------------

loc_840C:
		cmp	[bp+var_2], 6Ch	; 'l'
		jnz	short loc_8430
		les	bx, dword_14124
		mov	al, byte ptr [bp+var_2]
		mov	es:[bx], al
		inc	word ptr dword_14124
		jmp	short loc_8430
; ---------------------------------------------------------------------------

loc_8422:
		inc	word ptr dword_14124

loc_8426:
		les	bx, dword_14124
		cmp	byte ptr es:[bx], 0
		jnz	short loc_83CC

loc_8430:
		mov	word_14136, 0
		mov	word_14134, 0
		jmp	short loc_84B1
; ---------------------------------------------------------------------------

loc_843E:
		les	bx, [bp+var_6]
		cmp	byte ptr es:[bx], 6Ch ;	'l'
		jz	short loc_84BA
		cmp	si, 8
		jnz	short loc_8467
		les	bx, [bp+var_6]
		cmp	byte ptr es:[bx], 37h ;	'7'
		jle	short loc_8467
		push	ds
		push	offset aIllegalOctalDi ; "Illegal octal	digit"
		call	sub_8D8E
		add	sp, 4
		mov	word_14130, 1
		jmp	short loc_84BA
; ---------------------------------------------------------------------------

loc_8467:
		les	bx, [bp+var_6]
		cmp	byte ptr es:[bx], 61h ;	'a'
		jl	short loc_8477
		mov	al, es:[bx]
		add	al, 0A9h ; '©'
		jmp	short loc_847F
; ---------------------------------------------------------------------------

loc_8477:
		les	bx, [bp+var_6]
		mov	al, es:[bx]
		add	al, 0D0h ; '–'

loc_847F:
		les	bx, [bp+var_6]
		mov	es:[bx], al
		mov	ax, si
		cwd
		push	ax
		push	dx
		mov	dx, word_14136
		mov	ax, word_14134
		pop	cx
		pop	bx
		call	N_LXMUL@
		les	bx, [bp+var_6]
		push	ax
		mov	al, es:[bx]
		cbw
		push	dx
		cwd
		pop	bx
		pop	cx
		add	cx, ax
		adc	bx, dx
		mov	word_14136, bx
		mov	word_14134, cx
		inc	word ptr [bp+var_6]

loc_84B1:
		mov	ax, word ptr [bp+var_6]
		cmp	ax, word ptr dword_14124
		jb	short loc_843E

loc_84BA:
		mov	word_14132, 0
		mov	ax, 15h
		pop	si
		leave
		retn
sub_8385	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_84C6	proc near

var_4		= word ptr -4
var_2		= word ptr -2

		enter	4, 0
		push	si
		mov	[bp+var_4], 0
		xor	si, si
		jmp	short loc_84E0
; ---------------------------------------------------------------------------

loc_84D4:
		cmp	si, 2
		jge	short loc_84DF
		mov	al, byte ptr [bp+var_2]
		mov	byte ptr [bp+si+var_4],	al

loc_84DF:
		inc	si

loc_84E0:
		push	27h ; '''
		call	sub_8513
		mov	[bp+var_2], ax
		cmp	ax, 0FFFFh
		jnz	short loc_84D4
		cmp	si, 2
		jl	short loc_84FC
		push	ds
		push	offset aCharacterConst ; "Character constant too long"
		call	sub_8D8E
		add	sp, 4

loc_84FC:
		mov	ax, [bp+var_4]
		cwd
		mov	word_14136, dx
		mov	word_14134, ax
		mov	word_14132, 0
		mov	ax, 15h
		pop	si
		leave
		retn
sub_84C6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_8513	proc near

var_2		= word ptr -2
arg_0		= word ptr  4

		enter	2, 0
		push	si
		les	bx, dword_14124
		mov	al, es:[bx]
		cbw
		mov	dx, ax
		inc	word ptr dword_14124
		cmp	dx, 0FFFFh
		jnz	short loc_852D
		jmp	short loc_854F
; ---------------------------------------------------------------------------

loc_852D:
		cmp	dx, [bp+arg_0]
		jnz	short loc_8534
		jmp	short loc_854F
; ---------------------------------------------------------------------------

loc_8534:
		cmp	dx, 5Ch	; '\'
		jz	short loc_853C
		jmp	loc_85F4
; ---------------------------------------------------------------------------

loc_853C:
		les	bx, dword_14124
		mov	al, es:[bx]
		cbw
		mov	dx, ax
		inc	word ptr dword_14124
		cmp	dx, 0FFFFh
		jnz	short loc_8555

loc_854F:
		mov	ax, 0FFFFh
		jmp	loc_85F6
; ---------------------------------------------------------------------------

loc_8555:
		mov	[bp+var_2], dx
		mov	cx, 5		; switch 5 cases
		mov	bx, offset byte_85FB

loc_855E:
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_2]
		jz	short loc_856D
		add	bx, 2
		loop	loc_855E
		jmp	short loc_858B	; default
; ---------------------------------------------------------------------------

loc_856D:
		jmp	word ptr cs:[bx+0Ah] ; switch jump
; ---------------------------------------------------------------------------
		mov	ax, 9
		jmp	loc_85F6
; ---------------------------------------------------------------------------
		mov	ax, 0Ah
		jmp	short loc_85F6
; ---------------------------------------------------------------------------
		mov	ax, 8
		jmp	short loc_85F6
; ---------------------------------------------------------------------------
		mov	ax, 0Dh
		jmp	short loc_85F6
; ---------------------------------------------------------------------------
		mov	ax, 0Ch
		jmp	short loc_85F6
; ---------------------------------------------------------------------------

loc_858B:
		cmp	dx, 30h	; '0'   ; default
		jl	short loc_85F4
		cmp	dx, 37h	; '7'
		jg	short loc_85F4
		mov	ax, dx
		add	ax, 0FFD0h
		mov	si, ax
		les	bx, dword_14124
		mov	al, es:[bx]
		cbw
		mov	dx, ax
		inc	word ptr dword_14124
		cmp	dx, 30h	; '0'
		jl	short loc_85B4
		cmp	dx, 37h	; '7'
		jle	short loc_85BA

loc_85B4:
		dec	word ptr dword_14124
		jmp	short loc_85F0
; ---------------------------------------------------------------------------

loc_85BA:
		mov	ax, si
		shl	ax, 3
		add	ax, dx
		add	ax, 0FFD0h
		mov	si, ax
		les	bx, dword_14124
		mov	al, es:[bx]
		cbw
		mov	dx, ax
		inc	word ptr dword_14124
		cmp	dx, 30h	; '0'
		jl	short loc_85DE
		cmp	dx, 37h	; '7'
		jle	short loc_85E4

loc_85DE:
		dec	word ptr dword_14124
		jmp	short loc_85F0
; ---------------------------------------------------------------------------

loc_85E4:
		mov	ax, si
		shl	ax, 3
		add	ax, dx
		add	ax, 0FFD0h
		mov	si, ax

loc_85F0:
		mov	ax, si
		jmp	short loc_85F6
; ---------------------------------------------------------------------------

loc_85F4:
		mov	ax, dx

loc_85F6:
		pop	si
		leave
		retn	2
sub_8513	endp

; ---------------------------------------------------------------------------
byte_85FB	db 62h,	0, 66h,	0, 6Eh,	0, 72h,	0, 74h,	0, 7Ch,	85h, 86h

		db 85h,	77h, 85h, 81h, 85h, 71h, 85h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_860F	proc near

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= dword	ptr -2
arg_0		= dword	ptr  4
arg_4		= word ptr  8

		enter	8, 0
		push	si
		mov	si, [bp+arg_4]
		dec	si
		add	word ptr [bp+arg_0], 4
		mov	[bp+var_4], si
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		jmp	short loc_8673
; ---------------------------------------------------------------------------

loc_862D:
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		cmp	byte ptr es:[bx], 2Dh ;	'-'
		jz	short loc_8645
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		cmp	byte ptr es:[bx], 2Fh ;	'/'
		jnz	short loc_866E

loc_8645:
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		cmp	byte ptr es:[bx+1], 65h	; 'e'
		jnz	short loc_866E
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]
		inc	ax
		push	word ptr es:[bx+2]
		push	ax		; s
		push	word ptr es:[bx+6] ; int
		push	word ptr es:[bx+4] ; int
		push	ss
		lea	ax, [bp+var_2]
		push	ax		; __int32
		call	sub_8842

loc_866E:
		add	word ptr [bp+arg_0], 4
		dec	si

loc_8673:
		or	si, si
		jg	short loc_862D
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		mov	si, [bp+var_4]
		jmp	short loc_86F7
; ---------------------------------------------------------------------------

loc_8688:
		mov	word ptr [bp+var_2], 0
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		cmp	byte ptr es:[bx], 2Dh ;	'-'
		jz	short loc_86A5
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		cmp	byte ptr es:[bx], 2Fh ;	'/'
		jnz	short loc_86DB

loc_86A5:
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		cmp	byte ptr es:[bx+1], 0
		jz	short loc_86F2
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]
		inc	ax
		push	word ptr es:[bx+2]
		push	ax		; s
		push	word ptr es:[bx+6] ; int
		push	word ptr es:[bx+4] ; int
		push	ss
		lea	ax, [bp+var_2]
		push	ax		; __int32
		call	sub_8842
		cmp	word ptr [bp+var_2], 0
		jz	short loc_86F2
		add	word ptr [bp+arg_0], 4
		dec	si
		jmp	short loc_86F2
; ---------------------------------------------------------------------------

loc_86DB:
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		call	sub_8767
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		mov	byte ptr es:[bx], 2Dh ;	'-'

loc_86F2:
		add	word ptr [bp+arg_0], 4
		dec	si

loc_86F7:
		or	si, si
		jle	short loc_870F
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		call	sub_8731
		or	ax, ax
		jnz	short loc_870F
		jmp	loc_8688
; ---------------------------------------------------------------------------

loc_870F:
		cmp	word_F50E, 0
		jz	short loc_871C
		mov	flag_keep, 1

loc_871C:
		mov	word_F500, 1
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		pop	si
		leave
		retn	6
sub_860F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_8731	proc near

arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 2Dh ;	'-'
		jz	short loc_8751
		cmp	byte ptr es:[bx], 2Fh ;	'/'
		jnz	short loc_8757
		jmp	short loc_8751
; ---------------------------------------------------------------------------

loc_8745:
		les	bx, [bp+arg_0]
		inc	word ptr [bp+arg_0]
		cmp	byte ptr es:[bx], 3Dh ;	'='
		jnz	short loc_8757

loc_8751:
		xor	ax, ax
		pop	bp
		retn	4
; ---------------------------------------------------------------------------

loc_8757:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_8745
		mov	ax, 1
		pop	bp
		retn	4
sub_8731	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_8767	proc near

@@src		= dword	ptr -0Ch
var_8		= dword	ptr -8
@@name		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	0Ch, 0
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+@@name+2], dx
		mov	word ptr [bp+@@name], ax
		jmp	short loc_877C
; ---------------------------------------------------------------------------

loc_8779:
		inc	word ptr [bp+@@name]

loc_877C:
		les	bx, [bp+@@name]
		cmp	byte ptr es:[bx], 20h ;	' '
		jnz	short loc_878B
		cmp	byte ptr es:[bx], 0
		jnz	short loc_8779

loc_878B:
		les	bx, [bp+@@name]
		cmp	byte ptr es:[bx], 3Dh ;	'='
		jnz	short loc_87A2
		push	ds
		push	offset aNoMacroBefore ;	"No macro before ="
		call	sub_8D8E
		add	sp, 4
		leave
		retn	4
; ---------------------------------------------------------------------------

loc_87A2:
		mov	dx, word ptr [bp+@@name+2]
		mov	ax, word ptr [bp+@@name]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		jmp	short loc_87B3
; ---------------------------------------------------------------------------

loc_87B0:
		inc	word ptr [bp+var_8]

loc_87B3:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 3Dh ;	'='
		jnz	short loc_87B0
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		inc	ax
		mov	word ptr [bp+@@src+2], dx
		mov	word ptr [bp+@@src], ax

loc_87C9:
		dec	word ptr [bp+var_8]
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_87C9
		inc	word ptr [bp+var_8]
		les	bx, [bp+var_8]
		mov	byte ptr es:[bx], 0
		les	bx, [bp+@@src]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_87F4
		push	word ptr [bp+@@name+2]
		push	word ptr [bp+@@name]
		push	ds
		push	offset unk_F5E2
		jmp	short loc_880E
; ---------------------------------------------------------------------------

loc_87F4:
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		push	ds
		push	offset DGROUP:byte_1285A ; dest
		call	_strcpy
		add	sp, 8
		push	word ptr [bp+@@name+2]
		push	word ptr [bp+@@name] ; name
		push	ds
		push	offset DGROUP:byte_1285A ; s1

loc_880E:
		call	sub_27B4
		leave
		retn	4
sub_8767	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		les	bx, [bp+4]
		mov	al, es:[bx]
		les	bx, [bp+8]
		cmp	al, es:[bx]
		jge	short loc_882B
		mov	ax, 0FFFFh
		pop	bp
		retn
; ---------------------------------------------------------------------------

loc_882B:
		les	bx, [bp+4]
		mov	al, es:[bx]
		les	bx, [bp+8]
		cmp	al, es:[bx]
		jle	short loc_883E
		mov	ax, 1
		pop	bp
		retn
; ---------------------------------------------------------------------------

loc_883E:
		xor	ax, ax
		pop	bp
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_8842(__int32, int, int, void *s)
sub_8842	proc near

var_4		= dword	ptr -4
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
@@s		= dword	ptr  0Ch

		enter	4, 0
		push	8815h		; fcmp
		push	8		; width
		push	1Ah		; nelem
		push	ds
		push	offset unk_F512	; base
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; key
		call	_bsearch
		add	sp, 0Eh
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_888E
		mov	ax, word ptr [bp+@@s]
		dec	ax
		push	word ptr [bp+@@s+2]
		push	ax
		push	ds
		push	offset aIncorrectComma ; "Incorrect command line argument: %s"
		call	sub_8E0F
		add	sp, 8
		push	ds
		push	offset unk_F5E4
		call	sub_8E0F
		add	sp, 4
		mov	word_F4E0, 1
		leave
		retn	0Ch
; ---------------------------------------------------------------------------

loc_888E:
		les	bx, [bp+var_4]
		mov	ax, es:[bx+2]
		or	ax, ax
		jz	short loc_88A7
		cmp	ax, 1
		jz	short loc_88C6
		cmp	ax, 3
		jz	short loc_88E5
		leave
		retn	0Ch
; ---------------------------------------------------------------------------

loc_88A7:
		les	bx, [bp+@@s]
		cmp	byte ptr es:[bx+1], 2Dh	; '-'
		jz	short loc_88B6
		mov	ax, 1
		jmp	short loc_88B8
; ---------------------------------------------------------------------------

loc_88B6:
		xor	ax, ax

loc_88B8:
		les	bx, [bp+var_4]
		les	bx, es:[bx+4]
		mov	es:[bx], ax
		leave
		retn	0Ch
; ---------------------------------------------------------------------------

loc_88C6:
		mov	word_14140, 1
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		push	[bp+arg_6]	; int
		push	[bp+arg_4]	; int
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0] ; __int32
		call	sub_2228
		leave
		retn	0Ch
; ---------------------------------------------------------------------------

loc_88E5:
		call	sub_8B04
sub_8842	endp

; ---------------------------------------------------------------------------
		push	0
		call	sub_8E01
; ---------------------------------------------------------------------------
		db 0C9h	; …
		db 0C2h	; ¬
		db  0Ch
		db    0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_88F1(int, void *key)
sub_88F1	proc near

var_4		= dword	ptr -4
arg_0		= word ptr  4
key		= dword	ptr  6

		enter	4, 0
		push	8815h		; fcmp
		push	8		; width
		push	1Ah		; nelem
		push	ds
		push	offset unk_F512	; base
		push	word ptr [bp+key+2]
		push	word ptr [bp+key] ; key
		call	_bsearch
		add	sp, 0Eh
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_892E

loc_8917:
		push	word ptr [bp+key+2]
		push	word ptr [bp+key]
		push	ds
		push	offset aIllegalInvalid ; "Illegal/invalid option in CMDSWITCHES	d"...
		call	sub_8D8E
		add	sp, 8
		mov	ax, 1
		leave
		retn	6
; ---------------------------------------------------------------------------

loc_892E:
		les	bx, [bp+var_4]
		mov	ax, es:[bx+2]
		or	ax, ax
		jnz	short loc_8917
		les	bx, [bp+var_4]
		les	bx, es:[bx+4]
		mov	ax, [bp+arg_0]
		mov	es:[bx], ax
		xor	ax, ax
		leave
		retn	6
sub_88F1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_894C(char *s)
sub_894C	proc near

var_4		= word ptr -4
var_2		= word ptr -2
@@s		= dword	ptr  4

		enter	4, 0
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; s
		call	_strlen
		add	sp, 4
		inc	ax
		push	ax		; size
		call	sub_5296
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		push	word ptr [bp+@@s+2]
		push	word ptr [bp+@@s]	; src
		push	dx
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		leave
		retn	4
sub_894C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_897F(char *s1, int handle)
sub_897F	proc near

@@maxlen		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
@@s1		= dword	ptr  4
@@handle		= word ptr  8

		enter	0Ah, 0
		push	si
		push	di
		mov	di, [bp+@@handle]
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s
		call	_strlen
		add	sp, 4
		inc	ax
		mov	[bp+@@maxlen], ax

loc_8998:
		xor	si, si
		push	1000h		; n
		push	0		; c
		push	ds
		push	offset DGROUP:byte_1285A ; s
		call	_memset
		add	sp, 8
		push	1000h
		push	ds
		push	offset DGROUP:byte_1285A
		push	di
		call	_read
		add	sp, 8
		cwd
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	dx, dx
		jnz	short loc_89CD
		cmp	ax, 1
		jnz	short loc_89CD
		mov	ax, 0FFFFh
		jmp	loc_8AA4
; ---------------------------------------------------------------------------

loc_89CD:
		cmp	[bp+var_2], 0
		ja	short loc_89DD
		jb	short loc_89DB
		cmp	[bp+var_4], 0FFFFh
		jnb	short loc_89DD

loc_89DB:
		jmp	short loc_89F2
; ---------------------------------------------------------------------------

loc_89DD:
		push	225h		; line
		push	ds
		push	offset aConfig_c ; "config.c"
		push	ds
		push	offset aBytesreadUint_ ; "bytesread < UINT_MAX"
		push	ds
		push	offset aAssertionFai_0 ; "Assertion failed: %s,	file %s, line %d\n"...
		call	___assertfail
; ---------------------------------------------------------------------------
		add	sp, 0Eh

loc_89F2:
		mov	ax, [bp+var_4]
		sub	ax, si
		push	ax		; n
		les	bx, [bp+@@s1]
		mov	al, es:[bx]
		cbw
		push	ax		; c
		push	ds
		mov	ax, si
		add	ax, 475Ah
		push	ax		; s
		call	_memchr
		add	sp, 8
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		or	ax, [bp+var_6]
		jz	short loc_8A96
		mov	ax, [bp+var_8]
		xor	dx, dx
		sub	ax, 475Ah
		sbb	dx, 0
		mov	si, ax
		mov	dx, [bp+var_4]
		sub	dx, [bp+@@maxlen]
		cmp	ax, dx
		jbe	short loc_8A42
		push	1		; fromwhere
		mov	ax, [bp+@@maxlen]
		inc	ax
		cwd
		push	dx
		push	ax		; offset
		push	di		; handle
		call	_lseek
		add	sp, 8
		jmp	loc_8998
; ---------------------------------------------------------------------------

loc_8A42:
		push	[bp+@@maxlen]	; maxlen
		push	ds
		mov	ax, si
		add	ax, 475Ah
		push	ax		; s2
		push	word ptr [bp+@@s1+2]
		push	word ptr [bp+@@s1] ; s1
		call	_strncmp
		add	sp, 0Ah
		or	ax, ax
		jnz	short loc_8A95
		push	0		; fromwhere
		push	1		; fromwhere
		push	0
		push	0		; offset
		push	di		; handle
		call	_lseek
		add	sp, 8
		sub	ax, [bp+var_4]
		sbb	dx, 0
		add	ax, si
		adc	dx, 0
		push	ax
		mov	ax, [bp+@@maxlen]
		push	dx
		cwd
		pop	bx
		pop	cx
		add	cx, ax
		adc	bx, dx
		add	cx, 1
		adc	bx, 0
		push	bx
		push	cx		; offset
		push	di		; handle
		call	_lseek
		add	sp, 8
		xor	ax, ax
		jmp	short loc_8AA4
; ---------------------------------------------------------------------------

loc_8A95:
		inc	si

loc_8A96:
		mov	ax, [bp+var_8]
		or	ax, [bp+var_6]
		jz	short loc_8AA1
		jmp	loc_89F2
; ---------------------------------------------------------------------------

loc_8AA1:
		jmp	loc_8998
; ---------------------------------------------------------------------------

loc_8AA4:
		pop	di
		pop	si
		leave
		retn	6
sub_897F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_8AAA	proc near
		push	bp
		mov	bp, sp
		mov	ah, 1
		int	21h		; DOS -	KEYBOARD INPUT
					; Return: AL = character read
		mov	ah, 0
		pop	bp
		retn
sub_8AAA	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_8AB5(int, void *dest)
sub_8AB5	proc near

arg_0		= word ptr  4
@@dest		= dword	ptr  6

		push	bp
		mov	bp, sp
		les	bx, [bp+@@dest]
		mov	al, byte ptr [bp+arg_0]
		mov	es:[bx], al
		mov	ax, ds
		mov	es, ax
		assume es:_DATA
		lds	dx, [bp+@@dest]
		mov	ah, 0Ah
		int	21h		; DOS -	BUFFERED KEYBOARD INPUT
					; DS:DX	-> buffer
		mov	ax, es
		mov	ds, ax
		mov	es, word ptr [bp+@@dest+2]
		assume es:nothing
		mov	al, es:[bx+1]
		cbw
		mov	[bp+arg_0], ax
		push	ax		; n
		mov	ax, word ptr [bp+@@dest]
		add	ax, 2
		push	word ptr [bp+@@dest+2]
		push	ax		; src
		push	word ptr [bp+@@dest+2]
		push	bx		; dest
		call	_memmove
		add	sp, 0Ah
		les	bx, [bp+@@dest]
		add	bx, [bp+arg_0]
		mov	byte ptr es:[bx], 0
		mov	dx, word ptr [bp+@@dest+2]
		mov	ax, word ptr [bp+@@dest]
		pop	bp
		retn	6
sub_8AB5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn bp-based	frame

sub_8B04	proc near

var_5		= byte ptr -5
@@path		= dword	ptr -4

		enter	6, 0
		push	si
		cmp	word_14140, 0
		jz	short loc_8B1A
		push	ds
		push	offset aCannotWriteASt ; "Cannot write a string	option.\n"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 4

loc_8B1A:
		cmp	__version, 3
		jnb	short loc_8B3E
		push	ds
		push	offset aMake_exe ; "MAKE.EXE"
		call	sub_5763
		mov	word ptr [bp+@@path+2], dx
		mov	word ptr [bp+@@path], ax
		or	ax, dx
		jnz	short loc_8B4F
		push	ds
		push	offset aCannotFindMake ; "Cannot find MAKE.EXE\n"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 4
		jmp	short loc_8B4F
; ---------------------------------------------------------------------------

loc_8B3E:
		les	bx, __argv
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+@@path+2], dx
		mov	word ptr [bp+@@path], ax

loc_8B4F:
		push	word ptr [bp+@@path+2]
		push	word ptr [bp+@@path]
		push	ds
		push	offset aWriteOptionsTo ; "\nWrite options to %s? ( Y/N ) [N]:"
		call	sub_8E0F
		add	sp, 8
		call	sub_8AAA
		mov	[bp+var_5], al
		cmp	al, 59h	; 'Y'
		jz	short loc_8BA5
		cmp	[bp+var_5], 79h	; 'y'
		jz	short loc_8BA5
		push	ds
		push	offset aEnterFullPathO ; "\nEnter full path of MAKE.EXE	to modify:"...
		call	sub_8E0F
		add	sp, 4
		push	53h ; 'S'       ; size
		call	sub_5296
		mov	word ptr [bp+@@path+2], dx
		mov	word ptr [bp+@@path], ax
		push	dx
		push	ax		; dest
		push	50h ; 'P'       ; int
		call	sub_8AB5
		push	ds
		push	offset unk_F5E5
		call	sub_8E0F
		add	sp, 4
		les	bx, [bp+@@path]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_8BAF
		push	2		; status
		call	sub_8E01
; ---------------------------------------------------------------------------
		db 0EBh	; Î
		db  0Ah
; ---------------------------------------------------------------------------

loc_8BA5:
		push	ds
		push	offset unk_F5E5
		call	sub_8E0F
		add	sp, 4

loc_8BAF:
		push	8004h		; access
		push	word ptr [bp+@@path+2]
		push	word ptr [bp+@@path] ; path
		call	_open
		add	sp, 6
		mov	si, ax
		cmp	ax, 0FFFFh
		jnz	short loc_8BD5
		push	word ptr [bp+@@path+2]
		push	word ptr [bp+@@path]
		push	ds
		push	offset aUnableToOpenFi ; "Unable to open file %s.\n"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 8

loc_8BD5:
		push	si		; handle
		push	ds
		push	offset a@_0	; "!@#$%^&*()"
		call	sub_897F
		or	ax, ax
		jz	short loc_8BF1
		push	word ptr [bp+@@path+2]
		push	word ptr [bp+@@path]
		push	ds
		push	offset aSNotAMake_ ; "%s not a MAKE.\n"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 8

loc_8BF1:
		push	24h ; '$'
		push	ds
		push	offset flag_autodepend
		push	si
		call	_write
		add	sp, 8
		cmp	ax, 24h	; '$'
		jz	short loc_8C13
		push	word ptr [bp+@@path+2]
		push	word ptr [bp+@@path]
		push	ds
		push	offset aWriteErrorOnFi ; "Write	error on file %s.\n"
		call	sub_8D1A
; ---------------------------------------------------------------------------
		add	sp, 8

loc_8C13:
		push	0		; status
		call	sub_8E01
sub_8B04	endp

; ---------------------------------------------------------------------------
		db  5Eh	; ^
		db 0C9h	; …
		db 0C3h	; √

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_8C1B	proc near

@@s1		= byte ptr -4Eh

		enter	4Eh, 0
		push	si
		push	di
		xor	di, di
		xor	si, si
		jmp	short loc_8C5A
; ---------------------------------------------------------------------------

loc_8C27:
		mov	bx, di
		shl	bx, 3
		cmp	word ptr [bx+1414h], 0
		jnz	short loc_8C59
		mov	bx, di
		shl	bx, 3
		les	bx, [bx+1416h]
		cmp	word ptr es:[bx], 0
		jz	short loc_8C59
		mov	bx, di
		shl	bx, 3
		mov	al, [bx+1412h]
		mov	[bp+si+@@s1], al
		inc	si
		mov	[bp+si+@@s1], 20h	; ' '
		inc	si
		mov	[bp+si+@@s1], 2Dh	; '-'
		inc	si

loc_8C59:
		inc	di

loc_8C5A:
		cmp	di, 1Ah
		jl	short loc_8C27
		or	si, si
		jz	short loc_8C64
		dec	si

loc_8C64:
		mov	[bp+si+@@s1], 0
		push	ds
		push	offset aMakeflags ; "MAKEFLAGS"
		push	ss
		lea	ax, [bp+@@s1]
		push	ax		; s1
		call	sub_27B4
		pop	di
		pop	si
		leave
		retn
sub_8C1B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_8C78	proc near

@@dest		= byte ptr -0A6h
@@src		= dword	ptr -56h
var_14		= dword	ptr -14h
@@s1		= dword	ptr -0Eh
var_4		= dword	ptr -4
arg_0		= dword	ptr  4

		enter	0A6h, 0
		push	ss
		lea	ax, [bp+var_14]
		push	ax		; __int32
		push	ss
		lea	ax, [bp+@@s1]
		push	ax		; __int32
		push	ss
		lea	ax, [bp+@@src]
		push	ax		; __int32
		push	ss
		lea	ax, [bp+var_4]
		push	ax		; __int32
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src
		call	sub_90B3
		add	sp, 14h
		push	ds
		push	offset aMake	; "MAKE"
		push	ss
		lea	ax, [bp+@@s1]
		push	ax		; s1
		call	sub_27B4
		push	0		; int
		push	0		; int
		push	0		; int
		push	0		; int
		push	ss
		lea	ax, [bp+@@src]
		push	ax		; src
		push	ss
		lea	ax, [bp+var_4]
		push	ax		; __int32
		push	ss
		lea	ax, [bp+@@dest]
		push	ax		; dest
		call	sub_9247
		add	sp, 14h
		push	ss
		lea	ax, [bp+@@dest]
		push	ax		; s
		call	_strlen
		add	sp, 4
		dec	ax
		lea	dx, [bp+@@dest]
		add	ax, dx
		mov	bx, ax
		cmp	byte ptr ss:[bx], 5Ch ;	'\'
		jnz	short loc_8CFE
		push	ss
		lea	ax, [bp+@@dest]
		push	ax		; s
		call	_strlen
		add	sp, 4
		dec	ax
		lea	dx, [bp+@@dest]
		add	ax, dx
		mov	bx, ax
		mov	byte ptr ss:[bx], 0

loc_8CFE:
		push	ds
		push	offset aMakedir	; "MAKEDIR"
		push	ss
		lea	ax, [bp+@@dest]
		push	ax		; s
		call	_strupr
		add	sp, 4
		push	dx
		push	ax		; s1
		call	sub_27B4
		call	sub_8C1B
		leave
		retn	4
sub_8C78	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn bp-based	frame

sub_8D1A	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= byte ptr  8

		enter	4, 0
		lea	ax, [bp+arg_4]
		mov	[bp+var_2], ss
		mov	[bp+var_4], ax
		push	ds
		push	offset aFatal	; "Fatal"
		call	sub_8E0F
		add	sp, 4
		mov	ax, word_F64E
		or	ax, word_F650
		jz	short loc_8D4C
		push	word_F650
		push	word_F64E
		push	ds
		push	offset aS_6
		call	sub_8E0F
		add	sp, 8

loc_8D4C:
		cmp	word_F652, 0
		jz	short loc_8D61
		push	word_F652
		push	ds
		push	offset aD
		call	sub_8E0F
		add	sp, 6

loc_8D61:
		push	ds
		push	offset asc_F662
		call	sub_8E0F
		add	sp, 4
		push	[bp+var_2]
		push	[bp+var_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_8E2E
		add	sp, 8
		push	ds
		push	offset asc_F665
		call	sub_8E0F
		add	sp, 4
		push	1		; status
		call	sub_8E01
sub_8D1A	endp

; ---------------------------------------------------------------------------
		db 0C9h	; …
		db 0C3h	; √

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_8D8E	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= byte ptr  8

		enter	4, 0
		lea	ax, [bp+arg_4]
		mov	[bp+var_2], ss
		mov	[bp+var_4], ax
		inc	word_F658
		push	ds
		push	offset aError_0	; "Error"
		call	sub_8E0F
		add	sp, 4
		mov	ax, word_F64E
		or	ax, word_F650
		jz	short loc_8DC4
		push	word_F650
		push	word_F64E
		push	ds
		push	offset aS_6
		call	sub_8E0F
		add	sp, 8

loc_8DC4:
		cmp	word_F652, 0
		jz	short loc_8DD9
		push	word_F652
		push	ds
		push	offset aD
		call	sub_8E0F
		add	sp, 6

loc_8DD9:
		push	ds
		push	offset asc_F662
		call	sub_8E0F
		add	sp, 4
		push	[bp+var_2]
		push	[bp+var_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_8E2E
		add	sp, 8
		push	ds
		push	offset asc_F665
		call	sub_8E0F
		add	sp, 4
		leave
		retn
sub_8D8E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn bp-based	frame

; int __stdcall	sub_8E01(int status)
sub_8E01	proc near

status		= word ptr  4

		push	bp
		mov	bp, sp
		push	[bp+status]	; status
		call	_exit
sub_8E01	endp

; ---------------------------------------------------------------------------
		pop	cx
		pop	bp
		retn	2

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_8E0F	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= byte ptr  8

		enter	4, 0
		lea	ax, [bp+arg_4]
		mov	[bp+var_2], ss
		mov	[bp+var_4], ax
		push	[bp+var_2]
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_8E2E
		add	sp, 8
		leave
		retn
sub_8E0F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_8E2E	proc near

var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8

		enter	1Ch, 0
		push	si
		jmp	loc_9056
; ---------------------------------------------------------------------------

loc_8E36:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 25h ;	'%'
		jz	short loc_8E5A
		cmp	byte ptr es:[bx], 0Ah
		jnz	short loc_8E4F
		push	0Dh		; dosdx
		push	2		; dosfun
		call	_bdos
		add	sp, 4

loc_8E4F:
		les	bx, [bp+arg_0]
		mov	al, es:[bx]
		cbw
		push	ax
		jmp	loc_900E
; ---------------------------------------------------------------------------

loc_8E5A:
		xor	si, si
		inc	word ptr [bp+arg_0]
		lea	ax, [bp+var_10]
		mov	word ptr [bp+var_C+2], ss
		mov	word ptr [bp+var_C], ax
		dec	word ptr [bp+var_C]
		les	bx, [bp+var_C]
		mov	byte ptr es:[bx], 0
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 6Ch ;	'l'
		jnz	short loc_8E81
		inc	word ptr [bp+arg_0]
		mov	si, 1

loc_8E81:
		les	bx, [bp+arg_0]
		mov	al, es:[bx]
		cbw
		mov	[bp+var_10], ax
		mov	cx, 4		; switch 4 cases
		mov	bx, offset byte_9066

loc_8E91:
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_10]
		jz	short loc_8EA1
		add	bx, 2
		loop	loc_8E91
		jmp	loc_9062	; default
; ---------------------------------------------------------------------------

loc_8EA1:
		jmp	word ptr cs:[bx+8] ; switch jump
; ---------------------------------------------------------------------------
		or	si, si
		jz	short loc_8EBA
		add	word ptr [bp+arg_4], 4
		les	bx, [bp+arg_4]
		mov	dx, es:[bx-2]
		mov	ax, es:[bx-4]
		jmp	short loc_8EC6
; ---------------------------------------------------------------------------

loc_8EBA:
		add	word ptr [bp+arg_4], 2
		les	bx, [bp+arg_4]
		mov	ax, es:[bx-2]
		cwd

loc_8EC6:
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		cmp	[bp+var_6], 8000h
		jnz	short loc_8EE8
		cmp	[bp+var_8], 0
		jnz	short loc_8EE8
		mov	word ptr [bp+var_C+2], ds
		mov	word ptr [bp+var_C], 1568h

loc_8EE1:
		mov	[bp+var_E], 2Dh	; '-'
		jmp	short loc_8F51
; ---------------------------------------------------------------------------

loc_8EE8:
		cmp	[bp+var_6], 0
		jg	short loc_8F0A
		jl	short loc_8EF6
		cmp	[bp+var_8], 0
		jnb	short loc_8F0A

loc_8EF6:
		mov	[bp+var_E], 1
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		neg	dx
		neg	ax
		sbb	dx, 0
		jmp	short loc_8F36
; ---------------------------------------------------------------------------

loc_8F0A:
		mov	[bp+var_E], 0
		jmp	short loc_8F3C
; ---------------------------------------------------------------------------

loc_8F11:
		dec	word ptr [bp+var_C]
		push	0
		push	0Ah
		push	[bp+var_6]
		push	[bp+var_8]
		call	near ptr N_LMOD@
		add	al, 30h	; '0'
		les	bx, [bp+var_C]
		mov	es:[bx], al
		push	0		; dosal
		push	0Ah
		push	[bp+var_6]
		push	[bp+var_8]
		call	near ptr N_LDIV@

loc_8F36:
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax

loc_8F3C:
		mov	ax, [bp+var_8]
		or	ax, [bp+var_6]
		jnz	short loc_8F11
		cmp	[bp+var_E], 0
		jz	short loc_8F4C
		jmp	short loc_8EE1
; ---------------------------------------------------------------------------

loc_8F4C:
		mov	[bp+var_E], 0

loc_8F51:
		cmp	[bp+var_E], 0
		jz	short loc_8F6F
		push	[bp+var_E]
		jmp	short loc_8F67
; ---------------------------------------------------------------------------

loc_8F5C:
		les	bx, [bp+var_C]
		inc	word ptr [bp+var_C]
		mov	al, es:[bx]
		cbw
		push	ax		; dosdx

loc_8F67:
		push	2		; dosfun
		call	_bdos
		add	sp, 4

loc_8F6F:
		les	bx, [bp+var_C]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_8F5C
		jmp	loc_9053
; ---------------------------------------------------------------------------
		or	si, si
		jz	short loc_8F90
		add	word ptr [bp+arg_4], 4
		les	bx, [bp+arg_4]
		mov	dx, es:[bx-2]
		mov	ax, es:[bx-4]
		jmp	short loc_8FD2
; ---------------------------------------------------------------------------

loc_8F90:
		add	word ptr [bp+arg_4], 2
		les	bx, [bp+arg_4]
		mov	ax, es:[bx-2]
		mov	[bp+var_2], 0
		jmp	short loc_8FD5
; ---------------------------------------------------------------------------

loc_8FA2:
		dec	word ptr [bp+var_C]
		mov	ax, [bp+var_4]
		and	ax, 0Fh
		mov	[bp+var_E], ax
		cmp	[bp+var_E], 9
		jle	short loc_8FBA
		add	[bp+var_E], 57h	; 'W'
		jmp	short loc_8FBE
; ---------------------------------------------------------------------------

loc_8FBA:
		add	[bp+var_E], 30h	; '0'

loc_8FBE:
		les	bx, [bp+var_C]
		mov	al, byte ptr [bp+var_E]
		mov	es:[bx], al
		mov	cl, 4
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		call	near ptr N_LXURSH@

loc_8FD2:
		mov	[bp+var_2], dx

loc_8FD5:
		mov	[bp+var_4], ax
		mov	ax, [bp+var_4]
		or	ax, [bp+var_2]
		jnz	short loc_8FA2
		jmp	short loc_8FF5
; ---------------------------------------------------------------------------

loc_8FE2:
		les	bx, [bp+var_C]
		inc	word ptr [bp+var_C]
		mov	al, es:[bx]
		cbw
		push	ax		; dosdx
		push	2		; dosfun
		call	_bdos
		add	sp, 4

loc_8FF5:
		les	bx, [bp+var_C]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_8FE2
		jmp	short loc_9053
; ---------------------------------------------------------------------------
		mov	es, word ptr [bp+arg_4+2]
		add	word ptr [bp+arg_4], 2
		mov	bx, word ptr [bp+arg_4]
		push	word ptr es:[bx-2] ; dosdx

loc_900E:
		push	2		; dosfun
		call	_bdos
		add	sp, 4
		jmp	short loc_9053
; ---------------------------------------------------------------------------
		add	word ptr [bp+arg_4], 4
		les	bx, [bp+arg_4]
		mov	dx, es:[bx-2]
		mov	ax, es:[bx-4]
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		jmp	short loc_9042
; ---------------------------------------------------------------------------

loc_902F:
		les	bx, [bp+var_C]
		inc	word ptr [bp+var_C]
		mov	al, es:[bx]
		cbw
		push	ax		; dosdx
		push	2		; dosfun
		call	_bdos
		add	sp, 4

loc_9042:
		mov	ax, word ptr [bp+var_C]
		or	ax, word ptr [bp+var_C+2]
		jz	short loc_9053
		les	bx, [bp+var_C]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_902F

loc_9053:
		inc	word ptr [bp+arg_0]

loc_9056:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 0
		jz	short loc_9062	; default
		jmp	loc_8E36
; ---------------------------------------------------------------------------

loc_9062:
		pop	si		; default
		leave
		retn
sub_8E2E	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
		db  0
byte_9066	db 63h,	0, 64h,	0, 73h,	0, 78h,	2 dup(0), 90h, 0A5h, 8Eh

		db 18h,	90h, 7Bh, 8Fh

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_9076(int, char *src, char *dest)
sub_9076	proc near

arg_0		= word ptr  4
@@src		= dword	ptr  6
@@dest		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+arg_0]
		mov	ax, word ptr [bp+@@dest]
		or	ax, word ptr [bp+@@dest+2]
		jz	short loc_90A7
		mov	ax, si
		dec	ax
		push	ax		; maxlen
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		push	word ptr [bp+@@dest+2]
		push	word ptr [bp+@@dest] ; dest
		call	_strncpy
		add	sp, 0Ah
		mov	ax, si
		dec	ax
		les	bx, [bp+@@dest]
		add	bx, ax
		mov	byte ptr es:[bx], 0

loc_90A7:
		les	bx, [bp+@@src]
		mov	byte ptr es:[bx], 0
		pop	si
		pop	bp
		retn	0Ah
sub_9076	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_90B3(char *src, __int32, __int32, __int32, __int32)
sub_90B3	proc near

var_58		= byte ptr -58h
var_6		= word ptr -6
@@dest		= dword	ptr -4
@@src		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= dword	ptr  0Ch
arg_C		= dword	ptr  10h
arg_10		= dword	ptr  14h

		enter	58h, 0
		push	si
		push	di
		xor	si, si
		lea	ax, [bp+var_58]
		mov	word ptr [bp+@@dest+2], ss
		mov	word ptr [bp+@@dest], ax
		mov	ax, word ptr [bp+arg_4]
		or	ax, word ptr [bp+arg_4+2]
		jz	short loc_90D3
		les	bx, [bp+arg_4]
		mov	byte ptr es:[bx], 0

loc_90D3:
		mov	ax, word ptr [bp+arg_8]
		or	ax, word ptr [bp+arg_8+2]
		jz	short loc_90E2
		les	bx, [bp+arg_8]
		mov	byte ptr es:[bx], 0

loc_90E2:
		mov	ax, word ptr [bp+arg_C]
		or	ax, word ptr [bp+arg_C+2]
		jz	short loc_90F1
		les	bx, [bp+arg_C]
		mov	byte ptr es:[bx], 0

loc_90F1:
		mov	ax, word ptr [bp+arg_10]
		or	ax, word ptr [bp+arg_10+2]
		jz	short loc_9105
		les	bx, [bp+arg_10]
		mov	byte ptr es:[bx], 0
		jmp	short loc_9105
; ---------------------------------------------------------------------------

loc_9102:
		inc	word ptr [bp+@@src]

loc_9105:
		les	bx, [bp+@@src]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_9102
		push	word ptr [bp+@@src+2]
		push	bx		; s
		call	_strlen
		add	sp, 4
		mov	di, ax
		cmp	ax, 50h	; 'P'
		jle	short loc_9122
		mov	di, 50h	; 'P'

loc_9122:
		les	bx, [bp+@@dest]
		mov	byte ptr es:[bx], 0
		inc	word ptr [bp+@@dest]
		push	di		; maxlen
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		push	word ptr [bp+@@dest+2]
		push	word ptr [bp+@@dest] ; dest
		call	_strncpy
		add	sp, 0Ah
		add	word ptr [bp+@@dest], di
		les	bx, [bp+@@dest]
		mov	byte ptr es:[bx], 0
		xor	di, di

loc_914B:
		dec	word ptr [bp+@@dest] ; default
		les	bx, [bp+@@dest]
		mov	al, es:[bx]
		cbw
		mov	[bp+var_6], ax
		mov	cx, 7		; switch 7 cases
		mov	bx, offset byte_922B

loc_915E:
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_6]
		jz	short loc_916D
		add	bx, 2
		loop	loc_915E
		jmp	short loc_914B	; default
; ---------------------------------------------------------------------------

loc_916D:
		jmp	word ptr cs:[bx+0Eh] ; switch jump
sub_90B3	endp

; ---------------------------------------------------------------------------
		or	di, di
		jnz	short loc_914B	; default
		test	si, 2
		jnz	short loc_914B	; default
		or	si, 2
		push	word ptr [bp+16h]
		push	word ptr [bp+14h]
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		push	5
		call	sub_9076
		jmp	short loc_914B	; default
; ---------------------------------------------------------------------------
		or	di, di
		jz	short loc_91BA
		inc	word ptr [bp-4]
		les	bx, [bp-4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_91A4
		or	si, 8

loc_91A4:
		push	word ptr [bp+0Eh]
		push	word ptr [bp+0Ch]
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		push	42h ; 'B'
		call	sub_9076
		dec	word ptr [bp-4]
		jmp	short loc_9203
; ---------------------------------------------------------------------------

loc_91BA:
		or	di, di
		jnz	short loc_914B	; default
		inc	di
		inc	word ptr [bp-4]
		les	bx, [bp-4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_91CE
		or	si, 4

loc_91CE:
		push	word ptr [bp+12h]
		push	word ptr [bp+10h]
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		push	9
		call	sub_9076
		dec	word ptr [bp-4]
		les	bx, [bp-4]
		cmp	byte ptr es:[bx], 3Ah ;	':'
		jz	short loc_9203
		cmp	byte ptr es:[bx], 0
		jz	short loc_91F4
		jmp	loc_914B	; default
; ---------------------------------------------------------------------------

loc_91F4:
		jmp	short loc_9203
; ---------------------------------------------------------------------------
		or	di, di
		jz	short loc_91FD
		jmp	loc_914B	; default
; ---------------------------------------------------------------------------

loc_91FD:
		or	si, 1
		jmp	loc_914B	; default
; ---------------------------------------------------------------------------

loc_9203:
		les	bx, [bp-4]
		cmp	byte ptr es:[bx], 3Ah ;	':'
		jnz	short loc_9225
		cmp	byte ptr [bp-57h], 0
		jz	short loc_9215
		or	si, 10h

loc_9215:
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	ss
		lea	ax, [bp-57h]
		push	ax
		push	3
		call	sub_9076

loc_9225:
		mov	ax, si
		pop	di
		pop	si
		leave
		retn
; ---------------------------------------------------------------------------
byte_922B	db 2 dup(0), 2Ah, 0, 2Eh, 0, 2Fh, 0, 3Ah, 0, 3Fh, 0, 5Ch

		db 0, 2	dup(91h), 0F6h,	91h, 71h, 91h, 0BAh, 3 dup(91h)
		db 0F6h, 91h, 0BAh, 91h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_9247(char *dest, __int32, char *src, int, int, int, int)
sub_9247	proc near

@@dest		= dword	ptr  4
arg_4		= dword	ptr  8
@@src		= dword	ptr  0Ch
arg_C		= word ptr  10h
arg_E		= word ptr  12h
arg_10		= word ptr  14h
arg_12		= word ptr  16h

		push	bp
		mov	bp, sp
		mov	ax, word ptr [bp+arg_4]
		or	ax, word ptr [bp+arg_4+2]
		jz	short loc_9274
		les	bx, [bp+arg_4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_9274
		mov	al, es:[bx]
		les	bx, [bp+@@dest]
		mov	es:[bx], al
		inc	word ptr [bp+arg_4]
		inc	word ptr [bp+@@dest]
		les	bx, [bp+@@dest]
		mov	byte ptr es:[bx], 3Ah ;	':'
		inc	word ptr [bp+@@dest]

loc_9274:
		mov	ax, word ptr [bp+@@src]
		or	ax, word ptr [bp+@@src+2]
		jz	short loc_92B3
		les	bx, [bp+@@src]
		cmp	byte ptr es:[bx], 0
		jz	short loc_92B3
		push	word ptr [bp+@@src+2]
		push	bx		; src
		push	word ptr [bp+@@dest+2]
		push	word ptr [bp+@@dest] ; dest
		call	_stpcpy
		add	sp, 8
		mov	word ptr [bp+@@dest+2], dx
		mov	word ptr [bp+@@dest], ax
		les	bx, [bp+@@dest]
		cmp	byte ptr es:[bx-1], 5Ch	; '\'
		jz	short loc_92B3
		cmp	byte ptr es:[bx-1], 2Fh	; '/'
		jz	short loc_92B3
		mov	byte ptr es:[bx], 5Ch ;	'\'
		inc	word ptr [bp+@@dest]

loc_92B3:
		mov	ax, [bp+arg_C]
		or	ax, [bp+arg_E]
		jz	short loc_92D3
		push	[bp+arg_E]
		push	[bp+arg_C]	; src
		push	word ptr [bp+@@dest+2]
		push	word ptr [bp+@@dest] ; dest
		call	_stpcpy
		add	sp, 8
		mov	word ptr [bp+@@dest+2], dx
		mov	word ptr [bp+@@dest], ax

loc_92D3:
		mov	ax, [bp+arg_10]
		or	ax, [bp+arg_12]
		jz	short loc_92F3
		push	[bp+arg_12]
		push	[bp+arg_10]	; src
		push	word ptr [bp+@@dest+2]
		push	word ptr [bp+@@dest] ; dest
		call	_stpcpy
		add	sp, 8
		mov	word ptr [bp+@@dest+2], dx
		mov	word ptr [bp+@@dest], ax

loc_92F3:
		les	bx, [bp+@@dest]
		mov	byte ptr es:[bx], 0
		pop	bp
		retn
sub_9247	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_92FC(int handle, int)
sub_92FC	proc near

@@handle		= word ptr  4
arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+@@handle]
		cmp	[bp+arg_2], 0
		jl	short loc_931D
		push	si		; handle
		call	__close
		pop	cx
		lea	ax, [si+18h]
		mov	es, __psp
		mov	bx, ax
		mov	al, byte ptr [bp+arg_2]
		mov	es:[bx], al

loc_931D:
		pop	si
		pop	bp
		retn	4
sub_92FC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_9322(int access, int, char *path)
sub_9322	proc near

var_4		= word ptr -4
@@handle		= word ptr -2
access		= word ptr  4
arg_2		= word ptr  6
@@path		= dword	ptr  8

		enter	4, 0
		push	si
		push	di
		mov	si, [bp+access]
		mov	di, 0FFFFh
		test	si, 1
		jz	short loc_9339
		mov	ax, 100h
		jmp	short loc_933C
; ---------------------------------------------------------------------------

loc_9339:
		mov	ax, 80h	; 'Ä'

loc_933C:
		mov	[bp+var_4], ax
		mov	ax, word ptr [bp+@@path]
		or	ax, word ptr [bp+@@path+2]
		jnz	short loc_934A
		jmp	loc_93CC
; ---------------------------------------------------------------------------

loc_934A:
		les	bx, [bp+@@path]
		cmp	byte ptr es:[bx], 0
		jz	short loc_93CC
		mov	es, __psp
		mov	ax, [bp+arg_2]
		add	ax, 18h
		mov	bx, ax
		mov	al, es:[bx]
		mov	ah, 0
		mov	di, ax
		mov	byte ptr es:[bx], 0FFh
		push	[bp+var_4]
		push	si		; access
		push	word ptr [bp+@@path+2]
		push	word ptr [bp+@@path] ; path
		call	_open
		add	sp, 8
		mov	[bp+@@handle], ax
		cmp	[bp+@@handle], 0FFFFh
		jnz	short loc_93A4
		cmp	si, 1
		jnz	short loc_938E
		push	ds
		push	offset aFileNotFound ; "File not found"
		jmp	short loc_9392
; ---------------------------------------------------------------------------

loc_938E:
		push	ds
		push	offset aFileCreationEr ; "File creation	error"

loc_9392:
		call	_puts
		add	sp, 4
		push	di		; int
		push	[bp+arg_2]	; handle
		call	sub_92FC
		mov	di, 0FFFEh
		jmp	short loc_93CC
; ---------------------------------------------------------------------------

loc_93A4:
		test	si, 200h
		jz	short loc_93B7
		push	0
		push	0		; size
		push	[bp+@@handle]	; handle
		call	_chsize
		add	sp, 6

loc_93B7:
		test	si, 800h
		jz	short loc_93CC
		push	2		; fromwhere
		push	0
		push	0		; offset
		push	[bp+@@handle]	; handle
		call	_lseek
		add	sp, 8

loc_93CC:
		mov	ax, di
		pop	di
		pop	si
		leave
		retn	8
sub_9322	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_93D4(char *src)
sub_93D4	proc near

@@dest		= dword	ptr -4
@@src		= dword	ptr  4

		enter	4, 0
		mov	word ptr [bp+@@dest+2], ds
		mov	word ptr [bp+@@dest], 6044h
		push	3Ah ; ':'       ; c
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; s
		call	_strchr
		add	sp, 6
		or	ax, dx
		jnz	short loc_940A
		call	_getdisk
		add	al, 41h	; 'A'
		les	bx, [bp+@@dest]
		mov	es:[bx], al
		inc	word ptr [bp+@@dest]
		les	bx, [bp+@@dest]
		mov	byte ptr es:[bx], 3Ah ;	':'
		inc	word ptr [bp+@@dest]

loc_940A:
		push	50h ; 'P'       ; maxlen
		push	word ptr [bp+@@src+2]
		push	word ptr [bp+@@src] ; src
		push	word ptr [bp+@@dest+2]
		push	word ptr [bp+@@dest] ; dest
		call	_strncpy
		add	sp, 0Ah
		push	ds
		push	offset DGROUP:byte_14144 ; s
		call	_strlen
		add	sp, 4
		mov	word_14142, ax
		leave
		retn	4
sub_93D4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_942F	proc near
		push	bp
		mov	bp, sp
		mov	ah, 4Dh
		int	21h		; DOS -	2+ - GET EXIT CODE OF SUBPROGRAM (WAIT)
		pop	bp
		retn
sub_942F	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		mov	ah, 48h	; 'H'
		mov	bx, 0FFFFh
		int	21h		; DOS -	2+ - ALLOCATE MEMORY
					; BX = number of 16-byte paragraphs desired
		mov	ax, bx
		xor	dx, dx
		mov	cl, 4
		call	near ptr N_LXLSH@
		pop	bp
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_944D	proc near

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		cmp	word_14142, 0
		jz	short loc_946E
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	ds
		push	offset DGROUP:byte_14144
		push	word_14142
		jmp	short loc_9480
; ---------------------------------------------------------------------------

loc_946E:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	0
		push	0
		push	0

loc_9480:
		call	sub_97C6
		mov	si, ax
		or	si, si
		jz	short loc_948D
		mov	ax, si
		jmp	short loc_9490
; ---------------------------------------------------------------------------

loc_948D:
		call	sub_942F

loc_9490:
		pop	si
		pop	bp
		retn	8
sub_944D	endp

; ---------------------------------------------------------------------------
		db  0

; =============== S U B	R O U T	I N E =======================================


sub_9496	proc far
		mov	ax, cs
		cli
		mov	ss, ax
		assume ss:_TEXT
		mov	sp, 2A6h
		sti
		mov	ah, 4Ah	; 'J'
		mov	bx, word_E1E9
		mov	es, word_E23F
		assume es:_TEXT
		int	21h		; DOS -	2+ - ADJUST MEMORY BLOCK SIZE (SETBLOCK)
					; ES = segment address of block	to change
					; BX = new size	in paragraphs
		mov	ax, cs
		mov	es, ax
		push	ds
		mov	word_E239, ss
		mov	word_E23B, sp
		mov	dx, 191h
		mov	bx, 0D9h ; 'Ÿ'
		mov	ax, 4B00h
		int	21h		; DOS -	2+ - LOAD OR EXECUTE (EXEC)
					; DS:DX	-> ASCIZ filename
					; ES:BX	-> parameter block
					; AL = subfunc:	load & execute program
		jb	short loc_94C7
		xor	ax, ax

loc_94C7:
		cli
		mov	ss, word ptr cs:[0139h]
		assume ss:nothing
		mov	sp, word ptr cs:[013Bh]
		sti
		pop	ds
		mov	si, ax
		mov	ah, 4Ah	; 'J'
		mov	es, word_E23F
		mov	bx, word_E1E7
		int	21h		; DOS -	2+ - ADJUST MEMORY BLOCK SIZE (SETBLOCK)
					; ES = segment address of block	to change
					; BX = new size	in paragraphs
		mov	dx, 141h
		mov	ax, 4301h
		xor	cx, cx
		int	21h		; DOS -	2+ - SET FILE ATTRIBUTES
					; DS:DX	-> ASCIZ file name
					; CX = file attribute bits
		mov	ax, 3D02h
		int	21h		; DOS -	2+ - OPEN DISK FILE WITH HANDLE
					; DS:DX	-> ASCIZ filename
					; AL = access mode
					; 2 - read & write
		mov	ax, 3F00h
		push	ax
		push	word_E1D7
		push	cs
		mov	ax, 313h
		push	ax
		push	word_E1ED
		push	word_E1EB
		call	sub_951C
		cli
		mov	ss, word ptr path+7
		assume ss:nothing
		mov	sp, word ptr path+9
		sti
		push	word_E23D
		mov	ax, 9A73h
		push	ax
		retf
sub_9496	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_951C	proc near

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	ds
		push	bx
		push	cx
		push	dx
		mov	bx, [bp+arg_8]
		mov	ds, [bp+arg_6]
		assume es:_TEXT, ss:_TEXT
		mov	dx, [bp+arg_4]
		mov	cx, 8000h

loc_952F:
		cmp	[bp+arg_2], 0
		jnz	short loc_9543
		cmp	[bp+arg_0], 0
		jz	short loc_955E
		cmp	[bp+arg_0], cx
		jnb	short loc_9543
		mov	cx, [bp+arg_0]

loc_9543:
		mov	ax, [bp+arg_A]
		int	21h		; DOS -
		jb	short loc_9562
		cmp	ax, cx
		jb	short loc_9562
		sub	[bp+arg_0], ax
		sbb	[bp+arg_2], 0
		mov	ax, ds
		add	ax, 800h
		mov	ds, ax
		jmp	short loc_952F
; ---------------------------------------------------------------------------

loc_955E:
		xor	ax, ax
		jmp	short loc_9565
; ---------------------------------------------------------------------------

loc_9562:
		mov	ax, 1

loc_9565:
		pop	dx
		pop	cx
		pop	bx
		pop	ds
		pop	bp
		retn	0Ch
sub_951C	endp

; ---------------------------------------------------------------------------
word_956D	dw 0
word_956F	dw 0
word_9571	dw 0
word_9573	dw 0
word_9575	dw 0
word_9577	dw 0
word_9579	dw 0
word_957B	dw 0
word_957D	dw 0
word_957F	dw 0
word_9581	dw 0
word_9583	dw 0
		db 4Eh dup(0)
word_95D3	dw 0
word_95D5	dw 0
		db 121h	dup(0)
word_96F8	dw 0
word_96FA	dw 0
		db 40h dup(0)
word_973C	dw 0
word_973E	dw 0
		db 50h dup(0), 5Ch, 53h, 57h, 41h, 50h,	3 dup(30h), 2Eh
		db 3 dup(24h), 0
word_979D	dw 0
word_979F	dw 0
word_97A1	dw 0
word_97A3	dw 0
dword_97A5	dd 0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_97A9	proc near

arg_0		= word ptr  4
arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		push	cx
		mov	cx, 4
		mov	ax, [bp+arg_2]
		xor	dx, dx

loc_97B5:
		shl	ax, 1
		rcl	dx, 1
		loop	loc_97B5
		add	ax, [bp+arg_0]
		adc	dx, 0
		pop	cx
		pop	bp
		retn	4
sub_97A9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_97C6	proc near

arg_0		= word ptr  4
arg_2		= dword	ptr  6
arg_6		= dword	ptr  0Ah
arg_A		= dword	ptr  0Eh

		push	bp
		mov	bp, sp
		push	ds
		push	es
		push	di
		push	si
		cld
		push	ds
		mov	ah, 1Ah
		mov	ds, __psp
		mov	dx, 80h	; 'Ä'
		int	21h		; DOS -	SET DISK TRANSFER AREA ADDRESS
					; DS:DX	-> disk	transfer buffer
		lds	si, [bp+arg_2]
		cmp	si, 0
		jz	short loc_97F4
		mov	cx, [bp+arg_0]
		mov	di, cs
		mov	es, di
		mov	di, 9790h
		sub	di, cx
		mov	dx, di
		rep movsb
		jmp	short loc_97F7
; ---------------------------------------------------------------------------

loc_97F4:
		mov	dx, 9791h

loc_97F7:
		mov	bx, 9791h
		mov	si, cs
		mov	ds, si
		mov	cx, 1Fh

loc_9801:
		mov	ah, 4Eh
		int	21h		; DOS -	2+ - FIND FIRST	ASCIZ (FINDFIRST)
					; CX = search attributes
					; DS:DX	-> ASCIZ filespec
					; (drive, path,	and wildcards allowed)
		jb	short loc_981B
		cmp	byte ptr [bx+6], 39h ; '9'
		jz	short loc_9812
		inc	byte ptr [bx+6]
		jmp	short loc_9801
; ---------------------------------------------------------------------------

loc_9812:
		mov	byte ptr [bx+6], 30h ; '0'
		inc	byte ptr [bx+5]
		jmp	short loc_9801
; ---------------------------------------------------------------------------

loc_981B:
		mov	es, si
		mov	ax, word ptr [bp+arg_2]
		cmp	ax, 0
		jnz	short loc_984F
		mov	ah, 19h
		mov	di, 95D7h
		int	21h		; DOS -	GET DEFAULT DISK NUMBER
		add	al, 41h	; 'A'
		stosb
		mov	al, 3Ah	; ':'
		stosb
		mov	al, 5Ch	; '\'
		stosb
		mov	ah, 47h	; 'G'
		xor	dl, dl
		mov	si, di
		int	21h		; DOS -	2+ - GET CURRENT DIRECTORY
					; DL = drive (0=default, 1=A, etc.)
					; DS:SI	points to 64-byte buffer area
		mov	cx, 50h	; 'P'
		xor	al, al
		repne scasb
		dec	di
		cmp	byte ptr [si], 0
		jz	short loc_985C
		mov	al, 5Ch	; '\'
		stosb
		jmp	short loc_985C
; ---------------------------------------------------------------------------

loc_984F:
		mov	di, 95D7h
		mov	cx, [bp+arg_0]
		mov	si, 9790h
		sub	si, cx
		rep movsb

loc_985C:
		mov	si, 9791h
		mov	cx, 0Ch
		rep movsb
		mov	dx, 95D7h
		mov	ah, 3Ch	; '<'
		xor	cx, cx
		int	21h		; DOS -	2+ - CREATE A FILE WITH	HANDLE (CREAT)
					; CX = attributes for file
					; DS:DX	-> ASCIZ filename (may include drive and path)
		pop	ds
		jnb	short loc_987A
		mov	cs:word_956D, 0FFFFh
		jmp	loc_9ABF
; ---------------------------------------------------------------------------

loc_987A:
		mov	cs:word_956D, ax
		mov	cs:word_97A3, ss
		mov	cs:word_97A1, sp
		mov	ax, __psp
		mov	cs:word_95D5, ax
		add	ax, 6
		mov	cs:word_973C, ax
		mov	cs:word_95D3, cs
		mov	cs:word_96F8, ss
		mov	cs:word_96FA, sp
		mov	ah, 52h
		int	21h		; DOS -	2+ internal - GET LIST OF LISTS
					; Return: ES:BX	-> DOS list of lists
		mov	es, word ptr es:[bx-2]
		assume es:nothing
		jmp	short loc_98B9
; ---------------------------------------------------------------------------

loc_98AF:
		mov	ax, es
		add	ax, es:3
		inc	ax
		mov	es, ax

loc_98B9:
		mov	ax, es:1
		cmp	ax, __psp
		jz	short loc_98D1
		cmp	byte ptr es:0, 5Ah ; 'Z'
		jnz	short loc_98AF
		mov	ax, 7
		jmp	loc_9ABF
; ---------------------------------------------------------------------------

loc_98D1:
		mov	ax, es
		inc	ax
		cmp	ax, __psp
		jnz	short loc_98AF
		mov	ax, es:3
		mov	cs:word_957D, ax
		mov	ax, 6
		mov	bx, 2B5h
		mov	cl, 4
		shr	bx, cl
		add	ax, bx
		mov	cs:word_957F, ax
		push	ss
		mov	ax, sp
		push	ax
		call	sub_97A9
		mov	cx, dx
		mov	bx, ax
		push	word ptr __brklvl+2
		push	word ptr __brklvl
		call	sub_97A9
		sub	ax, bx
		sbb	dx, cx
		mov	cs:word_979F, dx
		mov	cs:word_979D, ax
		push	ds
		lds	si, [bp+arg_A]
		mov	ax, cs
		mov	es, ax
		assume es:_TEXT
		mov	di, 9627h

loc_9920:
		cmp	byte ptr [si], 0
		jz	short loc_9928
		movsb
		jmp	short loc_9920
; ---------------------------------------------------------------------------

loc_9928:
		movsb
		lds	si, [bp+arg_6]
		mov	di, 9678h
		mov	cx, di
		mov	bx, cx
		mov	al, 20h	; ' '
		stosb

loc_9936:
		cmp	byte ptr [si], 0
		jz	short loc_993E
		movsb
		jmp	short loc_9936
; ---------------------------------------------------------------------------

loc_993E:
		mov	al, 0Dh
		stosb
		xchg	di, cx
		sub	cx, di
		dec	cx
		mov	es:[bx-1], cl
		mov	cx, 25h	; '%'
		mov	bx, cs
		mov	es, bx
		mov	di, 9585h
		xor	ax, ax
		rep stosw
		mov	ds, bx
		mov	si, 9677h
		inc	si
		mov	di, 9585h
		mov	ax, 2901h
		int	21h		; DOS -	PARSE FILENAME
					; DS:SI	-> string to parse
					; ES:DI	-> buffer to fill with unopened	FCB
					; AL = bit mask	to control parsing
		mov	es, bx
		mov	di, 95AAh
		mov	ax, 2901h
		int	21h		; DOS -	PARSE FILENAME
					; DS:SI	-> string to parse
					; ES:DI	-> buffer to fill with unopened	FCB
					; AL = bit mask	to control parsing
		pop	ds
		mov	cs:word_973E, ds
		mov	es, __psp
		assume es:nothing
		mov	ax, es:2Ch
		mov	cs:word_956F, ax
		mov	ax, cs:word_973C
		mov	cs:word_9573, ax
		mov	cs:word_9571, 1E1h
		mov	cs:word_9577, ax
		mov	cs:word_9575, 0EFh ; 'Ô'
		mov	cs:word_957B, ax
		mov	cs:word_9579, 114h
		push	cs:word_973C
		mov	di, 313h
		push	di
		call	sub_97A9
		mov	cx, dx
		mov	bx, ax
		push	ss
		xor	ax, ax
		push	ax
		call	sub_97A9
		sub	ax, bx
		sbb	dx, cx
		mov	cs:word_9583, dx
		mov	cs:word_9581, ax
		mov	bx, 4000h
		push	bx
		push	cs:word_956D
		push	cs:word_973C
		push	di
		push	dx
		push	ax
		call	sub_951C
		cmp	ax, 0
		jz	short loc_99E7
		jmp	loc_9ABF
; ---------------------------------------------------------------------------

loc_99E7:
		mov	bx, 4000h
		push	bx
		push	cs:word_956D
		push	cs:word_973C
		xor	ax, ax
		push	ax
		push	ax
		push	di
		call	sub_951C
		cmp	ax, 0
		jz	short loc_9A05
		jmp	loc_9ABF
; ---------------------------------------------------------------------------

loc_9A05:
		mov	bx, 4000h
		push	bx
		push	cs:word_956D
		push	cs:word_97A3
		push	cs:word_97A1
		push	cs:word_979F
		push	cs:word_979D
		call	sub_951C
		cmp	ax, 0
		jz	short loc_9A2D
		jmp	loc_9ABF
; ---------------------------------------------------------------------------

loc_9A2D:
		mov	ah, 3Eh	; '>'
		mov	bx, cs:word_956D
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		jnb	short loc_9A3B
		jmp	loc_9ABF
; ---------------------------------------------------------------------------

loc_9A3B:
		mov	ax, cs
		mov	ds, ax
		mov	dx, 95D7h
		mov	ax, 4301h
		mov	cx, 1
		int	21h		; DOS -	2+ - SET FILE ATTRIBUTES
					; DS:DX	-> ASCIZ file name
					; CX = file attribute bits
		mov	ax, cs
		mov	ds, ax
		mov	si, 9496h
		mov	es, cs:word_973C
		xor	di, di
		mov	cx, 313h
		rep movsb
		mov	word ptr cs:dword_97A5,	0
		mov	ax, cs:word_973C
		mov	ds, ax
		mov	word ptr cs:dword_97A5+2, ax
		jmp	cs:dword_97A5
; ---------------------------------------------------------------------------
		mov	ax, 3F00h
		push	ax
		push	cs:word_956D
		push	cs:word_973C
		xor	ax, ax
		push	ax
		push	ax
		mov	ax, 313h
		push	ax
		call	sub_951C
		mov	ax, 3F00h
		push	ax
		push	cs:word_956D
		push	cs:word_97A3
		push	cs:word_97A1
		push	cs:word_979F
		push	cs:word_979D
		call	sub_951C
		cli
		mov	ss, cs:word_97A3
		assume ss:nothing
		mov	sp, cs:word_97A1
		sti
		mov	ax, si
		mov	ds, cs:word_973E

loc_9ABF:
		mov	_errno, ax
		mov	ah, 3Eh	; '>'
		mov	bx, cs:word_956D
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		push	ds
		mov	ax, cs
		mov	ds, ax
		mov	dx, 95D7h
		mov	ah, 41h
		int	21h		; DOS -	2+ - DELETE A FILE (UNLINK)
					; DS:DX	-> ASCIZ pathname of file to delete (no	wildcards allowed)
		pop	ds
		cmp	_errno, 0
		jz	short loc_9AE4
		mov	ax, 0FFFFh
		jmp	short loc_9AE6
; ---------------------------------------------------------------------------

loc_9AE4:
		xor	ax, ax

loc_9AE6:
		pop	si
		pop	di
		pop	es
		pop	ds
		pop	bp
		retn	0Eh
sub_97C6	endp

; ---------------------------------------------------------------------------
word_9AEE	dw 306h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __RefDestructorCount(void)
@__RefDestructorCount$qv proc near
		push	si
		push	di
		mov	dx, ds
		mov	ax, 1574h
		pop	di
		pop	si
		retn
@__RefDestructorCount$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __RefExceptionList(void)
@__RefExceptionList$qv proc near
		push	si
		push	di
		mov	dx, ds
		mov	ax, 1578h
		pop	di
		pop	si
		retn
@__RefExceptionList$qv endp

; ---------------------------------------------------------------------------

___InitExceptBlocks:
		push	si
		push	di
		pop	di
		pop	si
		retn
; ---------------------------------------------------------------------------

___ExitExceptBlocks:
		push	si
		push	di
		pop	di
		pop	si
		retn	2
; ---------------------------------------------------------------------------

___InitExceptBlock:
		push	si
		push	di
		pop	di
		pop	si
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

public __ExceptInit
__ExceptInit	proc near
		push	si
		push	di
		pop	di
		pop	si
		retn
__ExceptInit	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __GetPolymorphicDTC(void *, unsigned int)
@__GetPolymorphicDTC$qnvui proc	near
		push	si
		push	di
		xor	ax, ax
		pop	di
		pop	si
		retn
@__GetPolymorphicDTC$qnvui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __GetPolymorphicDTCfar(void *, unsigned int)
@__GetPolymorphicDTCfar$qnvui proc near
		push	si
		push	di
		xor	ax, ax
		pop	di
		pop	si
		retn
@__GetPolymorphicDTCfar$qnvui endp

; ---------------------------------------------------------------------------
_TEXT		ends

; ===========================================================================

; Segment type:	Pure data
_DATA		segment	para public 'DATA' use16

; char dest
dest		db 0
		db 70 dup(0)
word_E1D7	dw 0
		db 14 dup(0)
word_E1E7	dw 0
word_E1E9	dw 0
word_E1EB	dw 0
word_E1ED	dw 0
		db 74 dup(0)
word_E239	dw 0
word_E23B	dw 0
word_E23D	dw 0
word_E23F	dw 0
byte_E241	db 75 dup(0)
; void *src
src		dw 0
word_E28E	dw 0
; size_t maxlen
maxlen		dw 0
; size_t word_E292
word_E292	dw 0
word_E294	dw 7Fh
dword_E296	dd 0
word_E29A	dw 0
; int word_E29C
word_E29C	dw 0FFFFh
word_E29E	dw 0
; char aObj[4]
aObj		db 'obj',0
aS		db 9,'%s',0Ah,0
; char a[]
a@		db '@',0
; char a_[]
a_		db '.',0
; char asc_E2AD[]
asc_E2AD	db '\',0
aS_0		db '  %s',0
aS_1		db ' -> %s',0
; char asc_E2BB[]
asc_E2BB	db ' ',0
asc_E2BD	db '  ',0
aS_2		db '    %s',0
		align 2
word_E2C8	dw 0
; char msg[]
msg		db 'Assertion failed: %s, file %s, line %d',0Ah,0
; char cond[]
cond		db 'bytesRead > 0',0
; char aMakein_c[]
aMakein_c	db 'makein.c',0
		align 2
		db '$*$*$*',0
		db 'À',0
		db    3
aTurboMake	db 'Turbo Make',0
		align 2
; char a0x0400[]
a0x0400		db '0x0400',0
aMakefile	db 'makefile',0
word_E330	dw 20h
; char *off_E332
off_E332	dd aMakefile	; "makefile"
word_E336	dw 0
		db    0
		db  20h
public __stklen
__stklen	dw 2400h
; char a__make__[]
a__make__	db '__MAKE__',0
; char a__msdos__[]
a__msdos__	db '__MSDOS__',0
; char a1[]
a1		db '1',0
a4_0		db '4.0 ',0
; char a_mak[]
a_mak		db '.mak',0
; char path[]
path		db 'builtins.mak',0
; char aS_3[]
aS_3		db '%s',0Ah,0
; char aS_4[]
aS_4		db '                     %s',0Ah,0
; char aCSC[]
aCSC		db '%c%s%c',0
; char aSS[]
aSS		db '%s%s',0
		db 0Ah
		db '                     ',0
; char asc_E3A8[3]
asc_E3A8	db 0Ah
		db 0Ah,0
		align 2
; char asc_E3AC[2]
asc_E3AC	db '/',0
; char a15sS[]
a15sS		db '%15s = %s',0Ah,0
		align 2
dword_E3BA	dd 0
byte_E3BE	db 0
		align 2
; __int32 off_E3C0
off_E3C0	dd byte_E3DA
dword_E3C4	dd 0
; char aMake_0[4]
aMake_0		db 'MAKE'
byte_E3CC	db 30h
byte_E3CD	db 30h
byte_E3CE	db 30h
byte_E3CF	db 30h
a_@@@		db '.@@@',0
		align 2
word_E3D6	dw 0
word_E3D8	dw 0
; char byte_E3DA
byte_E3DA	db 0
; char aSS_0[]
aSS_0		db '%s%s',0
; char aSSS[]
aSSS		db '%s%s%s',0
; char a__0[]
a__0		db '.',0
; char aNo[]
aNo		db 'NO',0
; char aPath[]
aPath		db 'PATH',0
; char a_S_[]
a_S_		db '.%s.',0
; char aPrecious[]
aPrecious	db 'PRECIOUS',0
; char aSuffixes[]
aSuffixes	db 'SUFFIXES',0
; char aAutodepend[]
aAutodepend	db 'AUTODEPEND',0
; char aSilent[]
aSilent		db 'SILENT',0
; char aSwap[]
aSwap		db 'SWAP',0
; char aIgnore[]
aIgnore		db 'IGNORE',0
; char aKeep[]
aKeep		db 'KEEP',0
; char aCacheautodepen[]
aCacheautodepen	db 'CACHEAUTODEPEND',0
; char s1[]
s1		db 'NOKEEP',0
; char aElse[]
aElse		db 'else',0
; char aInclude[]
aInclude	db 'include',0
; char aUndef[]
aUndef		db 'undef',0
; char aElif[]
aElif		db 'elif',0
; char aElseif[]
aElseif		db 'elseif',0
; char aIfdef[]
aIfdef		db 'ifdef',0
; char aIfndef[]
aIfndef		db 'ifndef',0
; char aEndif[]
aEndif		db 'endif',0
; char aError[]
aError		db 'error',0
; char aMessage[]
aMessage	db 'message',0
; char aCmdswitches[]
aCmdswitches	db 'cmdswitches',0
aS_5		db '%s',0Dh,0Ah,0
		align 2
ffblk_empty	ffblk <0>
; char name[]
_name		db 'PATH',0
; char asc_E4C4[]
asc_E4C4	db '\',0
; char aComspec[]
aComspec	db 'COMSPEC',0
; char asc_E4CE[]
asc_E4CE	db ' ',0
; char aBat[]
aBat		db 'bat',0
; char a_com[]
a_com		db '.com',0
; char a_exe[]
a_exe		db '.exe',0
; char a_bat[]
a_bat		db '.bat',0
		align 2
; char aDefined[]
aDefined	db 'defined',0
; char asc_E4EC[]
asc_E4EC	db ' ',0
; char asc_E4EE[]
asc_E4EE	db '**',0
		align 2
aDErrorsDuringM	db '*** %d errors during make ***',0Ah,0
aFatal		db 'Fatal',0
aError_0	db 'Error',0
aSDoesNotExistD	db 27h,'%s',27h,' does not exist - don',27h,'t know how to make it',0
aUnableToExecut	db 'Unable to execute command: %s',0
aIncorrectComma	db 'Incorrect command line argument: %s',0
aUnableToOpenMa	db 'Unable to open makefile',0
aNotEnoughMemor	db 'Not enough memory',0
aErrorDirective	db 'Error directive: %s',0
aUnableToRedire	db 'Unable to redirect input or output',0
aNoTerminatorSp	db 'No terminator specified for in-line file operator',0

aCircularDepend	db 'Circular dependency exists in makefile',0
aMacroSubstitut	db 'Macro substitute text %s is too long',0
aMacroReplaceTe	db 'Macro replace text %s is too long',0
aSMissingInMacr	db '%s - ',27h,')',27h,' missing in macro invocation',0
aCycleInInclude	db 'Cycle in include files: ',27h,'%s',27h,0
aCannotWriteASt	db 'Cannot write a string option.',0Ah,0
aCannotFindMake	db 'Cannot find MAKE.EXE',0Ah,0
aUnableToOpenFi	db 'Unable to open file %s.',0Ah,0
aSNotAMake_	db '%s not a MAKE.',0Ah,0
aWriteErrorOnFi	db 'Write error on file %s.',0Ah,0
aCommandArgumen	db 'Command arguments too long',0
aUnexpectedEndO	db 'Unexpected end of file in conditional started at line %d',0
aUnknownPreproc	db 'Unknown preprocessor statement',0
aBadFilenameFor	db 'Bad filename format in include statement',0
aFilenameTooLon	db 'Filename too long',0
aNoFilenameEndi	db 'No filename ending',0
aUnableToOpenIn	db 'Unable to open include file ',27h,'%s',27h,0
aMacroExpansion	db 'Macro expansion too long',0
aIfStatementToo	db 'If statement too long',0
aCommandTooLong	db 'Command too long',0
aRuleLineTooLon	db 'Rule line too long',0
aBadUndefStatem	db 'Bad undef statement syntax',0
aMisplacedElseS	db 'Misplaced else statement',0
aCommandSyntaxE	db 'Command syntax error',0
aMisplacedElifS	db 'Misplaced elif statement',0
aMisplacedEndif	db 'Misplaced endif statement',0
aIllegalCharact	db 'Illegal character in constant expression ',27h,'%c',27h,0
aExpressionSynt	db 'Expression syntax error in !if statement',0
aIllegalOctalDi	db 'Illegal octal digit',0
aCharacterConst	db 'Character constant too long',0
aDivisionByZero	db 'Division by zero',0
aRedefinitionOf	db 'Redefinition of target ',27h,'%s',27h,0
aBadMacroOutput	db 'Bad macro output translator',0
aTooManySuffixe	db 'Too many suffixes in .SUFFIXES list',0
aUseOfAndDepend	db 'Use of : and :: dependents for target ',27h,'%s',27h,0
aIfdefStatement	db 'Ifdef statement too long',0
aIfndefStatemen	db 'Ifndef statement too long',0
aNoMatchFoundFo	db ' No match found for wildcard ',27h,'%s',27h,0
aNoClosingQuote	db 'No closing quote',0
aStringTypeNotA	db 'String type not allowed with this operand',0
aIntAndStringTy	db 'Int and string types compared',0
aColonExpected	db 'Colon expected',0
aOnlyKeepOrNoke	db 'Only <<KEEP or <<NOKEEP',0
aUnexpectedEn_0	db 'Unexpected end of file',0
aCannotHavePath	db 'Cannot have path list for target',0
aCannotHaveMult	db 'Cannot have multiple paths for implicit rule',0
aNoMacroBefore	db 'No macro before =',0
aTooManyRulesFo	db 'Too many rules for target ',27h,'%s',27h,0
aIllegalInvalid	db 'Illegal/invalid option in CMDSWITCHES directive ',27h,'%s',27h,0
aUnknownCmdswit	db 'Unknown CMDSWITCHES operator ',27h,'%c',27h,0
		align 2
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F7h	; ˜
		db 0FFh
		db 0F7h	; ˜
		db 0FFh
		db 0F7h	; ˜
		db 0FFh
		db 0F7h	; ˜
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F7h	; ˜
		db 0FFh
		db 0ECh	; Ï
		db 0FFh
		db 0F9h	; ˘
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db    5
		db    0
		db 0F4h	; Ù
		db 0FFh
		db 0F2h	; Ú
		db 0FFh
		db  18h
		db    0
		db  19h
		db    0
		db    3
		db    0
		db    1
		db    0
		db 0F8h	; ¯
		db 0FFh
		db    2
		db    0
		db 0F8h	; ¯
		db 0FFh
		db    4
		db    0
		db 0F5h	; ı
		db 0FFh
		db 0F5h	; ı
		db 0FFh
		db 0F5h	; ı
		db 0FFh
		db 0F5h	; ı
		db 0FFh
		db 0F5h	; ı
		db 0FFh
		db 0F5h	; ı
		db 0FFh
		db 0F5h	; ı
		db 0FFh
		db 0F5h	; ı
		db 0FFh
		db 0F5h	; ı
		db 0FFh
		db 0F5h	; ı
		db 0FFh
		db  0Ch
		db    0
		db 0F8h	; ¯
		db 0FFh
		db 0EFh	; Ô
		db 0FFh
		db 0EEh	; Ó
		db 0FFh
		db 0EDh	; Ì
		db 0FFh
		db  0Bh
		db    0
		db 0F8h	; ¯
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db    8
		db    0
		db 0F3h	; Û
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db 0F6h	; ˆ
		db 0FFh
		db 0F8h	; ¯
		db 0FFh
		db  17h
		db    0
		db 0F8h	; ¯
		db 0FFh
		db    0
		db  0Ch
		db  0Ch
		db  0Dh
		db  0Dh
		db  0Dh
		db    8
		db    6
		db    7
		db  0Bh
		db  0Bh
		db    3
		db    3
		db    9
		db    9
		db  0Ah
		db  0Ah
		db  0Ah
		db  0Ah
		db    5
		db    4
		db    0
		db    1
		db    2
		db    2
		db    1
		db    1
		db    1
		db    1
		db    1
		db    1
		db    1
		db    1
		db    1
		db    1
		db    0
aSyntaxMakeOpti	db 'Syntax: MAKE [options ...] target[s]',0Ah
		db '    -B%c              Builds all targets regardless of dependency'
		db ' dates',0Ah
		db '    -Dsymbol         Defines symbol',0Ah
		db '    -Dsymbol=string  Defines symbol to string',0Ah
		db '    -Idirectory      Names an include directory',0Ah
		db '    -K%c              Keeps (does not erase) temporary files crea'
		db 'ted by MAKE',0Ah
		db '    -N%c              Increases MAKE',27h,'s compatibility with NMAK'
		db 'E',0Ah
		db '    -S%c              Swaps MAKE out of memory to execute command'
		db 's.',0Ah
		db '    -W               Writes all non-string options back to the .E'
		db 'XE file',0Ah
		db '    -Usymbol         Undefine symbol',0Ah
		db '    -ffilename       Uses filename as the MAKEFILE',0Ah
		db '    -dswapdir        Writes MAKE',27h,'s swap file to swapdir',0Ah
		db '    -a%c              Performs auto-dependency checks for include'
		db ' files',0Ah
		db '    -c%c              Caches auto-dependency information',0Ah
		db '    -e%c              Ignores redefinition of environment variabl'
		db 'e macros',0Ah
		db '    -i%c              Ignores errors returned by commands',0Ah
		db '    -m%c              Displays the date and time stamp of each fi'
		db 'le',0Ah
		db '    -n%c              Prints commands but does not do them',0Ah
		db '    -p%c              Displays all macro definitions and implicit'
		db ' rules',0Ah
		db '    -q%c              Returns zero if target is up-to-date and no'
		db 'nzero',0Ah
		db '                     if it is not (for use in batch files)',0Ah
		db '    -r%c              Ignores rules and macros defined in BUILTIN'
		db 'S.MAK',0Ah
		db '    -s%c              Silent, does not print commands before doin'
		db 'g them',0Ah
		db '    -? or -h         Prints this message',0Ah
		db '      Options marked with ',27h,'+',27h,' are on by default. To turn of'
		db 'f a default',0Ah
		db '      option follow it by a ',27h,'-',27h,', for example: -a-',0
aMakeVersionSCo	db 'MAKE Version %s Copyright (c) 1987, 1996 Borland International',0Ah,0
aAvailableMemor	db 0Ah
		db 'Available memory %ld bytes',0Ah
		db 0Ah,0
; char format[]
format		db 'Implicit Rules:',0Ah,0
; char a_S_SCommands[]
a_S_SCommands	db '    .%s.%s:',0Ah
		db '        commands:    ',0
; char aCommandsC[]
aCommandsC	db 0Ah
		db '        commands:   %c',0
; char aTargets[]
aTargets	db 0Ah
		db 'Targets:',0Ah,0
; char aSFlagsSDepende[]
aSFlagsSDepende	db '    %s:',0Ah
		db '        flags:       %s',0Ah
		db '        dependents:  ',0
aPrecious_0	db '(PRECIOUS)',0
aWriteOptionsTo	db 0Ah
		db 'Write options to %s? ( Y/N ) [N]:',0
aEnterFullPathO	db 0Ah
		db 'Enter full path of MAKE.EXE to modify: ',0
; char aMacros[]
aMacros		db 0Ah
		db 'Macros:',0Ah,0
aFatalCouldNotC	db 'Fatal:  Could not create temporary file ',27h,'%s',27h,0Ah,0
aErrorDDeleting	db 0Ah
		db '** error %d ** deleting %s',0Ah,0
aDoesNotExist	db 'does not exist',0
aFileNotFound	db 'File not found',0
; char aFileCreationEr[]
aFileCreationEr	db 'File creation error',0
word_F4E0	dw 0
; char a[]
a@_0		db '!@#$%^&*()',0
		align 2
flag_autodepend	dw 0
word_F4F0	dw 0
flag_cacheautodepend	dw 0
word_F4F4	dw 0
flag_ignore	dw 0
unk_F4F8	db    0
		db    0
word_F4FA	dw 0
word_F4FC	dw 0
word_F4FE	dw 0
word_F500	dw 0
word_F502	dw 0
word_F504	dw 0
; int flag_silent
flag_silent	dw 0
word_F508	dw 0
word_F50A	dw 0
flag_keep	dw 0
word_F50E	dw 0
flag_swap	dw 0
unk_F512	db  3Fh	; ?
		db    0
		db    0
		db    0
		dd word_F4E0
		db  42h	; B
		db    0
		db    0
		db    0
		dd word_F50A
		db  44h	; D
		db    0
		db    1
		db    0
		db    0
		db    0
		db    0
		db    0
		db  49h	; I
		db    0
		db    1
		db    0
		db    0
		db    0
		db    0
		db    0
		db  4Bh	; K
		db    0
		db    0
		db    0
		dd flag_keep
		db  4Eh	; N
		db    0
		db    0
		db    0
		dd word_F50E
		db  53h	; S
		db    0
		db    0
		db    0
		dd flag_swap
		db  55h	; U
		db    0
		db    1
		db    0
		db    0
		db    0
		db    0
		db    0
		db  57h	; W
		db    0
		db    3
		db    0
		db    0
		db    0
		db    0
		db    0
		db  61h	; a
		db    0
		db    0
		db    0
		dd flag_autodepend
		db  62h	; b
		db    0
		db    0
		db    0
		dd word_F4F0
		db  63h	; c
		db    0
		db    0
		db    0
		dd flag_cacheautodepend
		db  64h	; d
		db    0
		db    1
		db    0
		db    0
		db    0
		db    0
		db    0
		db  65h	; e
		db    0
		db    0
		db    0
		dd word_F4F4
		db  66h	; f
		db    0
		db    1
		db    0
		db    0
		db    0
		db    0
		db    0
		db  68h	; h
		db    0
		db    0
		db    0
		dd word_F4E0
		db  69h	; i
		db    0
		db    0
		db    0
		dd flag_ignore
		db  6Ch	; l
		db    0
		db    0
		db    0
		dd unk_F4F8
		db  6Dh	; m
		db    0
		db    0
		db    0
		dd word_F4FA
		db  6Eh	; n
		db    0
		db    0
		db    0
		dd word_F4FC
		db  6Fh	; o
		db    0
		db    0
		db    0
		dd word_F500
		db  70h	; p
		db    0
		db    0
		db    0
		dd word_F4FE
		db  71h	; q
		db    0
		db    0
		db    0
		dd word_F502
		db  72h	; r
		db    0
		db    0
		db    0
		dd word_F504
		db  73h	; s
		db    0
		db    0
		db    0
		dd flag_silent
		db  75h	; u
		db    0
		db    0
		db    0
		dd word_F508
unk_F5E2	db  31h	; 1
		db    0
unk_F5E4	db  0Ah
unk_F5E5	db  0Ah
		db    0
; char aAssertionFai_0[]
aAssertionFai_0	db 'Assertion failed: %s, file %s, line %d',0Ah,0
; char aBytesreadUint_[]
aBytesreadUint_	db 'bytesread < UINT_MAX',0
; char aConfig_c[]
aConfig_c	db 'config.c',0
aMake_exe	db 'MAKE.EXE',0
; char aMakeflags[]
aMakeflags	db 'MAKEFLAGS',0
; char aMake[]
aMake		db 'MAKE',0
; char aMakedir[]
aMakedir	db 'MAKEDIR',0
		align 2
word_F64E	dw 0
word_F650	dw 0
word_F652	dw 0
		dw 0
		dw 0
word_F658	dw 0
aS_6		db ' %s',0
aD		db ' %d',0
asc_F662	db ': ',0
asc_F665	db 0Ah,0
		db    0
a2147483648	db '2147483648',0
		db    0
unk_F674	db    0
		db    0
		db    0
		db    0
unk_F678	db    0
		db    0
		db    0
		db    0
_DATA		ends

_BSS	segment	word public 'BSS' use16

bdata@		dw ?
; void *off_10240
off_10240	dw ?
word_10242	dw ?
byte_10244	db ?
		db    ?	;
		db    ?	;
byte_10247	db 42h dup(?)
byte_10289	db 9 dup(?)
byte_10292	db 5 dup(?)
; char byte_10297[81]
byte_10297	db 51h dup(?)
dword_102E8	dd ?
word_102EC	dw ?
word_102EE	dw ?
word_102F0	dw ?
word_102F2	dw ?
; char byte_102F4[80]
byte_102F4	db 50h dup(?)
; int handle
handle		dw ?
word_10346	dw ?
word_10348	dw ?
dword_1034A	dd ?
; __int32 offset
_offset		dw ?
word_10350	dw ?
byte_10352	db 400h	dup(?)
; char **env
env		dw ?
word_10754	dw ?
dword_10756	dd ?
dword_1075A	dd ?
word_1075E	dw ?
word_10760	dw ?
word_10762	dw ?
word_10764	dw ?
word_10766	dw ?
word_10768	dw ?
word_1076A	dw ?
word_1076C	dw ?
		db 1F40h dup(?)
; char byte_126AE[80]
byte_126AE	db 50h dup(?)
word_126FE	dw ?
word_12700	dw ?
word_12702	dw ?
; char *s2
s2		dw ?
word_12706	dw ?
; char byte_12708[80]
byte_12708	db 50h dup(?)
word_12758	dw ?
; char byte_1275A
byte_1275A	db ?
byte_1275B	db ?
byte_1275C	db ?
byte_1275D	db ?
		db 0FCh	dup(?)
; char byte_1285A
byte_1285A	db 1000h dup(?)
; char byte_1385A
byte_1385A	db ?
byte_1385B	db ?
byte_1385C	db ?
		db 1FDh	dup(?)
word_13A5A	dw ?
word_13A5C	dw ?
word_13A5E	dw ?
word_13A60	dw ?
dword_13A62	dd ?
		db 200h	dup(?)
; char byte_13C66[512]
byte_13C66	db 200h	dup(?)
; char byte_13E66[512]
byte_13E66	db 200h	dup(?)
; char *off_14066
off_14066	dd ?
; char byte_1406A[3]
byte_1406A	db 3 dup(?)
byte_1406D	db 3 dup(?)
; char byte_14070[66]
byte_14070	db 42h dup(?)
; char byte_140B2[66]
byte_140B2	db 42h dup(?)
; char byte_140F4[9]
byte_140F4	db 9 dup(?)
byte_140FD	db 9 dup(?)
; char byte_14106[5]
byte_14106	db 5 dup(?)
byte_1410B	db 5 dup(?)
; __int32 word_14110
word_14110	dw ?
word_14112	dw ?
; char *off_14114
off_14114	dw ?
word_14116	dw ?
; int word_14118
word_14118	dw ?
; int word_1411A
word_1411A	dw ?
; int word_1411C
word_1411C	dw ?
; int word_1411E
word_1411E	dw ?
word_14120	dw ?
word_14122	dw ?
dword_14124	dd ?
word_14128	dw ?
word_1412A	dw ?
word_1412C	dw ?
word_1412E	dw ?
word_14130	dw ?
word_14132	dw ?
word_14134	dw ?
word_14136	dw ?
word_14138	dw ?
word_1413A	dw ?
word_1413C	dw ?
word_1413E	dw ?
word_14140	dw ?
word_14142	dw ?
; char byte_14144[82]
byte_14144	db 52h dup(?)
_BSS		ends


		end
